<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ONE Retail Club</title>
    <!-- ‡πÇ‡∏´‡∏•‡∏î Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Sarabun', sans-serif; 
            background-color: #ffffff;
            letter-spacing: normal !important;
            font-size: 1.125rem;
        }
        * {
            font-family: 'Sarabun', sans-serif !important;
            letter-spacing: normal !important;
            text-transform: none !important;
        }
        input[type="text"], input[type="number"], select, textarea {
            width: 100%;
            padding: 0.6rem;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            margin-top: 0.25rem;
            /* ‡∏õ‡∏£‡∏±‡∏ö font dropdown ‡πÅ‡∏•‡∏∞ input ‡∏•‡∏á 1 ‡∏Ç‡∏±‡πâ‡∏ô */
            font-size: 1rem;
        }
        thead.table-header-gray {
             background-color: #e5e7eb;
        }
        table thead th {
            font-weight: bold !important;
            font-size: 1rem !important;
            /* ‡∏´‡∏±‡∏ß‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏à‡∏±‡∏î font-align center */
            text-align: center !important;
        }
        table tbody tr {
            height: 30px !important;
        }
        .winner-row-animate {
            animation: fadeIn 0.5s ease-in-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        button:disabled {
            background-color: #f3f4f6 !important;
            color: #9ca3af !important;
            cursor: not-allowed !important;
            box-shadow: none !important;
            transform: none !important;
        }
        .loading-gif {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 10px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0); }
            100% { transform: rotate(360deg); }
        }
        .sortable-header {
            cursor: pointer;
            user-select: none;
            transition: background-color 0.2s;
        }
        .sortable-header:hover {
            background-color: #d1d5db;
        }
        .dashboard-card {
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .dashboard-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        /* Pagination Styles */
        .pagination-btn {
            padding: 0.25rem 0.75rem;
            border: 1px solid #d1d5db;
            background-color: #fff;
            color: #374151;
            font-size: 0.875rem;
            border-radius: 0.375rem;
            transition: all 0.2s;
        }
        .pagination-btn:hover:not(:disabled) {
            background-color: #f3f4f6;
        }
        .pagination-btn.active {
            background-color: #0056ff;
            color: #fff;
            border-color: #0056ff;
        }
        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body class="flex flex-col items-center min-h-screen py-10 bg-white">

    <div class="w-[95%] max-w-7xl p-0 bg-white rounded-lg">
        <!-- Header -->
        <div class="flex flex-col items-center mb-6 pt-6 px-8">
            <div class="text-center">
                <h1 class="text-2xl font-bold" style="color: #0056ff;">Recog Night White Elegance</h1>
            </div>
            <div class="text-center mt-2">
                <p id="currentDateTime" class="text-sm text-gray-400 font-medium"></p>
            </div>
        </div>
        
        <!-- Tab Navigation -->
        <div class="mb-6 border-b border-gray-200 px-8">
            <nav class="-mb-px flex space-x-1 overflow-x-auto" aria-label="Tabs">
                <button id="tab-dashboard" class="whitespace-nowrap py-3 px-4 border-b-2 font-medium text-base text-gray-700 bg-gray-300 border-blue-600">
                    ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Dashboard
                </button>
                <button id="tab-team-list" class="whitespace-nowrap py-3 px-4 border-b-2 font-medium text-base text-gray-500 bg-gray-100 border-transparent hover:text-gray-700 hover:border-gray-300">
                    ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏µ‡∏°
                </button>
                <button id="tab-group-view" class="whitespace-nowrap py-3 px-4 border-b-2 font-medium text-base text-gray-500 bg-gray-100 border-transparent hover:text-gray-700 hover:border-gray-300">
                    ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°
                </button>
                <button id="tab-employee-list" class="whitespace-nowrap py-3 px-4 border-b-2 font-medium text-base text-gray-500 bg-gray-100 border-transparent hover:text-gray-700 hover:border-gray-300">
                    ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
                </button>
                <button id="tab-gift-management" class="whitespace-nowrap py-3 px-4 border-b-2 font-medium text-base text-gray-500 bg-gray-100 border-transparent hover:text-gray-700 hover:border-gray-300">
                    ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
                </button>
                <button id="tab-register" class="whitespace-nowrap py-3 px-4 border-b-2 font-medium text-base text-gray-500 bg-gray-100 border-transparent hover:text-gray-700 hover:border-gray-300">
                    QR Code
                </button>
                <button id="tab-group-random" class="whitespace-nowrap py-3 px-4 border-b-2 font-medium text-base text-gray-500 bg-gray-100 border-transparent hover:text-gray-700 hover:border-gray-300">
                    ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏ö‡∏ö‡∏Å‡∏•‡∏∏‡πà‡∏°
                </button>
                <button id="tab-winners-list" class="whitespace-nowrap py-3 px-4 border-b-2 font-medium text-base text-gray-500 bg-gray-100 border-transparent hover:text-gray-700 hover:border-gray-300">
                    ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
                </button>
            </nav>
        </div>

        <!-- Dashboard Content -->
        <div id="dashboard-content" class="px-8 pb-8">
            <h2 class="text-xl font-semibold text-gray-800 mb-4 font-bold">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏ú‡∏π‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</h2>
            <div class="flex flex-col lg:flex-row gap-6 mb-8">
                <div class="lg:w-2/5">
                     <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 flex flex-col items-center justify-center h-full">
                         <p class="text-gray-600 text-base mb-4 font-bold">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                         <div class="relative w-64 h-64">
                             <canvas id="registrationBreakdownChart"></canvas>
                             <div class="absolute inset-0 flex flex-col items-center justify-center pointer-events-none">
                                 <span id="breakdownCenterTotal" class="text-2xl font-bold text-gray-900">0</span>
                                 <span class="text-base text-gray-500 font-bold">‡∏ú‡∏π‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</span>
                             </div>
                         </div>
                     </div>
                </div>
                <div class="lg:w-3/5">
                    <div class="flex gap-6 h-full">
                         <div class="w-2/3 bg-white p-6 rounded-lg shadow-sm border border-gray-200 flex flex-col items-center justify-center">
                            <p class="text-gray-600 text-base mb-4 font-bold">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</p>
                            <div class="relative w-64 h-64">
                                <canvas id="registrationDonutChart"></canvas>
                                <div class="absolute inset-0 flex flex-col items-center justify-center pointer-events-none">
                                    <span id="donutPercentage" class="text-2xl font-bold text-gray-900">0%</span>
                                    <span class="text-base text-gray-500 font-bold">%‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß</span>
                                </div>
                            </div>
                        </div>
                         <div class="w-1/3 flex flex-col justify-between space-y-2">
                            <div id="card-total" class="dashboard-card h-1/4 bg-blue-50 p-3 rounded-lg flex flex-col justify-center items-center text-center">
                                <p class="text-blue-700 text-sm font-bold">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                                <p id="targetCount" class="text-2xl font-bold text-blue-800 mt-1">0</p>
                            </div>
                            <div id="card-registered" class="dashboard-card h-1/4 bg-green-50 p-3 rounded-lg flex flex-col justify-center items-center text-center font-bold">
                                <p class="text-green-700 text-sm">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß</p>
                                <p id="participantsCountBox" class="text-2xl font-bold text-green-800 mt-1">0</p>
                            </div>
                            <div id="card-unregistered" class="dashboard-card h-1/4 bg-red-50 p-3 rounded-lg flex flex-col justify-center items-center text-center font-bold">
                                <p class="text-red-700 text-sm">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</p>
                                <p id="remainingCount" class="text-2xl font-bold text-red-800 mt-1">0</p>
                            </div>
                            <div id="card-extras" class="dashboard-card h-1/4 bg-yellow-50 p-3 rounded-lg flex flex-col justify-center items-center text-center font-bold">
                                <p class="text-yellow-700 text-sm">‡∏ú‡∏π‡πâ‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô</p>
                                <p id="attendeesCount" class="text-2xl font-bold text-yellow-800 mt-1">0</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Registration Timeline Row Updated with Side Stats -->
            <div class="mb-8 w-full">
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h3 class="text-xl font-bold text-gray-800 mb-6">‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</h3>
                    <div class="flex flex-col md:flex-row items-center gap-6">
                        <!-- Chart Area (Left) -->
                        <div class="flex-grow h-72 w-full md:w-3/4">
                            <canvas id="registrationTimelineChart"></canvas>
                        </div>
                        
                        <!-- Summary Stats (Right) -->
                        <div class="w-full md:w-1/4 flex flex-col gap-4">
                            <div class="bg-blue-50 border-l-4 border-blue-600 p-4 rounded-r-lg">
                                <p class="text-blue-700 text-sm font-bold uppercase">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢</p>
                                <p id="timelineTotalInvite" class="text-2xl font-black text-blue-900 mt-1">0</p>
                                <p class="text-[10px] text-blue-400 font-bold uppercase tracking-widest">(‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô)</p>
                            </div>
                            <div class="bg-orange-50 border-l-4 border-orange-500 p-4 rounded-r-lg">
                                <p class="text-orange-700 text-sm font-bold uppercase">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô</p>
                                <p id="timelineTotalExtra" class="text-2xl font-black text-orange-900 mt-1">0</p>
                                <p class="text-[10px] text-orange-400 font-bold uppercase tracking-widest">(‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mb-8">
                <div class="flex justify-between items-center mb-4">
                     <h2 class="text-xl font-semibold text-gray-800 font-bold">‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡∏ú‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</h2>
                     <button id="randomizeButton" class="px-6 py-3 text-base font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 shadow active:scale-95 transition-all font-bold">
                         ‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ (‡∏£‡∏≤‡∏¢‡∏Ñ‡∏ô)
                     </button>
                 </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                        <p class="text-gray-600 text-base mb-4 font-bold text-center">‡∏ú‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á (A1 - A24)</p>
                        <div class="h-[35rem]"><canvas id="teamBarChart1"></canvas></div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                         <p class="text-gray-600 text-base mb-4 font-bold text-center">‡∏ú‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á (B1 - B24)</p>
                        <div class="h-[35rem]"><canvas id="teamBarChart2"></canvas></div>
                    </div>
                </div>
            </div>
            <h2 class="text-xl font-semibold text-gray-800 mb-4 font-bold">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î (30 ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö)</h2>
            <div class="bg-white shadow-md rounded-lg overflow-hidden border border-gray-200">
                <div class="overflow-x-auto">
                    <table class="min-w-full text-sm">
                        <thead class="table-header-gray">
                            <tr>
                                <th class="px-4 py-4 text-center font-bold text-gray-600">‡∏£‡∏´‡∏±‡∏™</th>
                                <th class="px-4 py-4 text-center font-bold text-gray-600">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                                <th class="px-4 py-4 text-center font-bold text-gray-600">Member</th>
                                <th class="px-4 py-4 text-center font-bold text-gray-600">‡∏™‡∏≤‡∏Ç‡∏≤</th>
                                <th class="px-4 py-4 text-center font-bold text-gray-600">‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</th>
                                <th class="px-4 py-4 text-center font-bold text-gray-600">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                <th class="px-4 py-4 text-center font-bold text-gray-600">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody id="latestRegistrationsTableBody" class="bg-white divide-y divide-gray-100 text-sm">
                            <tr><td colspan="7" class="p-6 text-center text-gray-500 font-bold text-sm">Loading...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="mt-8 text-center">
                <button id="downloadCsvButton" class="px-8 py-3 text-base font-bold text-white bg-[#1f2937] rounded-md hover:bg-black shadow transition-all">
                    üì• Download CSV Report
                </button>
            </div>
        </div>

        <!-- Team List Content -->
        <div id="team-list-content" class="hidden pb-8 px-0">
            <div class="bg-white overflow-hidden">
                <div class="px-6 py-4 border-b grid grid-cols-1 md:grid-cols-3 gap-4 items-center bg-gray-50">
                    <div class="bg-white p-4 rounded-xl text-center border shadow-sm">
                        <p class="text-base text-blue-700 font-bold">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ ‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</p>
                        <p id="managerEmployeeCount" class="text-2xl font-bold text-blue-900 mt-1">0</p>
                    </div>
                    <div class="bg-white p-4 rounded-xl text-center border shadow-sm font-bold">
                        <p class="text-base text-green-700">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ ‡∏ó‡∏µ‡∏°</p>
                        <p id="teamMemberCountElem" class="text-2xl font-bold text-green-900 mt-1">0</p>
                    </div>
                    <div class="bg-white p-4 rounded-xl border shadow-sm font-bold flex flex-col"> 
                        <p class="text-sm text-gray-400 font-bold mb-1 uppercase tracking-tight">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î:</p>
                        <textarea id="definedTeamNamesInput" class="!text-xs h-16 resize-none bg-blue-50 border-blue-100 font-mono" placeholder="A,B,C..."></textarea>
                        <button id="updateTeamNamesBtn" class="mt-1 text-[10px] bg-blue-600 text-white py-1 rounded uppercase">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡∏°</button>
                    </div>
                </div>
                <div class="px-6 py-4 border-b flex flex-col md:flex-row gap-4 justify-center">
                     <button id="resetTeamButton" class="w-full md:w-auto px-8 py-3 text-base font-bold text-white bg-red-600 rounded-md hover:bg-red-700 shadow transition-all">Reset System Data</button>
                </div>
                 <div class="p-6">
                     <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4">
                         <div>
                             <h3 class="text-xl font-bold border-l-4 border-blue-600 pl-3">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h3>
                             <div id="teamStatsContainer" class="hidden flex flex-wrap gap-2 mt-2">
                                 <span class="px-3 py-1 rounded-md bg-gray-100 text-gray-700 text-sm font-bold border">Total: <span id="teamStatsTotal">0</span></span>
                                 <span class="px-3 py-1 rounded-md bg-green-50 text-green-700 text-sm font-bold border border-green-200">Reg: <span id="teamStatsRegistered">0</span></span>
                             </div>
                         </div>
                         <div class="flex items-center">
                             <label for="teamSelect" class="text-base font-bold text-gray-600 mr-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á:</label>
                             <select id="teamSelect" class="rounded-md border-gray-300 text-sm py-2 px-6 bg-[#f97316] text-white font-bold w-56 focus:ring-0">
                                 <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡∏° --</option>
                             </select>
                         </div>
                     </div>
                     <div class="overflow-x-auto border rounded-xl shadow-sm">
                        <table class="min-w-full text-lg">
                            <thead class="table-header-gray">
                                <tr>
                                    <th class="px-4 py-4 text-center font-bold">#</th>
                                    <th class="px-4 py-4 text-left font-bold">Employee ID</th>
                                    <th class="px-4 py-4 text-left font-bold">Full Name</th>
                                    <th class="px-4 py-4 text-left font-bold">Member</th>
                                    <th class="px-4 py-4 text-left font-bold">‡∏™‡∏≤‡∏Ç‡∏≤</th>
                                    <th class="px-4 py-4 text-left font-bold">‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</th>
                                    <th class="px-4 py-4 text-left font-bold">Status</th>
                                    <th class="px-4 py-4 font-bold text-center">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</th>
                                </tr>
                            </thead>
                            <tbody id="selectedTeamTableBody" class="divide-y divide-gray-100 bg-white"></tbody>
                        </table>
                    </div>
                 </div>
            </div>
        </div>
        
        <!-- Group View Content -->
        <div id="group-view-content" class="hidden pb-8 px-6">
             <div class="bg-white overflow-hidden">
                <!-- Search Boxes Container -->
                <div class="flex flex-col md:flex-row gap-6 mb-6">
                    <!-- Box 1: ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (50% Width) -->
                    <div class="md:w-1/2 p-6 border-b bg-gray-50 rounded-xl shadow-inner">
                        <h3 class="text-xl font-bold text-gray-800 mb-3">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h3>
                        <div class="flex items-end space-x-2">
                            <div class="flex-grow">
                                <label for="searchEmployeeIdInput" class="block text-sm font-bold text-gray-500 mb-1">‡∏£‡∏´‡∏±‡∏™</label>
                                <input type="text" id="searchEmployeeIdInput" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm !text-sm p-2" placeholder="‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô 5-6 ‡∏´‡∏•‡∏±‡∏Å">
                            </div>
                            <button id="searchEmployeeButton" class="px-8 py-2 !text-sm font-bold text-white bg-blue-600 rounded-md hover:bg-blue-700 shadow transition-all active:scale-95">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
                        </div>
                        <p id="searchEmployeeError" class="text-red-600 text-sm mt-2 font-bold h-5"></p>
                    </div>

                    <!-- Box 2: ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô (50% Width) -->
                    <div class="md:w-1/2 p-6 border-b bg-green-50 rounded-xl shadow-inner">
                        <h3 class="text-xl font-bold text-green-800 mb-3 uppercase">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h3>
                        <div class="flex items-end space-x-2">
                            <div class="flex-grow">
                                <label for="searchRegEmployeeIdInput" class="block text-sm font-bold text-green-600 mb-1">‡∏£‡∏´‡∏±‡∏™</label>
                                <input type="text" id="searchRegEmployeeIdInput" class="mt-1 block w-full rounded-md border-green-300 shadow-sm !text-sm p-2" placeholder="‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô">
                            </div>
                            <button id="searchRegEmployeeButton" class="px-8 py-2 !text-sm font-bold text-white bg-green-600 rounded-md hover:bg-green-700 shadow transition-all active:scale-95 uppercase">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</button>
                        </div>
                        <p id="searchRegEmployeeError" class="text-red-600 text-sm mt-2 font-bold h-5"></p>
                    </div>
                </div>

                <div class="px-6 py-4 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4">
                    <div>
                        <h2 class="text-xl font-bold uppercase">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</h2>
                        <div id="gvOverallStatsContainer" class="hidden flex flex-wrap gap-2 mt-2">
                             <span class="px-3 py-1 rounded-md bg-gray-100 text-sm font-bold border">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <span id="gvOverallStatsTotal">0</span></span>
                             <span class="px-3 py-1 rounded-md bg-green-50 text-green-700 text-sm font-bold border border-green-200">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß: <span id="gvOverallStatsRegistered">0</span></span>
                        </div>
                    </div>
                    <div class="flex items-center">
                         <label for="groupViewManagerFilter" class="text-base font-bold text-gray-600 mr-2">Manager:</label>
                         <select id="groupViewManagerFilter" class="rounded-md border-gray-300 text-sm py-2 px-6 bg-[#f97316] text-white font-bold w-56 focus:ring-0">
                             <option value="">-- ‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î --</option>
                         </select>
                    </div>
                </div>

                <!-- New Layout: Recog Night Header + Seat Grid -->
                <div class="w-full flex justify-center mb-6 px-6">
                    <div class="w-[60%] bg-[#0056ff] text-white text-center py-3 rounded-xl font-bold shadow-md">
                        ‡∏ú‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á Recog Night White Elegance
                    </div>
                </div>

                <div class="px-6 flex w-full items-stretch gap-0">
                    <!-- ‡πÇ‡∏ã‡∏ô A (48%) ‡∏õ‡∏£‡∏±‡∏ö grid-cols-6 -->
                    <div id="teamGridA" class="w-[48%] grid grid-cols-6 gap-4 h-fit"></div>
                    
                    <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á ‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ö‡πà‡∏á (4%) -->
                    <div class="w-[4%] flex justify-center py-2">
                        <!-- Border 2% ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á 4% ‡∏ß‡∏≤‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á -->
                        <div class="w-1 bg-gray-200 rounded-full h-full opacity-50" id="gridDivider"></div>
                    </div>

                    <!-- ‡πÇ‡∏ã‡∏ô B (48%) ‡∏õ‡∏£‡∏±‡∏ö grid-cols-6 -->
                    <div id="teamGridB" class="w-[48%] grid grid-cols-6 gap-4 h-fit"></div>
                </div>
                
                <div class="p-10"></div> <!-- Spacer -->
             </div>
        </div>
        
        <!-- Employee List Content -->
        <div id="employee-list-content" class="hidden pb-8 px-0">
             <div class="bg-white overflow-hidden">
                <div class="px-8 py-6 border-b flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-gray-50">
                    <div>
                        <h2 class="text-xl font-bold uppercase">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
                        <div id="empStatsContainer" class="hidden flex flex-wrap gap-2 mt-3">
                            <span class="px-4 py-1.5 rounded-xl bg-gray-100 text-gray-700 text-sm font-black border shadow-sm">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <span id="empStatsTotal">0</span></span>
                            <span class="px-4 py-1.5 rounded-xl bg-green-50 text-green-700 text-sm font-black border border-green-200 shadow-sm">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô: <span id="empStatsRegistered">0</span></span>
                            <span class="px-4 py-1.5 rounded-xl bg-red-50 text-red-700 text-sm font-black border border-red-200 shadow-sm">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏•‡∏á: <span id="empStatsUnregistered">0</span></span>
                            <span class="px-4 py-1.5 rounded-xl bg-blue-50 text-blue-700 text-sm font-black border border-blue-200 shadow-sm">‡∏Ñ‡∏¥‡∏î‡πÄ‡∏õ‡πá‡∏ô: <span id="empStatsPercent">0%</span></span>
                        </div>
                    </div>
                    <div class="flex items-center">
                         <label for="managerFilterSelect" class="text-base font-bold text-gray-600 mr-2">‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á:</label>
                         <select id="managerFilterSelect" class="rounded-xl border-gray-300 text-sm py-2 px-6 bg-[#f97316] text-white font-bold w-56 focus:ring-0">
                             <option value="">-- ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î --</option>
                         </select>
                     </div>
                </div>
                <div class="overflow-x-auto p-8">
                    <table class="min-w-full text-sm shadow-sm border rounded-2xl overflow-hidden">
                        <thead class="table-header-gray">
                            <tr>
                                <th class="px-4 py-4 text-center font-bold">#</th>
                                <th class="px-4 py-4 text-center font-bold sortable-header" id="sort-emp-id">‡∏£‡∏´‡∏±‡∏™ ‚ÜïÔ∏è</th>
                                <th class="px-4 py-4 text-center font-bold sortable-header" id="sort-emp-name">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• ‚ÜïÔ∏è</th>
                                <th class="px-4 py-4 text-center font-bold sortable-header" id="sort-emp-branch">‡∏™‡∏≤‡∏Ç‡∏≤ ‚ÜïÔ∏è</th>
                                <th class="px-4 py-4 text-center font-bold sortable-header" id="sort-emp-manager">‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î ‚ÜïÔ∏è</th>
                                <th class="px-4 py-4 text-center font-bold sortable-header" id="sort-emp-nickname">Member ‚ÜïÔ∏è</th>
                                <th class="px-4 py-4 text-center font-bold sortable-header" id="sort-emp-gift">‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• ‚ÜïÔ∏è</th>
                                <th class="px-4 py-4 text-center font-bold">‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</th>
                                <th class="px-4 py-4 text-center font-bold sortable-header" id="sort-emp-status">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‚ÜïÔ∏è</th>
                                <th class="px-4 py-4 text-center font-bold">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody id="employeeListTableBody" class="divide-y divide-gray-100 bg-white"></tbody>
                    </table>
                </div>

                <!-- Pagination Container -->
                <div id="empPaginationContainer" class="flex justify-center items-center gap-2 py-6 border-t border-gray-100"></div>

                <!-- ‡∏õ‡∏∏‡πà‡∏° Download CSV ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å -->
                <div class="pb-8 text-center">
                    <button id="downloadEmployeeCsvButton" class="px-8 py-3 text-base font-bold text-white bg-[#1f2937] rounded-md hover:bg-black shadow transition-all uppercase">
                        üì• Download Employee CSV
                    </button>
                </div>
            </div>
        </div>

        <!-- Gift Management Content -->
        <div id="gift-management-content" class="hidden pb-8 px-6">
            <div class="bg-white rounded-xl border border-gray-200 p-8 shadow-sm">
                <h2 class="text-xl font-bold text-gray-800 mb-6 uppercase border-l-4 border-blue-600 pl-3">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h2>
                <div class="bg-gray-50 p-6 rounded-2xl border mb-8 max-w-[1000px] shadow-inner">
                    <div class="flex flex-wrap gap-4 items-end">
                        <div class="flex-grow" style="max-width: 600px;">
                            <label class="block text-sm font-bold text-gray-500 mb-1">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</label>
                            <input type="text" id="giftNameInput" class="!text-sm" placeholder="‡πÄ‡∏ä‡πà‡∏ô iPhone 15">
                        </div>
                        <div style="width: 90px;">
                            <label class="block text-sm font-bold text-gray-500 mb-1">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label>
                            <input type="number" id="giftQtyInput" class="!text-sm text-center" value="1" min="1">
                        </div>
                        <div class="flex items-end">
                            <button id="addGiftBtn" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition-all active:scale-95 shadow-lg !text-xs">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</button>
                        </div>
                    </div>
                </div>
                <div class="overflow-x-auto border rounded-xl shadow-sm">
                    <table class="min-w-full text-base">
                        <thead class="table-header-gray">
                            <tr>
                                <th class="px-4 py-4 text-center font-bold w-24">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
                                <th class="px-4 py-4 text-left font-bold">‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</th>
                                <th class="px-4 py-4 text-center font-bold">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</th>
                                <th class="px-4 py-4 text-center font-bold">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th>
                                <th class="px-4 py-4 text-center font-bold">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°</th>
                                <th class="px-4 py-4 text-center font-bold">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody id="giftListTableBody" class="divide-y divide-gray-100 bg-white">
                            <tr><td colspan="6" class="p-6 text-center text-gray-400 font-bold">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Winners List Content -->
        <div id="winners-list-content" class="hidden pb-8 px-6">
            <div class="bg-white rounded-xl border border-gray-200 p-8 shadow-sm">
                <h2 class="text-xl font-bold text-gray-800 mb-6 uppercase border-l-4 border-green-600 pl-3">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</h2>
                <div id="winnersByGiftContainer" class="space-y-12">
                    <div class="p-10 text-center text-gray-400 font-bold italic">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</div>
                </div>
                <div class="mt-12 text-center">
                    <button id="downloadWinnersCsvButton" class="px-8 py-3 text-base font-bold text-white bg-green-600 rounded-md hover:bg-green-700 shadow transition-all active:scale-95">
                        üì• Download Winners CSV Report
                    </button>
                </div>
            </div>
        </div>

        <!-- Register Content -->
        <div id="register-content" class="hidden pb-8 px-6 text-center">
             <div class="bg-white p-12 rounded-[3rem] shadow-xl border border-gray-100 flex flex-col items-center">
                <h2 class="text-xl font-bold text-gray-800 mb-10 font-black">QR Code</h2>
                <div class="p-6 bg-white border-8 border-blue-600 rounded-[3rem] shadow-2xl mb-4 hover:scale-105 transition-all">
                    <img src="./images/QRcode-CRSG.png" alt="QR Code" class="w-80 h-80" onerror="this.src='https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=REGISTER'">
                </div>
             </div>
        </div>

        <!-- Group Random Content -->
        <div id="group-random-content" class="hidden pb-8 px-6">
            <div class="bg-white rounded-xl border border-gray-200 p-8 shadow-sm">
                
                <div class="flex flex-col md:flex-row gap-4 mb-6 items-stretch">
                    <div class="md:w-[30%] grid grid-cols-1 gap-2">
                        <div class="bg-blue-50 p-3 rounded-xl border border-blue-100 shadow-sm text-center">
                            <p class="text-sm text-blue-700 uppercase font-black">‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏•‡∏∏‡πâ‡∏ô‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                            <p id="grTotalEligible" class="text-xl font-black text-blue-900">0</p>
                        </div>
                        <div class="bg-orange-50 p-3 rounded-xl border border-orange-100 shadow-sm text-center">
                            <p class="text-sm text-orange-700 uppercase font-black">‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏™‡∏∏‡πà‡∏°</p>
                            <p id="grRemainingEligible" class="text-xl font-black text-orange-900">0</p>
                        </div>
                        <div class="bg-green-50 p-3 rounded-xl border border-green-100 shadow-sm text-center">
                            <p class="text-sm text-green-700 uppercase font-black">‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÅ‡∏•‡πâ‡∏ß</p>
                            <p id="grTotalWinners" class="text-xl font-black text-green-900">0</p>
                        </div>
                    </div>

                    <div class="md:w-[70%] flex flex-col gap-3">
                        <div class="bg-gray-50 px-4 py-3 rounded-xl border shadow-sm w-full">
                            <label class="block text-sm font-bold text-gray-400 mb-1 uppercase tracking-wider text-center">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°</label>
                            <div id="grGiftBox" class="flex items-center justify-between bg-white border-2 border-dashed border-gray-200 rounded-xl p-3 transition-all">
                                <div class="flex flex-col text-left">
                                    <p id="grGiftDisplayName" class="text-base font-black text-gray-400 leading-tight uppercase">-- ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• --</p>
                                    <p id="grGiftDisplayQty" class="text-sm font-bold text-gray-300 mt-1">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: - ‡∏ä‡∏¥‡πâ‡∏ô</p>
                                </div>
                                <button id="openGroupGiftPickerBtn" class="px-4 py-1.5 rounded-lg bg-blue-50 text-blue-700 text-xs font-black border border-blue-200 shadow-sm shrink-0 active:scale-95 transition-all">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô</button>
                            </div>
                        </div>

                        <div class="flex items-stretch gap-3 w-full flex-grow min-h-[90px]">
                            <div class="w-[30%] bg-gray-50 p-3 rounded-xl border shadow-sm flex flex-col justify-center items-center text-center">
                                <label class="text-sm font-bold text-gray-500 uppercase mb-1">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ</label>
                                <input type="number" id="grDrawCount" value="0" min="0" class="w-full text-center text-3xl font-black text-blue-600 bg-white border border-blue-100 rounded-lg focus:border-blue-500 focus:ring-0 py-1 shadow-inner">
                            </div>
                            <div class="w-[70%]">
                                <button id="grStartDrawBtn" class="w-full h-full text-xl font-black text-white bg-[#0056ff] rounded-xl hover:bg-blue-700 shadow-lg transition-all active:scale-95 disabled:bg-gray-400 uppercase tracking-widest flex items-center justify-center">
                                    üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏ö‡∏ö‡∏Å‡∏•‡∏∏‡πà‡∏°
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-0 border-t border-gray-100 pt-4">
                    <div class="p-4 border-r border-gray-100">
                        <h4 class="text-xl font-black text-blue-600 uppercase mb-3 text-center">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà 1</h4>
                        <div id="grBoxLeft" class="min-h-[250px] flex flex-col space-y-1.5"></div>
                    </div>
                    <div class="p-4">
                        <h4 class="text-xl font-black text-indigo-600 uppercase mb-3 text-center">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà 2</h4>
                        <div id="grBoxRight" class="min-h-[250px] flex flex-col space-y-1.5"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->

    <!-- LIGHTBOX: Manual Registration -->
    <div id="manualRegisterModal" class="hidden fixed inset-0 z-[140] bg-gray-900 bg-opacity-80 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-10 w-full max-w-lg border-t-8 border-green-600">
            <h3 class="text-xl font-bold mb-6 uppercase border-b pb-3 text-gray-800 text-center">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</h3>
            <div id="regEmpDetail" class="space-y-4 mb-6">
                <div class="flex justify-between items-center"><label class="text-sm font-bold text-gray-400 uppercase">Emp ID</label><p id="regEmpId" class="text-xl font-bold text-blue-700 font-mono"></p></div>
                <div class="flex justify-between items-start flex-col"><label class="text-sm font-bold text-gray-400 uppercase mb-1">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label><p id="regEmpName" class="font-black text-gray-900 text-lg"></p></div>
                
                <div class="flex justify-between items-center bg-gray-50 p-2 rounded-lg"><label class="text-xs font-bold text-gray-400 uppercase">‡∏™‡∏≤‡∏Ç‡∏≤ (Branch)</label><p id="regEmpBranch" class="text-sm font-bold text-gray-700"></p></div>
                <div class="flex justify-between items-center bg-gray-50 p-2 rounded-lg"><label class="text-xs font-bold text-gray-400 uppercase">‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î (Manager)</label><p id="regEmpManager" class="text-sm font-bold text-gray-700"></p></div>

                <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô (NickName) -->
                <div>
                    <label class="text-sm font-bold text-gray-400 mb-1 block">Member</label>
                    <input type="text" id="regEmpNickname" class="bg-gray-50 font-bold border-2 focus:border-green-500 outline-none p-3 rounded-xl text-base" placeholder="Member">
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="text-sm font-bold text-gray-400 mb-1 block">‡πÇ‡∏ï‡πä‡∏∞‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</label>
                        <input type="text" id="regEmpSeat" class="bg-gray-50 font-bold border-2 focus:border-green-500 outline-none p-3 rounded-xl text-base" placeholder="‡πÄ‡∏ä‡πà‡∏ô A1, A2">
                    </div>
                    <div>
                        <label class="text-sm font-bold text-gray-400 mb-1 block">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
                        <select id="regEmpInviteStatus" class="bg-gray-50 font-bold border-2 focus:border-green-500 outline-none p-3 rounded-xl text-base">
                            <option value="">-- ‡∏ß‡πà‡∏≤‡∏á --</option>
                            <option value="invite">invite</option>
                        </select>
                    </div>
                </div>
                <p id="regManualError" class="text-red-600 text-sm font-black italic h-4"></p>
            </div>
            <div class="flex justify-end gap-3 font-bold">
                <button id="closeManualRegModalButton" class="px-6 py-2 bg-gray-100 rounded-xl text-sm uppercase transition-all hover:bg-gray-200">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button id="saveManualRegButton" class="px-8 py-2 bg-green-600 text-white rounded-xl text-sm font-black shadow-lg transition-all hover:bg-green-700 uppercase">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            </div>
        </div>
    </div>

    <!-- LIGHTBOX: Group Detail -->
    <div id="groupViewModal" class="hidden fixed inset-0 z-50 overflow-y-auto bg-gray-900 bg-opacity-80 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl p-6 w-full max-w-[90%] max-h-[90vh] flex flex-col border-t-8 border-blue-600 text-center">
            <div class="flex justify-between items-start mb-4 border-b pb-4">
                 <div class="text-left">
                     <h3 id="groupViewModalTitle" class="text-xl font-bold text-gray-800">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏µ‡∏°</h3>
                     <div id="groupViewStatsContainer" class="flex flex-wrap gap-2 mt-2">
                         <span class="px-3 py-1 rounded-full bg-gray-100 text-sm font-bold border uppercase">Total: <span id="groupViewStatsTotal">0</span></span>
                         <span class="px-3 py-1 rounded-full bg-green-50 text-green-700 text-sm font-bold border border-green-200 uppercase">Reg: <span id="groupViewStatsRegistered">0</span></span>
                     </div>
                 </div>
                 <button id="closeGroupViewModalButton" class="text-gray-400 hover:text-gray-600 text-4xl font-light transition-all">&times;</button>
            </div>
            <div class="flex-grow overflow-y-auto border rounded-lg shadow-inner bg-gray-50">
                 <table class="min-w-full text-sm">
                    <thead class="table-header-gray sticky top-0 z-10">
                        <tr>
                            <th class="px-4 py-4 text-center font-bold text-sm">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
                            <th class="px-4 py-4 text-left font-bold text-sm">ID</th>
                            <th class="px-4 py-4 text-left font-bold text-sm">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                            <th class="px-4 py-4 text-left font-bold text-sm">Member</th>
                            <th class="px-4 py-4 text-left font-bold text-sm">‡∏™‡∏≤‡∏Ç‡∏≤</th>
                            <th class="px-4 py-4 text-left font-bold text-sm">‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</th>
                            <th class="px-4 py-4 text-left font-bold text-sm">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                            <th class="px-4 py-4 text-center font-bold text-sm">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</th>
                        </tr>
                    </thead>
                    <tbody id="groupViewTableBody" class="divide-y divide-gray-100 bg-white"></tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- LIGHTBOX: Dashboard List Detail -->
    <div id="dashboardListModal" class="hidden fixed inset-0 z-50 overflow-y-auto bg-gray-900 bg-opacity-80 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl p-6 w-full max-w-[90%] max-h-[90vh] flex flex-col border-t-8 border-blue-600 text-center">
            <div class="flex justify-between items-start mb-4 border-b pb-4">
                 <div class="text-left">
                     <h3 id="dashboardListModalTitle" class="text-xl font-bold text-gray-800">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h3>
                     <p class="text-sm text-gray-400 font-bold mt-1 uppercase tracking-tight">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î <span id="dashboardListCount">0</span> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</p>
                 </div>
                 <button id="closeDashboardListModalButton" class="text-gray-400 hover:text-gray-600 text-4xl font-light transition-all">&times;</button>
            </div>
            <div class="flex-grow overflow-y-auto border rounded-lg shadow-inner bg-gray-50">
                 <table class="min-w-full text-sm">
                    <thead class="table-header-gray sticky top-0 z-10">
                        <tr>
                            <th class="px-4 py-4 text-center font-bold">‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà</th>
                            <th class="px-4 py-4 text-center font-bold">‡∏£‡∏´‡∏±‡∏™</th>
                            <th class="px-4 py-4 text-left font-bold">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                            <th class="px-4 py-4 text-left font-bold">‡∏™‡∏≤‡∏Ç‡∏≤</th>
                            <th class="px-4 py-4 text-left font-bold">‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</th>
                            <th class="px-4 py-4 text-center font-bold">‡πÇ‡∏ï‡πä‡∏∞‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</th>
                            <th class="px-4 py-4 text-center font-bold" id="dashListRegHeader">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</th>
                            <th class="px-4 py-4 text-center font-bold">Admin</th>
                        </tr>
                    </thead>
                    <tbody id="dashboardListTableBody" class="divide-y divide-gray-100 bg-white"></tbody>
                </table>
            </div>
        </div>
    </div>
    
    <!-- MODAL: Lucky Draw Individual -->
    <div id="randomizeModal" class="hidden fixed inset-0 z-40 bg-gray-600 bg-opacity-75 flex items-center justify-center">
        <div class="bg-white rounded-lg shadow-xl p-8 w-[75%] h-[80vh] flex flex-col mx-4 border-t-8 border-blue-600 relative">
            <button id="closeRandomizeModalButtonX" class="absolute top-2 right-4 text-gray-400 hover:text-gray-600 text-5xl font-light transition-all z-10">&times;</button>
            <h3 class="text-xl font-bold text-center text-gray-900 mb-6 uppercase">‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</h3>
            <div class="max-w-lg mx-auto mb-8 w-full">
                <label class="block text-sm font-bold text-gray-400 mb-2 text-center">‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏∏‡πà‡∏°</label>
                <div id="indGiftBox" class="flex items-center justify-between bg-blue-50 border-2 border-dashed border-blue-200 rounded-2xl p-3 transition-colors">
                    <div class="flex flex-col text-left">
                        <p id="indGiftDisplayName" class="text-lg font-black text-blue-400 leading-tight">-- ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• --</p>
                        <p id="indGiftDisplayQty" class="text-sm text-black-400 mt-2">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: - ‡∏ä‡∏¥‡πâ‡∏ô</p>
                    </div>
                    <button id="openGiftPickerBtn" class="px-4 py-1.5 rounded-xl bg-red-50 text-red-700 text-sm font-black border border-red-200 shadow-sm">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô</button>
                </div>
            </div>
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="bg-blue-50 p-4 rounded-xl text-center border font-bold"><p class="text-base text-blue-700 uppercase">‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</p><p id="modalParticipantsCount" class="text-2xl font-bold">0</p></div>
                <div class="bg-green-50 p-4 rounded-xl text-center border font-bold"><p class="text-base text-green-700 uppercase">‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏•‡πâ‡∏ß</p><p id="modalDrawnCount" class="text-2xl font-bold">0</p></div>
            </div>
            <div class="flex justify-center space-x-2 mb-6 shrink-0">
                <div id="digit1" class="w-16 h-20 bg-black text-white text-4xl font-mono font-bold rounded-lg flex items-center justify-center shadow-lg">0</div>
                <div id="digit2" class="w-16 h-20 bg-black text-white text-4xl font-mono font-bold rounded-lg flex items-center justify-center shadow-lg">0</div>
                <div id="digit3" class="w-16 h-20 bg-black text-white text-4xl font-mono font-bold rounded-lg flex items-center justify-center shadow-lg">0</div>
                <div id="digit4" class="w-16 h-20 bg-black text-white text-4xl font-mono font-bold rounded-lg flex items-center justify-center shadow-lg">0</div>
                <div id="digit5" class="w-16 h-20 bg-black text-white text-4xl font-mono font-bold rounded-lg flex items-center justify-center shadow-lg">0</div>
            </div>
            <div class="mb-6 flex flex-col items-center shrink-0">
                <button id="startRandomizeButton" class="w-[40%] px-6 py-4 text-base text-white bg-blue-600 rounded-lg font-bold hover:bg-blue-700 shadow-xl active:scale-95 disabled:bg-gray-400 uppercase" disabled>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Ñ‡∏ô</button>
                <p id="randomizeError" class="text-red-600 text-base mt-3 font-bold uppercase"></p>
            </div>
            <div class="flex-grow overflow-y-auto border rounded-xl bg-gray-50 font-bold">
                <table class="min-w-full text-base">
                    <thead class="bg-gray-200 sticky top-0 uppercase text-gray-700">
                        <tr><th class="px-4 py-4 text-left">‡∏£‡∏´‡∏±‡∏™</th><th class="px-4 py-4 text-left">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ</th><th class="px-4 py-4 text-left">‡∏™‡∏≤‡∏Ç‡∏≤/‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</th><th class="px-4 py-4 text-center">Action</th></tr>
                    </thead>
                    <tbody id="drawnWinnersTableBody" class="bg-white divide-y"></tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- MODAL: Gift Picker -->
    <div id="giftPickerModal" class="hidden fixed inset-0 z-[100] bg-gray-900 bg-opacity-80 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-6 w-[70%] modal-enter flex flex-col border-t-8 border-orange-500">
            <div class="flex justify-between items-center border-b pb-3 mb-4">
                <h3 id="giftPickerTitle" class="text-xl font-black text-gray-800 uppercase">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h3>
                <button id="closeGiftPickerBtn" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
            </div>
            <div class="overflow-y-auto max-h-[60vh] space-y-2" id="giftPickerList"></div>
        </div>
    </div>

    <!-- POPUP WINNER Detail -->
    <div id="winnerDetailModal" class="hidden fixed inset-0 z-[200] bg-gray-900 bg-opacity-95 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-12 max-w-xl w-full text-center border-t-8 border-blue-600 transform scale-110">
            <h3 class="text-xl font-black text-blue-600 mb-4 uppercase">üéä WINNER üéä</h3>
            <div class="text-6xl mb-6">üèÜ</div>
            <p id="winnerName" class="text-2xl font-black text-gray-900 my-4 leading-tight uppercase"></p>
            <p id="winnerGiftText" class="text-xl font-bold text-orange-600 mb-6"></p>
            <div class="bg-blue-50 p-6 rounded-[2rem] mb-10 border border-blue-100 shadow-inner text-center">
                <p id="winnerEmployeeId" class="text-xl font-black text-blue-800 font-mono"></p>
                <p id="winnerBU" class="text-lg font-bold text-gray-600 mt-2 uppercase"></p>
                <p id="winnerTeam" class="text-base font-medium text-gray-400 mt-2 uppercase"></p>
            </div>
            <div class="flex flex-col gap-4">
                <button id="cancelWinnerButton" class="text-base font-bold text-red-400 hover:text-red-600 hover:underline transition-all uppercase">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (Cancel)</button>
                <button id="closeWinnerModalButton" class="px-12 py-3 text-base font-black bg-blue-600 text-white rounded-[1.5rem] hover:bg-blue-700 shadow-2xl active:scale-95 transition-all">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢!</button>
            </div>
        </div>
    </div>

    <!-- MODAL: Edit Profile -->
    <div id="editEmployeeModal" class="hidden fixed inset-0 z-[120] bg-gray-900 bg-opacity-80 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-10 w-full max-w-md border-b-8 border-orange-500">
            <h3 class="text-xl font-bold mb-8 uppercase border-b pb-3 text-gray-800 font-bold text-center">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h3>
            <div class="space-y-6">
                <div class="flex justify-between items-center"><label class="text-sm font-bold text-gray-400 uppercase">Emp ID</label><p id="editEmpId" class="text-xl font-bold text-blue-700 font-mono"></p></div>
                <div class="flex justify-between items-start flex-col"><label class="text-sm font-bold text-gray-400 uppercase mb-1">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label><p id="editEmpName" class="font-black text-gray-900 text-lg"></p></div>
                
                <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô (NickName) ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç -->
                <div>
                    <label class="text-sm font-bold text-gray-400 uppercase mb-1 block font-bold">Member</label>
                    <input type="text" id="editEmpNickname" class="bg-gray-50 font-bold border-2 focus:border-blue-500 outline-none p-3 rounded-xl text-base" placeholder="Member">
                </div>

                <div><label class="text-sm font-bold text-gray-400 uppercase mb-1 block font-bold">Manager / ‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</label><input type="text" id="editEmpManager" class="bg-gray-50 font-bold border-2 focus:border-blue-500 outline-none p-3 rounded-xl text-base"></div>
                <div><label class="text-sm font-bold text-gray-400 uppercase mb-1 block font-bold">Team / ‡∏ú‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</label><input type="text" id="editEmpTeam" class="bg-gray-50 font-bold border-2 focus:border-blue-500 outline-none p-3 rounded-xl text-base"></div>
                <p id="editError" class="text-red-600 text-sm font-black italic mt-2"></p>
            </div>
            <div class="mt-10 flex justify-end gap-3 font-bold">
                <button id="closeEditModalButton" class="px-6 py-2 bg-gray-100 rounded-xl text-sm uppercase transition-all hover:bg-gray-200">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button id="saveEditModalButton" class="px-8 py-2 bg-blue-600 text-white rounded-xl text-sm font-black shadow-lg transition-all hover:bg-blue-700 uppercase">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            </div>
        </div>
    </div>

    <!-- MODAL: Edit Gift -->
    <div id="editGiftModal" class="hidden fixed inset-0 z-[150] bg-gray-900 bg-opacity-80 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-10 w-full max-w-md border-b-8 border-orange-500">
            <h3 class="text-xl font-bold mb-8 uppercase border-b pb-3 text-gray-800 font-bold text-center">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h3>
            <div class="space-y-6">
                <div><label class="text-sm font-bold text-gray-400 uppercase mb-1 block font-bold">‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</label><input type="text" id="editGiftName" class="!text-sm" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ó‡∏µ‡∏ß‡∏µ 50 ‡∏ô‡∏¥‡πâ‡∏ß"></div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="text-sm font-bold text-gray-400 uppercase mb-1 block font-bold">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</label>
                        <input type="number" id="editGiftTotalQty" class="!text-sm text-center w-full bg-gray-50 font-bold border-2 focus:border-blue-500 outline-none p-3 rounded-xl" min="1">
                    </div>
                    <div>
                        <label class="text-sm font-bold text-gray-400 uppercase mb-1 block font-bold">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</label>
                        <input type="number" id="editGiftRemainingQty" class="!text-sm text-center w-full bg-gray-50 font-bold border-2 focus:border-blue-500 outline-none p-3 rounded-xl" min="0">
                    </div>
                </div>
            </div>
            <div class="mt-10 flex justify-end gap-3 font-bold">
                <button id="closeEditGiftModalBtn" class="px-6 py-2 bg-gray-100 rounded-xl text-sm uppercase transition-all hover:bg-gray-200">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button id="saveEditGiftBtn" class="px-8 py-2 bg-blue-600 text-white rounded-xl text-sm font-black shadow-lg transition-all hover:bg-blue-700 uppercase">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            </div>
        </div>
    </div>

    <!-- MODAL: Confirmation Center -->
    <div id="confirmModal" class="hidden fixed inset-0 z-[300] bg-gray-900 bg-opacity-80 flex items-center justify-center p-4">
        <div id="confirmModalInner" class="bg-white rounded-2xl p-10 max-w-lg w-full shadow-2xl text-center transition-all duration-300">
            <h3 id="confirmTitle" class="text-xl font-black mb-4 uppercase text-red-600">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô?</h3>
            <p id="confirmText" class="text-gray-600 font-bold mb-6 leading-relaxed italic text-base"></p>
            
            <div id="confirmInputContainer" class="hidden mb-10">
                <p class="text-sm text-gray-500 mb-2">‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ <span class="font-bold text-red-600 uppercase">Reset</span> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>
                <input type="text" id="confirmInput" class="text-center border-2 border-red-200 rounded-lg p-2 w-full focus:border-red-500 outline-none text-sm font-bold uppercase" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà...">
            </div>

            <div class="flex justify-center gap-4">
                <button id="closeConfirmButton" class="px-6 py-2 bg-gray-100 rounded-xl text-sm font-bold hover:bg-gray-200 uppercase">‡πÑ‡∏°‡πà</button>
                <button id="confirmActionButton" class="px-8 py-2 bg-red-600 text-white rounded-xl text-sm font-black shadow-lg hover:bg-red-700 uppercase">‡πÉ‡∏ä‡πà</button>
            </div>
        </div>
    </div>

    <!-- Script Section -->
    <script type="module">
const _0x333673=_0x5794;(function(_0x5244e1,_0x3a2d9a){const _0x27b505=_0x5794,_0x911d17=_0x5244e1();while(!![]){try{const _0x2465ce=parseInt(_0x27b505(0x1bb))/0x1*(-parseInt(_0x27b505(0xe7))/0x2)+-parseInt(_0x27b505(0x243))/0x3+parseInt(_0x27b505(0x177))/0x4+-parseInt(_0x27b505(0x1b4))/0x5+-parseInt(_0x27b505(0x215))/0x6*(-parseInt(_0x27b505(0x175))/0x7)+-parseInt(_0x27b505(0x19f))/0x8+parseInt(_0x27b505(0x15e))/0x9*(parseInt(_0x27b505(0x1c3))/0xa);if(_0x2465ce===_0x3a2d9a)break;else _0x911d17['push'](_0x911d17['shift']());}catch(_0x552d4c){_0x911d17['push'](_0x911d17['shift']());}}}(_0x5ca7,0x738a9));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,collection,onSnapshot,doc,updateDoc,setDoc,addDoc,deleteDoc,serverTimestamp,writeBatch}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const firebaseConfig={'apiKey':_0x333673(0x11a),'authDomain':_0x333673(0x12c),'projectId':_0x333673(0x1b2),'storageBucket':'ttb-register.firebasestorage.app','messagingSenderId':'1070273157855','appId':_0x333673(0x181)};let db,auth,allEmployeesData=[],allGiftsData=[],selectedIndGiftId=null,selectedGroupGiftId=null,giftPickerContext=_0x333673(0x1be),teamNames=['A1','A2','A3','A4','A5','A6','A7','A8','A9','A10',_0x333673(0x228),_0x333673(0x211),_0x333673(0x11b),_0x333673(0x10b),'A15','A16',_0x333673(0x26d),_0x333673(0x1cc),_0x333673(0x122),_0x333673(0x1e0),_0x333673(0x27c),_0x333673(0x231),_0x333673(0x260),'A24','B1','B2','B3','B4','B5','B6','B7','B8','B9',_0x333673(0x1f2),_0x333673(0x1ba),_0x333673(0x249),_0x333673(0x10d),_0x333673(0x275),_0x333673(0x1d7),_0x333673(0x1ec),_0x333673(0x1df),_0x333673(0x279),_0x333673(0x14d),_0x333673(0x232),_0x333673(0x10e),_0x333673(0x1b5),'B23','B24'],charts={},currentConfirmAction=null,currentEditingDocId=null,currentEditingGiftId=null,drawInterval=null,empSortField=_0x333673(0x16b),empSortDir=_0x333673(0x1ad),empCurrentPage=0x1;const empPageSize=0x64;((async()=>{const _0x3585e4=_0x333673;try{const _0x2a9a38=initializeApp(firebaseConfig);db=getFirestore(_0x2a9a38),auth=getAuth(_0x2a9a38),await signInAnonymously(auth),initCharts(),setupTabs(),setupListeners(),startListening(),startListeningGifts(),document[_0x3585e4(0xe6)]('definedTeamNamesInput')['value']=teamNames['join'](','),setInterval(()=>{const _0x22f703=_0x3585e4,_0x25964a=new Date();document[_0x22f703(0xe6)](_0x22f703(0xe1))['textContent']=_0x25964a['toLocaleString'](_0x22f703(0x1c6),{'year':_0x22f703(0xe0),'month':'long','day':'numeric','hour':'2-digit','minute':'2-digit','second':'2-digit'});},0x3e8);}catch(_0xafc264){console[_0x3585e4(0xf3)](_0xafc264);}})());function setupTabs(){const _0x2b5c65=_0x333673,_0x18cb66={'tab-dashboard':_0x2b5c65(0x1d3),'tab-team-list':_0x2b5c65(0x1a7),'tab-group-view':_0x2b5c65(0x251),'tab-employee-list':_0x2b5c65(0x213),'tab-gift-management':_0x2b5c65(0x1ee),'tab-register':_0x2b5c65(0x134),'tab-group-random':_0x2b5c65(0x284),'tab-winners-list':_0x2b5c65(0x1af)};Object[_0x2b5c65(0x1c4)](_0x18cb66)[_0x2b5c65(0xff)](_0x1bddb7=>{const _0x394f06=_0x2b5c65,_0x5b5542=document[_0x394f06(0xe6)](_0x1bddb7);if(!_0x5b5542)return;_0x5b5542['addEventListener'](_0x394f06(0x165),function(){const _0x571746=_0x394f06;Object['keys'](_0x18cb66)['forEach'](_0x1e3e6f=>{const _0x585499=_0x5794,_0x4004de=document['getElementById'](_0x1e3e6f),_0x50acc3=document[_0x585499(0xe6)](_0x18cb66[_0x1e3e6f]);if(_0x4004de)_0x4004de['classList'][_0x585499(0x276)](_0x585499(0x16e),'bg-gray-100');if(_0x50acc3)_0x50acc3[_0x585499(0x266)]['add'](_0x585499(0x241));}),this[_0x571746(0x266)][_0x571746(0x276)](_0x571746(0x194),_0x571746(0x16e)),document[_0x571746(0xe6)](_0x18cb66[_0x1bddb7])?.[_0x571746(0x266)][_0x571746(0x269)]('hidden'),window[_0x571746(0x1a6)](new Event(_0x571746(0x1e3)));});});}function initCharts(){const _0x32aee8=_0x333673,_0x4cc19c={'responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'display':![]},'datalabels':{'color':_0x32aee8(0x238),'font':{'weight':_0x32aee8(0x162),'size':0xc},'formatter':_0xbe4f91=>_0xbe4f91>0x0?_0xbe4f91:''}}};charts[_0x32aee8(0xeb)]=new Chart(document[_0x32aee8(0xe6)](_0x32aee8(0x150)),{'type':_0x32aee8(0x112),'data':{'labels':[_0x32aee8(0x267),_0x32aee8(0x1f6)],'datasets':[{'data':[0x0,0x0],'backgroundColor':[_0x32aee8(0x15d),'#F59E0B']}]},'options':{..._0x4cc19c,'cutout':_0x32aee8(0x227)},'plugins':[ChartDataLabels]}),charts['goal']=new Chart(document[_0x32aee8(0xe6)](_0x32aee8(0x1cb)),{'type':_0x32aee8(0x112),'data':{'labels':['Registered',_0x32aee8(0x222)],'datasets':[{'data':[0x0,0x0],'backgroundColor':[_0x32aee8(0x1b3),'#E5E7EB']}]},'options':{..._0x4cc19c,'cutout':_0x32aee8(0x227)},'plugins':[ChartDataLabels]});const _0x15b62a={'indexAxis':'y','responsive':!![],'maintainAspectRatio':![],'scales':{'x':{'stacked':!![]},'y':{'stacked':!![]}},'plugins':{'legend':{'display':!![],'position':_0x32aee8(0x237),'labels':{'font':{'size':0xc}}},'datalabels':{'color':_0x32aee8(0x238)}}};charts['bar1']=new Chart(document['getElementById'](_0x32aee8(0x212)),{'type':_0x32aee8(0x115),'data':{'labels':[],'datasets':[{'label':_0x32aee8(0x14a),'data':[],'backgroundColor':_0x32aee8(0x15d)},{'label':_0x32aee8(0xf2),'data':[],'backgroundColor':_0x32aee8(0x1e5)}]},'options':_0x15b62a,'plugins':[ChartDataLabels]}),charts[_0x32aee8(0x110)]=new Chart(document[_0x32aee8(0xe6)]('teamBarChart2'),{'type':_0x32aee8(0x115),'data':{'labels':[],'datasets':[{'label':'‡∏•‡∏á‡πÅ‡∏•‡πâ‡∏ß','data':[],'backgroundColor':_0x32aee8(0x15d)},{'label':_0x32aee8(0xf2),'data':[],'backgroundColor':_0x32aee8(0x1e5)}]},'options':_0x15b62a,'plugins':[ChartDataLabels]}),charts['timeline']=new Chart(document[_0x32aee8(0xe6)]('registrationTimelineChart'),{'type':_0x32aee8(0x18b),'data':{'labels':Array['from']({'length':0x18},(_0x28a092,_0x386983)=>_0x386983[_0x32aee8(0x290)]()[_0x32aee8(0xf9)](0x2,'0')+_0x32aee8(0xfe)),'datasets':[{'label':_0x32aee8(0x10a),'data':Array(0x18)[_0x32aee8(0x214)](0x0),'borderColor':'#3B82F6','backgroundColor':_0x32aee8(0x15d),'tension':0.1},{'label':_0x32aee8(0x23f),'data':Array(0x18)[_0x32aee8(0x214)](0x0),'borderColor':_0x32aee8(0x12f),'backgroundColor':'#F59E0B','tension':0.1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'display':!![],'position':_0x32aee8(0x208)},'datalabels':{'display':![]}},'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1,'precision':0x0}}}}});}function startListening(){const _0x298c11=_0x333673;onSnapshot(collection(db,_0x298c11(0x139)),_0x419ec5=>{const _0x5cbb59=_0x298c11;allEmployeesData=_0x419ec5['docs'][_0x5cbb59(0x109)](_0x45cadb=>({'id':_0x45cadb['id'],..._0x45cadb['data']()})),refreshUI();},_0x1fd8f8=>console[_0x298c11(0xf3)](_0x1fd8f8));}function startListeningGifts(){const _0x1f7744=_0x333673;onSnapshot(collection(db,'crsg_gift'),_0x4a6e95=>{const _0x483a38=_0x5794,_0x1c554a=_0x4a6e95[_0x483a38(0x18f)][_0x483a38(0x109)](_0x51b3d5=>({'id':_0x51b3d5['id'],..._0x51b3d5[_0x483a38(0x219)]()}));allGiftsData=_0x1c554a[_0x483a38(0x125)]((_0x581ca6,_0x2478c8)=>(_0x581ca6[_0x483a38(0x171)]||0x0)-(_0x2478c8[_0x483a38(0x171)]||0x0)),renderGiftTable(),refreshIndGiftState(),refreshGroupGiftState(),updateWinnersList();},_0x585739=>console[_0x1f7744(0xf3)](_0x585739));}function refreshUI(){const _0x5b3d1a=_0x333673,_0x160476=allEmployeesData[_0x5b3d1a(0x16d)](_0x123bed=>_0x123bed[_0x5b3d1a(0x184)]),_0x2041de=allEmployeesData[_0x5b3d1a(0x16d)](_0x7f6043=>_0x7f6043[_0x5b3d1a(0x184)]&&_0x7f6043['invite']===_0x5b3d1a(0x26b)),_0x45e3d8=allEmployeesData['filter'](_0x2fd24b=>_0x2fd24b['DateLogin']&&_0x2fd24b[_0x5b3d1a(0x26b)]!==_0x5b3d1a(0x26b)),_0x504053=allEmployeesData[_0x5b3d1a(0x16d)](_0xa8aae2=>_0xa8aae2[_0x5b3d1a(0x26b)]===_0x5b3d1a(0x26b));document[_0x5b3d1a(0xe6)](_0x5b3d1a(0x15c))[_0x5b3d1a(0x1e8)]=allEmployeesData[_0x5b3d1a(0x16d)](_0x58752a=>_0x58752a[_0x5b3d1a(0x26e)])[_0x5b3d1a(0x141)],document['getElementById']('teamMemberCountElem')[_0x5b3d1a(0x1e8)]=allEmployeesData[_0x5b3d1a(0x16d)](_0x6edc07=>_0x6edc07['Check_Place'])[_0x5b3d1a(0x141)];const _0x1228f9=allEmployeesData[_0x5b3d1a(0x16d)](_0x46ec7a=>_0x46ec7a[_0x5b3d1a(0x149)]&&_0x46ec7a['Check_Place'][_0x5b3d1a(0x236)]()!==''),_0x3f7b9d=_0x1228f9[_0x5b3d1a(0x141)],_0x1dd54c=_0x1228f9['filter'](_0xac4fae=>_0xac4fae[_0x5b3d1a(0x184)])[_0x5b3d1a(0x141)],_0x55cd8b=_0x3f7b9d-_0x1dd54c,_0x38c4a5=_0x3f7b9d>0x0?Math[_0x5b3d1a(0x223)](_0x1dd54c/_0x3f7b9d*0x64):0x0;document[_0x5b3d1a(0xe6)](_0x5b3d1a(0x140))&&(document['getElementById']('empStatsTotal')[_0x5b3d1a(0x1e8)]=_0x3f7b9d,document[_0x5b3d1a(0xe6)](_0x5b3d1a(0x101))['textContent']=_0x1dd54c,document[_0x5b3d1a(0xe6)]('empStatsUnregistered')[_0x5b3d1a(0x1e8)]=_0x55cd8b,document[_0x5b3d1a(0xe6)](_0x5b3d1a(0x185))[_0x5b3d1a(0x1e8)]=_0x38c4a5+'%',document[_0x5b3d1a(0xe6)](_0x5b3d1a(0x140))[_0x5b3d1a(0x266)][_0x5b3d1a(0x269)]('hidden'));document['getElementById'](_0x5b3d1a(0x1a1))[_0x5b3d1a(0x1e8)]=_0x504053[_0x5b3d1a(0x141)],document[_0x5b3d1a(0xe6)](_0x5b3d1a(0x155))['textContent']=_0x2041de[_0x5b3d1a(0x141)],document['getElementById'](_0x5b3d1a(0x15f))['textContent']=_0x45e3d8[_0x5b3d1a(0x141)],document[_0x5b3d1a(0xe6)](_0x5b3d1a(0x14e))[_0x5b3d1a(0x1e8)]=Math[_0x5b3d1a(0xef)](0x0,_0x504053[_0x5b3d1a(0x141)]-_0x2041de[_0x5b3d1a(0x141)]),document[_0x5b3d1a(0xe6)]('breakdownCenterTotal')['textContent']=_0x160476[_0x5b3d1a(0x141)],document[_0x5b3d1a(0xe6)](_0x5b3d1a(0x1a8))[_0x5b3d1a(0x1e8)]=_0x504053[_0x5b3d1a(0x141)]?Math[_0x5b3d1a(0x223)](_0x2041de[_0x5b3d1a(0x141)]/_0x504053[_0x5b3d1a(0x141)]*0x64)+'%':'0%';charts[_0x5b3d1a(0xeb)]&&(charts[_0x5b3d1a(0xeb)][_0x5b3d1a(0x219)][_0x5b3d1a(0x1a2)][0x0]['data']=[_0x2041de['length'],_0x45e3d8[_0x5b3d1a(0x141)]],charts[_0x5b3d1a(0xeb)][_0x5b3d1a(0x28e)]());charts[_0x5b3d1a(0x1f4)]&&(charts['goal'][_0x5b3d1a(0x219)][_0x5b3d1a(0x1a2)][0x0]['data']=[_0x2041de[_0x5b3d1a(0x141)],Math['max'](0x0,_0x504053[_0x5b3d1a(0x141)]-_0x2041de[_0x5b3d1a(0x141)])],charts['goal'][_0x5b3d1a(0x28e)]());if(charts[_0x5b3d1a(0x1c9)]){const _0x538185=Array(0x18)[_0x5b3d1a(0x214)](0x0),_0x34f220=Array(0x18)[_0x5b3d1a(0x214)](0x0);let _0x5c3290=0x0,_0x536068=0x0;_0x160476[_0x5b3d1a(0xff)](_0x4d078b=>{const _0x32ad11=_0x5b3d1a;if(_0x4d078b[_0x32ad11(0x184)]){const _0x3db8c8=new Date(_0x4d078b[_0x32ad11(0x184)][_0x32ad11(0x152)]()),_0x188ddd=_0x3db8c8[_0x32ad11(0x292)]();_0x4d078b['invite']===_0x32ad11(0x26b)?(_0x538185[_0x188ddd]++,_0x5c3290++):(_0x34f220[_0x188ddd]++,_0x536068++);}}),charts[_0x5b3d1a(0x1c9)]['data']['datasets'][0x0][_0x5b3d1a(0x219)]=_0x538185,charts[_0x5b3d1a(0x1c9)][_0x5b3d1a(0x219)][_0x5b3d1a(0x1a2)][0x1][_0x5b3d1a(0x219)]=_0x34f220,charts['timeline']['update'](),document[_0x5b3d1a(0xe6)](_0x5b3d1a(0x17a))[_0x5b3d1a(0x1e8)]=_0x5c3290,document[_0x5b3d1a(0xe6)](_0x5b3d1a(0x23e))[_0x5b3d1a(0x1e8)]=_0x536068;}const _0x40b249={};teamNames[_0x5b3d1a(0xff)](_0x2a5faa=>_0x40b249[_0x2a5faa]={'r':0x0,'t':0x0}),allEmployeesData[_0x5b3d1a(0xff)](_0x495da8=>{const _0x7cfee4=_0x5b3d1a;if(_0x495da8[_0x7cfee4(0x149)]&&_0x40b249[_0x495da8[_0x7cfee4(0x149)]]){_0x40b249[_0x495da8[_0x7cfee4(0x149)]]['t']++;if(_0x495da8[_0x7cfee4(0x184)])_0x40b249[_0x495da8[_0x7cfee4(0x149)]]['r']++;}});const _0x916951=Math[_0x5b3d1a(0x22a)](teamNames['length']/0x2);charts['bar1']&&(charts[_0x5b3d1a(0x1e6)][_0x5b3d1a(0x219)]['labels']=teamNames[_0x5b3d1a(0xed)](0x0,_0x916951),charts[_0x5b3d1a(0x1e6)]['data']['datasets'][0x0][_0x5b3d1a(0x219)]=teamNames[_0x5b3d1a(0xed)](0x0,_0x916951)[_0x5b3d1a(0x109)](_0x4e91ad=>_0x40b249[_0x4e91ad]['r']),charts['bar1']['data'][_0x5b3d1a(0x1a2)][0x1]['data']=teamNames[_0x5b3d1a(0xed)](0x0,_0x916951)[_0x5b3d1a(0x109)](_0x193f96=>_0x40b249[_0x193f96]['t']-_0x40b249[_0x193f96]['r']),charts[_0x5b3d1a(0x1e6)]['update']());charts['bar2']&&(charts[_0x5b3d1a(0x110)][_0x5b3d1a(0x219)]['labels']=teamNames[_0x5b3d1a(0xed)](_0x916951),charts[_0x5b3d1a(0x110)][_0x5b3d1a(0x219)][_0x5b3d1a(0x1a2)][0x0][_0x5b3d1a(0x219)]=teamNames[_0x5b3d1a(0xed)](_0x916951)[_0x5b3d1a(0x109)](_0x26e896=>_0x40b249[_0x26e896]['r']),charts[_0x5b3d1a(0x110)]['data'][_0x5b3d1a(0x1a2)][0x1][_0x5b3d1a(0x219)]=teamNames[_0x5b3d1a(0xed)](_0x916951)[_0x5b3d1a(0x109)](_0x2fdc97=>_0x40b249[_0x2fdc97]['t']-_0x40b249[_0x2fdc97]['r']),charts[_0x5b3d1a(0x110)]['update']());const _0x104fe3=[..._0x160476][_0x5b3d1a(0x125)]((_0x3944d4,_0x1fec6f)=>(_0x1fec6f[_0x5b3d1a(0x184)]?.[_0x5b3d1a(0x152)]()||0x0)-(_0x3944d4[_0x5b3d1a(0x184)]?.[_0x5b3d1a(0x152)]()||0x0))['slice'](0x0,0x1e);document[_0x5b3d1a(0xe6)](_0x5b3d1a(0x18e))[_0x5b3d1a(0x161)]=_0x104fe3[_0x5b3d1a(0x109)](_0x174ee7=>_0x5b3d1a(0x1d4)+_0x174ee7[_0x5b3d1a(0x12e)]+'</td><td\x20class=\x22px-4\x20py-0\x20uppercase\x20font-bold\x20text-xm\x20text-left\x20text-sm\x22>'+_0x174ee7[_0x5b3d1a(0x271)]+_0x5b3d1a(0x277)+(_0x174ee7['NickName']||'-')+_0x5b3d1a(0xfa)+(_0x174ee7[_0x5b3d1a(0x265)]||'-')+_0x5b3d1a(0xfa)+(_0x174ee7['Check_Manager']||'-')+_0x5b3d1a(0x129)+_0x174ee7['id']+'\x27,\x20\x27'+_0x174ee7[_0x5b3d1a(0x271)]+_0x5b3d1a(0x132))[_0x5b3d1a(0x25a)](''),updateTeamTab(),updateGridTab(),updateEmployeeList(),updateGroupRandomUI(),updateLuckyDrawStats(),updateWinnersList();}function updateWinnersList(){const _0x59ccc7=_0x333673,_0x3064d1=document['getElementById'](_0x59ccc7(0x27e));if(!_0x3064d1)return;const _0x1c8275=allEmployeesData['filter'](_0x29d7aa=>_0x29d7aa[_0x59ccc7(0x256)]);if(_0x1c8275[_0x59ccc7(0x141)]===0x0){_0x3064d1[_0x59ccc7(0x161)]=_0x59ccc7(0x106);return;}_0x3064d1['innerHTML']=allGiftsData['map'](_0x2f7faa=>{const _0x567210=_0x59ccc7,_0x3b5b64=_0x1c8275[_0x567210(0x16d)](_0x76b049=>_0x76b049[_0x567210(0x28b)]===_0x2f7faa['id']||_0x76b049['AwardedGift']===_0x2f7faa[_0x567210(0x221)]&&!_0x76b049['AwardedGiftId']);if(_0x3b5b64['length']===0x0)return'';return _0x3b5b64[_0x567210(0x125)]((_0x31354e,_0x4f4e8d)=>(_0x4f4e8d[_0x567210(0x256)]?.[_0x567210(0x152)]()||0x0)-(_0x31354e[_0x567210(0x256)]?.[_0x567210(0x152)]()||0x0)),_0x567210(0x26f)+_0x2f7faa[_0x567210(0x221)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-indigo-600\x20text-white\x20px-3\x20py-1\x20rounded-full\x20text-xs\x20font-bold\x20uppercase\x22>'+_0x3b5b64[_0x567210(0x141)]+_0x567210(0x220)+_0x3b5b64[_0x567210(0x109)]((_0x25270c,_0x379f1c)=>{const _0x32577e=_0x567210,_0x3e48a6=_0x25270c[_0x32577e(0x278)]?!![]:![],_0x25a38b=_0x3e48a6?_0x32577e(0x258):_0x32577e(0x188),_0x298156=_0x3e48a6?_0x32577e(0xf7):'bg-red-500\x20text-white\x20cursor-pointer\x20hover:bg-red-600',_0x168282=_0x3e48a6?'':_0x32577e(0xe5)+_0x25270c['id']+_0x32577e(0x11e);return _0x32577e(0xec)+(_0x379f1c+0x1)+_0x32577e(0x187)+_0x25270c['employeeId']+_0x32577e(0x13a)+_0x25270c[_0x32577e(0x271)]+_0x32577e(0x17b)+(_0x25270c['Branch_eng']||'-')+_0x32577e(0x17b)+(_0x25270c[_0x32577e(0x26e)]||'-')+_0x32577e(0x1d5)+(_0x25270c[_0x32577e(0x149)]||'-')+_0x32577e(0x198)+_0x168282+'\x20class=\x22px-3\x20py-0.5\x20rounded\x20text-[10px]\x20font-black\x20transition-all\x20shadow-sm\x20'+_0x298156+'\x22>'+_0x25a38b+_0x32577e(0x158)+_0x25270c['id']+_0x32577e(0x1d0);})[_0x567210(0x25a)]('')+_0x567210(0x1f1);})[_0x59ccc7(0x25a)]('');}window[_0x333673(0x168)]=async _0x5c1fa1=>{const _0x189452=_0x333673;try{await updateDoc(doc(db,_0x189452(0x139),_0x5c1fa1),{'ReceivedTime':serverTimestamp()});}catch(_0x39c108){console[_0x189452(0xf3)](_0x39c108);}},window[_0x333673(0x193)]=_0x2309ba=>{const _0x31d5bb=_0x333673;let _0x2252d2='',_0x4f98e8=[];if(_0x2309ba===_0x31d5bb(0x174))_0x2252d2='‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î',_0x4f98e8=allEmployeesData[_0x31d5bb(0x16d)](_0x1fc26d=>_0x1fc26d['invite']===_0x31d5bb(0x26b));else{if(_0x2309ba===_0x31d5bb(0x224))_0x2252d2=_0x31d5bb(0xf6),_0x4f98e8=allEmployeesData[_0x31d5bb(0x16d)](_0x320a9c=>_0x320a9c['DateLogin']&&_0x320a9c['invite']==='invite');else{if(_0x2309ba==='unregistered')_0x2252d2='‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô',_0x4f98e8=allEmployeesData[_0x31d5bb(0x16d)](_0x15da05=>!_0x15da05['DateLogin']&&_0x15da05[_0x31d5bb(0x26b)]===_0x31d5bb(0x26b));else _0x2309ba===_0x31d5bb(0x218)&&(_0x2252d2=_0x31d5bb(0x20f),_0x4f98e8=allEmployeesData['filter'](_0x761767=>_0x761767[_0x31d5bb(0x184)]&&_0x761767[_0x31d5bb(0x26b)]!==_0x31d5bb(0x26b)));}}document[_0x31d5bb(0xe6)](_0x31d5bb(0x263))[_0x31d5bb(0x1e8)]=_0x2252d2,document['getElementById']('dashboardListCount')[_0x31d5bb(0x1e8)]=_0x4f98e8['length'];const _0x2c5f2d=document[_0x31d5bb(0xe6)](_0x31d5bb(0x143));_0x2c5f2d[_0x31d5bb(0x161)]=_0x4f98e8['map']((_0x2685f8,_0x27198c)=>{const _0x2039b8=_0x31d5bb,_0x1c34dd=_0x2685f8[_0x2039b8(0x184)]?!![]:![],_0x5c1a48=_0x1c34dd?'<span\x20class=\x22bg-green-100\x20text-green-700\x20px-3\x20py-0.5\x20rounded-full\x20text-[10px]\x20font-black\x20uppercase\x22>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</span>':'-';return _0x2039b8(0x246)+(_0x27198c+0x1)+_0x2039b8(0x17f)+_0x2685f8[_0x2039b8(0x12e)]+_0x2039b8(0x1bc)+_0x2685f8[_0x2039b8(0x271)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-left\x20text-gray-600\x22>'+(_0x2685f8[_0x2039b8(0x265)]||'-')+_0x2039b8(0x244)+(_0x2685f8[_0x2039b8(0x26e)]||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20font-bold\x20text-blue-500\x20uppercase\x20text-center\x22>'+(_0x2685f8[_0x2039b8(0x149)]||'-')+_0x2039b8(0x1ae)+_0x5c1a48+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22cancelReg(\x27'+_0x2685f8['id']+'\x27,\x20\x27'+_0x2685f8[_0x2039b8(0x271)]+_0x2039b8(0x170)+(_0x1c34dd?'':_0x2039b8(0x22b))+_0x2039b8(0x20c)+(_0x1c34dd?_0x2039b8(0x28a):_0x2039b8(0x1f0))+_0x2039b8(0x151);})[_0x31d5bb(0x25a)]('')||_0x31d5bb(0x24a),document[_0x31d5bb(0xe6)]('dashboardListModal')[_0x31d5bb(0x266)][_0x31d5bb(0x269)]('hidden');};async function addGift(){const _0x101774=_0x333673,_0x3338dc=document[_0x101774(0xe6)](_0x101774(0x1d9))[_0x101774(0x1d6)][_0x101774(0x236)](),_0x1dfc9d=parseInt(document[_0x101774(0xe6)](_0x101774(0x144))[_0x101774(0x1d6)]);if(!_0x3338dc||isNaN(_0x1dfc9d))return;const _0x480ba6=allGiftsData[_0x101774(0x13d)]((_0x23f843,_0x551d04)=>Math['max'](_0x23f843,_0x551d04[_0x101774(0x171)]||0x0),0x0);await addDoc(collection(db,'crsg_gift'),{'name':_0x3338dc,'totalQty':_0x1dfc9d,'remainingQty':_0x1dfc9d,'status':'on','order':_0x480ba6+0x1,'createdAt':serverTimestamp()}),document['getElementById']('giftNameInput')[_0x101774(0x1d6)]='',document[_0x101774(0xe6)]('giftQtyInput')['value']='1';}function renderGiftTable(){const _0x501edf=_0x333673,_0x1df05a=document['getElementById'](_0x501edf(0x178));if(allGiftsData[_0x501edf(0x141)]===0x0){_0x1df05a['innerHTML']=_0x501edf(0x13e);return;}_0x1df05a[_0x501edf(0x161)]=allGiftsData[_0x501edf(0x109)]((_0x1c9ada,_0x42f8a5)=>_0x501edf(0x289)+(_0x1c9ada[_0x501edf(0x171)]||_0x42f8a5+0x1)+_0x501edf(0x1ea)+_0x1c9ada['id']+'\x27,\x20this.value)\x22\x20class=\x22w-16\x20p-1\x20text-center\x20border\x20rounded\x20font-bold\x20text-blue-600\x22\x20min=\x221\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-sm\x20font-normal\x22>'+_0x1c9ada['name']+_0x501edf(0x138)+_0x1c9ada[_0x501edf(0x1ac)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-center\x20text-blue-600\x20font-bold\x20text-sm\x22>'+_0x1c9ada['remainingQty']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-center\x22><button\x20onclick=\x22toggleGiftStatus(\x27'+_0x1c9ada['id']+_0x501edf(0x157)+_0x1c9ada[_0x501edf(0x16b)]+_0x501edf(0x179)+(_0x1c9ada[_0x501edf(0x16b)]==='on'?_0x501edf(0x257):_0x501edf(0x1dc))+'\x22>'+(_0x1c9ada['status']==='on'?'ON':_0x501edf(0x24f))+_0x501edf(0x108)+_0x1c9ada['id']+'\x27)\x22\x20class=\x22text-orange-500\x20hover:text-orange-700\x20cursor-pointer\x20font-bold\x20text-xs\x20uppercase\x20mr-2\x20text-sm\x22>Edit</span>|\x20<span\x20onclick=\x22deleteGift(\x27'+_0x1c9ada['id']+_0x501edf(0x157)+_0x1c9ada[_0x501edf(0x221)]+_0x501edf(0x25d))[_0x501edf(0x25a)]('');}window[_0x333673(0x24b)]=async(_0x34f0aa,_0x9acea8)=>{const _0x4edd45=_0x333673,_0x2e279e=parseInt(_0x9acea8);if(!isNaN(_0x2e279e))await updateDoc(doc(db,_0x4edd45(0x10f),_0x34f0aa),{'order':_0x2e279e});},window[_0x333673(0x245)]=async(_0x9257c4,_0x5dc14a)=>{const _0x346065=_0x333673;await updateDoc(doc(db,_0x346065(0x10f),_0x9257c4),{'status':_0x5dc14a==='on'?_0x346065(0x182):'on'});},window[_0x333673(0xe3)]=_0x4d2f76=>{const _0x122283=_0x333673,_0x183a1a=allGiftsData[_0x122283(0x268)](_0x273f16=>_0x273f16['id']===_0x4d2f76);if(!_0x183a1a)return;currentEditingGiftId=_0x4d2f76,document['getElementById'](_0x122283(0x23c))[_0x122283(0x1d6)]=_0x183a1a[_0x122283(0x221)],document['getElementById'](_0x122283(0x156))[_0x122283(0x1d6)]=_0x183a1a['totalQty'],document[_0x122283(0xe6)](_0x122283(0x25f))[_0x122283(0x1d6)]=_0x183a1a['remainingQty'],document[_0x122283(0xe6)](_0x122283(0xea))[_0x122283(0x266)][_0x122283(0x269)](_0x122283(0x241));},window[_0x333673(0x104)]=(_0x539841,_0xe8265)=>{const _0x3d492e=_0x333673,_0x5b943c=document[_0x3d492e(0xe6)]('confirmModalInner');_0x5b943c[_0x3d492e(0x1cf)]='bg-white\x20rounded-2xl\x20p-10\x20max-w-lg\x20w-full\x20shadow-2xl\x20text-center\x20transition-all\x20duration-300',currentConfirmAction=async()=>{const _0xe5742c=_0x3d492e;await deleteDoc(doc(db,_0xe5742c(0x10f),_0x539841)),document[_0xe5742c(0xe6)](_0xe5742c(0x107))[_0xe5742c(0x266)][_0xe5742c(0x147)](_0xe5742c(0x241));},document[_0x3d492e(0xe6)](_0x3d492e(0x204))['textContent']=_0x3d492e(0x27b),document['getElementById'](_0x3d492e(0x1a3))['textContent']=_0x3d492e(0x22e)+_0xe8265+_0x3d492e(0xde),document[_0x3d492e(0xe6)]('confirmInputContainer')[_0x3d492e(0x266)][_0x3d492e(0x147)](_0x3d492e(0x241)),document[_0x3d492e(0xe6)](_0x3d492e(0x107))['classList'][_0x3d492e(0x269)]('hidden');};function renderGiftPicker(){const _0x3b7255=_0x333673,_0x27cdd0=document['getElementById'](_0x3b7255(0x1d2)),_0x45aa5e=allGiftsData[_0x3b7255(0x16d)](_0x50c728=>_0x50c728[_0x3b7255(0x16b)]==='on'&&_0x50c728[_0x3b7255(0xe8)]>0x0);document[_0x3b7255(0xe6)]('giftPickerTitle')[_0x3b7255(0x1e8)]=giftPickerContext===_0x3b7255(0x1be)?_0x3b7255(0x1ab):'‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏ö‡∏ö‡∏Å‡∏•‡∏∏‡πà‡∏°:\x20‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•';if(!_0x45aa5e[_0x3b7255(0x141)]){_0x27cdd0[_0x3b7255(0x161)]='<p\x20class=\x22text-center\x20py-10\x20text-gray-400\x20font-bold\x20italic\x20text-sm\x22>--\x20‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠\x20--</p>';return;}const _0x3a5daf=giftPickerContext===_0x3b7255(0x1be)?selectedIndGiftId:selectedGroupGiftId;_0x27cdd0['innerHTML']=_0x45aa5e[_0x3b7255(0x109)](_0x5d2788=>{const _0x3261df=_0x3b7255,_0x459d10=_0x5d2788['id']===_0x3a5daf;return _0x3261df(0x286)+_0x5d2788['id']+_0x3261df(0x209)+(_0x459d10?_0x3261df(0x253):_0x3261df(0xfc))+_0x3261df(0xfb)+(_0x459d10?_0x3261df(0x1aa):_0x3261df(0x19a))+'\x20uppercase\x20text-sm\x22>'+_0x5d2788[_0x3261df(0x221)]+_0x3261df(0x1e2)+(_0x459d10?_0x3261df(0x196):_0x3261df(0x103))+_0x3261df(0x15a)+_0x5d2788[_0x3261df(0xe8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-4\x20py-1\x20'+(_0x459d10?'bg-blue-600\x20text-white':_0x3261df(0xfd))+'\x20rounded-lg\x20text-sm\x20font-black\x20uppercase\x22>'+(_0x459d10?_0x3261df(0x113):_0x3261df(0x200))+_0x3261df(0x21c);})[_0x3b7255(0x25a)]('');}function _0x5794(_0x29cb23,_0x530ddd){_0x29cb23=_0x29cb23-0xdc;const _0x5ca726=_0x5ca7();let _0x5794c4=_0x5ca726[_0x29cb23];return _0x5794c4;}window[_0x333673(0x105)]=_0x476632=>{const _0x388fcd=_0x333673;giftPickerContext==='ind'?(selectedIndGiftId=_0x476632,refreshIndGiftState()):(selectedGroupGiftId=_0x476632,document[_0x388fcd(0xe6)](_0x388fcd(0x255))[_0x388fcd(0x161)]='',document['getElementById'](_0x388fcd(0x1da))[_0x388fcd(0x161)]='',refreshGroupGiftState()),document[_0x388fcd(0xe6)]('giftPickerModal')['classList'][_0x388fcd(0x147)](_0x388fcd(0x241));};function refreshIndGiftState(){const _0x487f2f=_0x333673,_0x345677=document[_0x487f2f(0xe6)](_0x487f2f(0x153)),_0x285b32=document['getElementById'](_0x487f2f(0x21e)),_0x480f8e=document[_0x487f2f(0xe6)](_0x487f2f(0x1c2));if(!selectedIndGiftId){_0x345677[_0x487f2f(0x1e8)]=_0x487f2f(0x1fa),_0x285b32[_0x487f2f(0x1e8)]=_0x487f2f(0x1d1),_0x480f8e[_0x487f2f(0x22b)]=!![];return;}const _0x3f79e3=allGiftsData[_0x487f2f(0x268)](_0x18989a=>_0x18989a['id']===selectedIndGiftId);!_0x3f79e3||_0x3f79e3[_0x487f2f(0xe8)]<=0x0?(_0x345677[_0x487f2f(0x1e8)]=_0x3f79e3?_0x3f79e3[_0x487f2f(0x221)]+_0x487f2f(0x11d):'--\x20‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ñ‡∏π‡∏Å‡∏•‡∏ö\x20--',_0x285b32[_0x487f2f(0x1e8)]=_0x487f2f(0x183),_0x480f8e[_0x487f2f(0x22b)]=!![]):(_0x345677[_0x487f2f(0x1e8)]=_0x3f79e3[_0x487f2f(0x221)],_0x285b32[_0x487f2f(0x1e8)]=_0x487f2f(0xf1)+_0x3f79e3[_0x487f2f(0xe8)]+'\x20‡∏ä‡∏¥‡πâ‡∏ô',_0x480f8e[_0x487f2f(0x22b)]=![]);}function refreshGroupGiftState(){const _0x3853f2=_0x333673,_0x374314=document[_0x3853f2(0xe6)](_0x3853f2(0x22d)),_0x2a4b94=document[_0x3853f2(0xe6)](_0x3853f2(0x14f)),_0x4c8993=document[_0x3853f2(0xe6)]('grGiftBox'),_0x12e7c4=document['getElementById'](_0x3853f2(0x23d)),_0x26de0b=document[_0x3853f2(0xe6)](_0x3853f2(0x15b));if(!selectedGroupGiftId){_0x374314[_0x3853f2(0x1e8)]='--\x20‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•\x20--',_0x374314['className']=_0x3853f2(0x210),_0x2a4b94['textContent']=_0x3853f2(0x1d1),_0x2a4b94[_0x3853f2(0x1cf)]=_0x3853f2(0x190),_0x4c8993[_0x3853f2(0x1cf)]=_0x3853f2(0x1b0),_0x26de0b[_0x3853f2(0x1d6)]=0x0,_0x12e7c4[_0x3853f2(0x22b)]=!![];return;}const _0x4fbfba=allGiftsData[_0x3853f2(0x268)](_0x16ea89=>_0x16ea89['id']===selectedGroupGiftId);!_0x4fbfba||_0x4fbfba[_0x3853f2(0xe8)]<=0x0?(_0x374314[_0x3853f2(0x1e8)]=_0x4fbfba?_0x4fbfba[_0x3853f2(0x221)]+'\x20(‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß)':_0x3853f2(0xee),_0x374314[_0x3853f2(0x1cf)]=_0x3853f2(0x21a),_0x2a4b94[_0x3853f2(0x1e8)]='‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠:\x200',_0x4c8993[_0x3853f2(0x1cf)]='flex\x20items-center\x20justify-between\x20bg-white\x20border-2\x20border-dashed\x20border-gray-200\x20rounded-xl\x20p-3\x20transition-all',_0x26de0b[_0x3853f2(0x1d6)]=0x0,_0x12e7c4[_0x3853f2(0x22b)]=!![]):(_0x374314[_0x3853f2(0x1e8)]=_0x4fbfba[_0x3853f2(0x221)],_0x374314[_0x3853f2(0x1cf)]='text-base\x20font-black\x20text-blue-600\x20leading-tight\x20uppercase\x20text-sm',_0x2a4b94['textContent']=_0x3853f2(0xf1)+_0x4fbfba[_0x3853f2(0xe8)]+_0x3853f2(0x242),_0x2a4b94['className']='text-sm\x20font-bold\x20text-gray-600\x20mt-1\x20text-sm',_0x4c8993['className']='flex\x20items-center\x20justify-between\x20bg-blue-50\x20border-2\x20border-blue-300\x20rounded-xl\x20p-3\x20transition-all',_0x26de0b[_0x3853f2(0x1d6)]=_0x4fbfba['remainingQty'],_0x26de0b[_0x3853f2(0xef)]=_0x4fbfba[_0x3853f2(0xe8)],_0x12e7c4[_0x3853f2(0x22b)]=![]);}async function startGroupRandomDraw(){const _0xdda815=_0x333673,_0x55a86e=parseInt(document[_0xdda815(0xe6)]('grDrawCount')['value'])||0x0,_0x5b0eb0=allEmployeesData[_0xdda815(0x16d)](_0x2906a9=>_0x2906a9[_0xdda815(0x184)]&&_0x2906a9[_0xdda815(0x26b)]===_0xdda815(0x26b)&&!_0x2906a9[_0xdda815(0x256)]);if(!selectedGroupGiftId)return;const _0x20931b=allGiftsData[_0xdda815(0x268)](_0x5c43eb=>_0x5c43eb['id']===selectedGroupGiftId);if(_0x55a86e<=0x0||_0x5b0eb0[_0xdda815(0x141)]<_0x55a86e||_0x20931b[_0xdda815(0xe8)]<_0x55a86e)return;const _0x16369d=document[_0xdda815(0xe6)](_0xdda815(0x23d));_0x16369d[_0xdda815(0x22b)]=!![];const _0x59b9ae=document[_0xdda815(0xe6)](_0xdda815(0x288)),_0x22cb88=document[_0xdda815(0xe6)](_0xdda815(0x173));_0x59b9ae[_0xdda815(0x161)]='',_0x22cb88[_0xdda815(0x161)]='';const _0x545d22=[..._0x5b0eb0]['sort'](()=>0.5-Math[_0xdda815(0x120)]())[_0xdda815(0xed)](0x0,_0x55a86e);await updateDoc(doc(db,_0xdda815(0x10f),selectedGroupGiftId),{'remainingQty':_0x20931b[_0xdda815(0xe8)]-_0x55a86e});const _0x43985e=Math[_0xdda815(0x22a)](_0x55a86e/0x2),_0x13dbf1=_0x545d22['slice'](0x0,_0x43985e),_0x23703e=_0x545d22['slice'](_0x43985e),_0x1eb08b=_0x17f280=>{const _0x333f6c=_0xdda815,_0xd171ea=document['createElement'](_0x333f6c(0x28d));_0xd171ea['id']=_0x333f6c(0x1b7),_0xd171ea['className']=_0x333f6c(0x10c),_0x17f280[_0x333f6c(0xf5)](_0xd171ea);},_0x126e9b=_0x19f41f=>{const _0x3026f6=_0xdda815,_0x53b42b=_0x19f41f[_0x3026f6(0x207)](_0x3026f6(0x136));if(_0x53b42b)_0x53b42b[_0x3026f6(0x269)]();};for(let _0x12b157=0x0;_0x12b157<_0x13dbf1[_0xdda815(0x141)];_0x12b157++){_0x1eb08b(_0x59b9ae),await new Promise(_0x5cf1e4=>setTimeout(_0x5cf1e4,0x3e8)),_0x126e9b(_0x59b9ae);const _0x488f29=_0x13dbf1[_0x12b157];_0x59b9ae[_0xdda815(0x161)]+=createWinnerItemHTML(_0x12b157+0x1,_0x488f29),await updateWinnerInDB(_0x488f29,_0x20931b[_0xdda815(0x221)],selectedGroupGiftId);}for(let _0x1f6e8f=0x0;_0x1f6e8f<_0x23703e[_0xdda815(0x141)];_0x1f6e8f++){_0x1eb08b(_0x22cb88),await new Promise(_0x434820=>setTimeout(_0x434820,0x3e8)),_0x126e9b(_0x22cb88);const _0x5b5ed0=_0x23703e[_0x1f6e8f];_0x22cb88[_0xdda815(0x161)]+=createWinnerItemHTML(_0x43985e+_0x1f6e8f+0x1,_0x5b5ed0),await updateWinnerInDB(_0x5b5ed0,_0x20931b[_0xdda815(0x221)],selectedGroupGiftId);}_0x16369d[_0xdda815(0x22b)]=![],confetti({'particleCount':0x96,'spread':0x64,'origin':{'y':0.6}});}function createWinnerItemHTML(_0x1992f7,_0x14b9f9){const _0x4bb6fa=_0x333673;return _0x4bb6fa(0x137)+_0x1992f7+_0x4bb6fa(0x116)+_0x14b9f9[_0x4bb6fa(0x271)]+'\x20('+_0x14b9f9[_0x4bb6fa(0x12e)]+_0x4bb6fa(0x270)+_0x14b9f9['id']+_0x4bb6fa(0x23a);}async function updateWinnerInDB(_0x26e647,_0x8197a6,_0x50431c){const _0x3d56b9=_0x333673;await updateDoc(doc(db,_0x3d56b9(0x139),_0x26e647['id']),{'RandomTime':serverTimestamp(),'AwardedGift':_0x8197a6,'AwardedGiftId':_0x50431c});}function _0x5ca7(){const _0x4c9648=['‡∏•‡∏á‡πÅ‡∏•‡πâ‡∏ß','digit','regEmpManager','B19','remainingCount','grGiftDisplayQty','registrationBreakdownChart','\x20px-4\x20py-1\x20rounded\x20text-[10px]\x20font-black\x20uppercase\x20transition-all\x20shadow-sm\x22>Delete</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toMillis','indGiftDisplayName','randomizeError','participantsCountBox','editGiftTotalQty','\x27,\x20\x27','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22removeLuckyWinner(\x27','regManualError','\x20font-bold\x20text-sm\x22>‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠:\x20','grDrawCount','managerEmployeeCount','#3B82F6','14287392JlGQBT','attendeesCount','randomizeModal','innerHTML','bold','editEmpNickname','regEmpName','click','sort-emp-status','createElement','markAsReceived','bg-green-100','cancelReg','status','\x22,\x22‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô\x22\x0a','filter','bg-gray-300','closeEditModalButton','\x27)\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','order','openGroupGiftPickerBtn','grBoxRight','total','43638sKHQye','groupViewStatsRegistered','1463664fHqekS','giftListTableBody','\x27)\x22\x20class=\x22px-4\x20py-1\x20rounded-full\x20text-xs\x20font-black\x20uppercase\x20transition-all\x20shadow-sm\x20border\x20','timelineTotalInvite','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-gray-600\x20uppercase\x20text-left\x22>','asc','teamStatsTotal','<option\x20value=\x22\x22>--\x20‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\x20--</option>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20font-mono\x20font-bold\x20text-blue-700\x20text-center\x22>','gift','1:1070273157855:web:5c8120e1df27e233d8676a','off','‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠:\x200','DateLogin','empStatsPercent','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20‡πÅ‡∏™‡∏î‡∏á\x20NickName\x20‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏ñ‡∏ß‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•\x20‡∏à‡∏±‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ä‡∏¥‡∏î‡∏ã‡πâ‡∏≤‡∏¢\x20(‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°)\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-left\x20text-gray-400\x20text-sm\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-mono\x20font-black\x20text-blue-700\x22>','‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏±‡∏ö','split','sort-emp-branch','line','groupViewManagerFilter','modalParticipantsCount','latestRegistrationsTableBody','docs','text-sm\x20font-bold\x20text-gray-300\x20mt-1\x20text-sm','groupViewModalTitle','downloadWinnersCsvButton','openDashboardList','bg-gray-100','saveEditGiftBtn','text-blue-600','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-center\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20text-left\x20text-gray-600\x20text-sm\x20text-sm\x22>','text-base\x20text-gray-800','<button\x20class=\x22pagination-btn\x20','change','sort-emp-manager','card-unregistered','3411568WPldqt','card-total','targetCount','datasets','confirmText','giftPickerModal','grRemainingEligible','dispatchEvent','team-list-content','donutPercentage','active','text-blue-800','‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Ñ‡∏ô:\x20‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•','totalQty','desc','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20font-bold\x20text-center\x22>','winners-list-content','flex\x20items-center\x20justify-between\x20bg-white\x20border-2\x20border-dashed\x20border-gray-200\x20rounded-xl\x20p-3\x20transition-all\x20text-sm','resetTeamButton','ttb-register','#10B981','105495MPSPrX','B22','gvOverallStatsTotal','loader','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20uppercase\x20font-bold\x20text-left\x20text-sm\x22>','editEmployeeModal','B11','1iweIVX','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20font-bold\x20text-left\x20uppercase\x22>','empStatsUnregistered','ind','groupViewModal','‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô','Employee_List_Report.csv','startRandomizeButton','10hfJeob','keys','createObjectURL','th-TH','gvOverallStatsContainer','includes','timeline','openGiftPickerBtn','registrationDonutChart','A18','saveManualRegButton','sort-emp-gift','className','\x27)\x22\x20class=\x22px-3\x20py-0\x20bg-red-100\x20text-red-600\x20rounded-lg\x20text-xs\x20font-black\x20hover:bg-red-600\x20hover:text-white\x20transition-all\x20uppercase\x22>‡∏•‡∏ö</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠:\x20-\x20‡∏ä‡∏¥‡πâ‡∏ô','giftPickerList','dashboard-content','<tr><td\x20class=\x22px-4\x20py-0\x20text-center\x20text-sm\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-blue-600\x20font-bold\x20uppercase\x20text-center\x22>','value','B15','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20text-gray-600\x20text-left\x22>','giftNameInput','teamGridB','saveEditModalButton','bg-gray-200\x20text-gray-600','‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏•‡∏∏‡πâ‡∏ô','confirmActionButton','B17','A20','<tr><td\x20class=\x22px-4\x20py-4\x20font-mono\x20font-black\x20text-blue-700\x20text-center\x20text-sm\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','resize','regEmpId','#BFDBFE','bar1','text/csv;charset=utf-8;','textContent','grTotalWinners','\x22\x20onchange=\x22updateGiftOrder(\x27','Registration_Report.csv','B16','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22','gift-management-content','href','bg-gray-100\x20text-gray-400','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','B10','startsWith','goal','groupViewTableBody','Non-Invite','group','teamStatsContainer','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-left\x20text-gray-400\x20text-sm\x22>','--\x20‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•\x20--','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-center\x20font-black\x20uppercase\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','searchEmployeeError','\x20onclick=\x22changeEmpPage(','winnerBU','modalDrawnCount','Select','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20text-blue-800\x22>','searchRegEmployeeButton','NickName','confirmTitle','bg-yellow-50','teamStatsRegistered','querySelector','top','\x27)\x22\x20class=\x22flex\x20items-center\x20justify-between\x20p-4\x20border\x20rounded-xl\x20hover:bg-blue-50\x20cursor-pointer\x20transition-all\x20','</option>','</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22','searchRegEmployeeError','‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?\x20(‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)','‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô','text-base\x20font-black\x20text-gray-400\x20leading-tight\x20uppercase\x20text-sm','A12','teamBarChart1','employee-list-content','fill','606vHstos','‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô','\x22,\x22','extras','data','text-base\x20font-black\x20text-red-400\x20leading-tight\x20uppercase\x20text-sm','RESET','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22cancelReg(\x27','indGiftDisplayQty','confirmInputContainer','\x20‡∏ó‡πà‡∏≤‡∏ô</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22table-header-gray\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22px-4\x20py-4\x20text-center\x20font-bold\x20text-gray-600\x22>‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22px-4\x20py-4\x20text-left\x20font-bold\x20text-gray-600\x22>‡∏£‡∏´‡∏±‡∏™</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22px-4\x20py-4\x20text-left\x20font-bold\x20text-gray-600\x22>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22px-4\x20py-4\x20text-left\x20font-bold\x20text-gray-600\x22>‡∏™‡∏≤‡∏Ç‡∏≤</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22px-4\x20py-4\x20text-left\x20font-bold\x20text-gray-600\x22>‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22px-4\x20py-4\x20text-left\x20font-bold\x20text-gray-600\x22>‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22px-4\x20py-4\x20text-center\x20font-bold\x20text-gray-600\x22>‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22px-4\x20py-4\x20text-center\x20font-bold\x20text-gray-600\x22>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody\x20class=\x22divide-y\x20divide-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','name','Remaining','round','registered','regEmpBranch','drawnWinnersTableBody','75%','A11','confirmModalInner','ceil','disabled','<option\x20value=\x22\x22>--\x20‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡∏°\x20--</option>','grGiftDisplayName','‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö\x20[','<br/><span\x20class=\x22text-sm\x20text-orange-600\x20text-xs\x22>üéÅ\x20','editEmpName','A22','B20','closeEditGiftModalBtn','winnerName','bg-white\x20rounded-2xl\x20p-10\x20max-w-lg\x20w-full\x20shadow-2xl\x20text-center','trim','bottom','#fff','‡∏™‡∏≤‡∏Ç‡∏≤:\x20','\x27)\x22\x20class=\x22text-red-400\x20hover:text-red-600\x20cursor-pointer\x20font-bold\x20text-lg\x20ml-3\x20text-sm\x22>&times;</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20onclick=\x22changeEmpPage(','editGiftName','grStartDrawBtn','timelineTotalExtra','‡∏ú‡∏π‡πâ‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20uppercase\x20text-left\x20text-sm\x20text-sm\x22>','hidden','\x20‡∏ä‡∏¥‡πâ‡∏ô','2577144THHetY','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-left\x20text-gray-600\x22>','toggleGiftStatus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20text-center\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-gray-400\x20font-bold\x20text-xs\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','winnerGiftText','B12','<tr><td\x20colspan=\x228\x22\x20class=\x22p-10\x20text-center\x20text-gray-400\x22>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</td></tr>','updateGiftOrder','sort-emp-id','regEmpNickname','\x27)\x22\x20class=\x22text-orange-500\x20hover:text-orange-700\x20cursor-pointer\x20font-black\x20text-xs\x20uppercase\x20shadow-sm\x22>Edit</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>','OFF','<option\x20value=\x22','group-view-content','‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö','bg-blue-100\x20border-blue-500\x20shadow-md','grTotalEligible','teamGridA','RandomTime','bg-green-400\x20text-white\x20border-green-600','‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß','localeCompare','join','\x20hover:bg-gray-50\x20text-center\x20text-sm\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-bold\x20text-gray-400\x20text-xs\x22>','employeeListTableBody','\x27)\x22\x20class=\x22text-red-500\x20hover:text-red-700\x20font-bold\x20text-xs\x20uppercase\x20text-sm\x22>Delete</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-black\x20text-gray-900\x20mt-0.5\x20text-sm\x22>','editGiftRemainingQty','A23','updateTeamNamesBtn','</span>','dashboardListModalTitle','confirmInput','Branch_eng','classList','Invite','find','remove','manager','invite','‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å','A17','Check_Manager','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20border\x20border-gray-100\x20rounded-2xl\x20overflow-hidden\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-50\x20px-6\x20py-4\x20border-b\x20flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-lg\x20font-black\x20text-indigo-700\x20uppercase\x22>üéÅ\x20‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:\x20',')</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20onclick=\x22removeLuckyWinner(\x27','FullName_th','downloadCsvButton','AwardedGift','<tr\x20class=\x22','B14','replace','</td><td\x20class=\x22px-4\x20py-0\x20text-gray-600\x20text-left\x20text-sm\x22>','ReceivedTime','B18','\x27)\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','‡∏•‡∏ö‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•','A21','card-extras','winnersByGiftContainer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22','\ufeff‡∏•‡∏≥‡∏î‡∏±‡∏ö,‡∏£‡∏´‡∏±‡∏™,‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•,‡∏™‡∏≤‡∏Ç‡∏≤,‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î,‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô,‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•,‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á,‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞\x0a','bg-red-100\x20text-red-700\x20hover:bg-red-200','\ufeff‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô,‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•,‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•,‡∏™‡∏≤‡∏Ç‡∏≤,‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î,‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á,‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á,‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö\x0a','teamSelect','group-random-content','card-registered','<div\x20onclick=\x22pickGift(\x27','Winners_Report.csv','grBoxLeft','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-center\x22><input\x20type=\x22number\x22\x20value=\x22','bg-red-600\x20text-white\x20hover:bg-red-700','AwardedGiftId','floor','div','update','regEmpInviteStatus','toString','managerFilterSelect','getHours','options','\x20aspect-square\x20rounded-full\x20border\x20border-gray-200\x20flex\x20flex-col\x20items-center\x20justify-center\x20cursor-pointer\x20hover:shadow-lg\x20hover:scale-105\x20transition-all\x20active:scale-95\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[12px]\x20font-bold\x20text-blue-700\x20leading-none\x20text-xs\x20font-bold\x22>','‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏µ‡∏°\x20',']\x20?','closeConfirmButton','numeric','currentDateTime','dashboardListModal','editGift','‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î:\x20','onclick=\x22markAsReceived(\x27','getElementById','1606376xJnZZL','remainingQty','addGiftBtn','editGiftModal','breakdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20transition-colors\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-center\x20font-bold\x20text-gray-400\x20text-xs\x22>','slice','--\x20‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ñ‡∏π‡∏Å‡∏•‡∏ö\x20--','max','closeDashboardListModalButton','‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠:\x20','‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏•‡∏á','error','editEmpManager','appendChild','‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß','bg-green-500\x20text-white','toUpperCase','padStart','</td><td\x20class=\x22px-4\x20py-0\x20text-gray-600\x20text-xm\x20text-left\x20text-sm\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-black\x20','bg-white\x20border-gray-100','bg-gray-100\x20text-gray-500',':00','forEach','‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏∞‡∏ö‡∏ö','empStatsRegistered','regEmpSeat','text-gray-500','deleteGift','pickGift','<div\x20class=\x22p-10\x20text-center\x20text-gray-400\x20font-bold\x20italic\x22>--\x20‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•\x20--</div>','confirmModal','</button></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-center\x22><span\x20onclick=\x22editGift(\x27','map','‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢','A14','loading-gif','B13','B21','crsg_gift','bar2','‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏Å‡πà‡∏≠‡∏ô','doughnut','Selected','toLocaleString','bar','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xm\x20font-black\x20text-gray-800\x20uppercase\x20text-left\x22>',']\x20‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?\x20(‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ñ‡∏•‡∏±‡∏á)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20text-blue-800\x20text-center\x20text-sm\x22>',')\x22>‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AIzaSyAgWMzWcZPzyzoBu5eQzj2y59nKsxTWurQ','A13','editEmpTeam','\x20(‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß)','\x27)\x22','closeManualRegModalButton','random','download','A19','downloadEmployeeCsvButton','‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pagination-btn\x22\x20','winnerDetailModal','‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß','</td><td\x20class=\x22px-4\x20py-0\x20text-center\x22><span\x20class=\x22px-3\x20py-0\x20bg-green-100\x20text-green-700\x20rounded-full\x20text-xs\x20font-black\x20uppercase\x22>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</span></td><td\x20class=\x22px-4\x20py-0\x20text-center\x22><span\x20onclick=\x22cancelReg(\x27','selectedTeamTableBody','closeGroupViewModalButton','ttb-register.firebaseapp.com','openGroupDetail','employeeId','#F59E0B','searchEmployeeIdInput','closeRandomizeModalButtonX','\x27)\x22\x20class=\x22text-red-600\x20hover:text-red-700\x20cursor-pointer\x20font-black\x20text-xs\x22>‡∏•‡∏ö</span></td></tr>','gvOverallStatsRegistered','register-content','winnerEmployeeId','#loader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20bg-blue-50\x20p-2.5\x20rounded-xl\x20border\x20border-blue-100\x20winner-row-animate\x20shadow-sm\x20mb-1.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-blue-600\x20text-white\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x20rounded-full\x20text-[9px]\x20font-bold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-center\x20text-sm\x22>','crsg','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-black\x20uppercase\x20text-left\x22>','addEventListener','\x20hover:bg-gray-50\x20transition-colors\x20text-center\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-gray-400\x20text-center\x20text-xs\x22>','reduce','<tr><td\x20colspan=\x226\x22\x20class=\x22p-6\x20text-center\x20text-gray-400\x20font-bold\x22>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</td></tr>','\x20px-3\x20py-1\x20rounded\x20text-[10px]\x20font-normal\x20uppercase\x20cursor-pointer\x20transition-all\x20text-xs\x20text-sm\x22>Delete</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','empStatsContainer','length','nickname','dashboardListTableBody','giftQtyInput','\ufeff‡∏£‡∏´‡∏±‡∏™,‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•,\x20NickName,\x20‡∏™‡∏≤‡∏¢‡∏á‡∏≤‡∏ô,‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î,‡∏ó‡∏µ‡∏°,‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞\x0a','searchRegEmployeeIdInput','add','‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•','Check_Place'];_0x5ca7=function(){return _0x4c9648;};return _0x5ca7();}async function runIndividualLuckyDraw(){const _0x54a145=_0x333673,_0x2660eb=document[_0x54a145(0xe6)](_0x54a145(0x154));_0x2660eb[_0x54a145(0x1e8)]='';const _0x49e4bd=allEmployeesData[_0x54a145(0x16d)](_0x4dd0ae=>_0x4dd0ae[_0x54a145(0x184)]&&_0x4dd0ae[_0x54a145(0x26b)]==='invite'&&!_0x4dd0ae[_0x54a145(0x256)]);if(!selectedIndGiftId){_0x2660eb[_0x54a145(0x1e8)]=_0x54a145(0x111);return;}if(!_0x49e4bd[_0x54a145(0x141)]){_0x2660eb['textContent']=_0x54a145(0x1dd);return;}const _0xf04154=allGiftsData[_0x54a145(0x268)](_0x2d91dc=>_0x2d91dc['id']===selectedIndGiftId);if(!_0xf04154||_0xf04154[_0x54a145(0xe8)]<=0x0){_0x2660eb['textContent']=_0x54a145(0x128);return;}const _0x10b729=document[_0x54a145(0xe6)](_0x54a145(0x1c2));_0x10b729[_0x54a145(0x22b)]=!![];const _0x7bb5e0=[0x1,0x2,0x3,0x4,0x5][_0x54a145(0x109)](_0x46abde=>document[_0x54a145(0xe6)](_0x54a145(0x14b)+_0x46abde));let _0x4dbc4e=0x0;drawInterval=setInterval(()=>{const _0x548fd0=_0x54a145;_0x7bb5e0[_0x548fd0(0xff)](_0x87ac8e=>_0x87ac8e[_0x548fd0(0x1e8)]=Math['floor'](Math[_0x548fd0(0x120)]()*0xa));if(++_0x4dbc4e>0x28){clearInterval(drawInterval);const _0x591875=_0x49e4bd[Math[_0x548fd0(0x28c)](Math['random']()*_0x49e4bd[_0x548fd0(0x141)])],_0x214e4b=String(_0x591875['employeeId'])['slice'](-0x5)['padStart'](0x5,'0');_0x7bb5e0['forEach']((_0x1fa9c9,_0x95c831)=>_0x1fa9c9[_0x548fd0(0x1e8)]=_0x214e4b[_0x95c831]),setTimeout(async()=>{const _0x49b50a=_0x548fd0;await updateDoc(doc(db,'crsg_gift',selectedIndGiftId),{'remainingQty':_0xf04154[_0x49b50a(0xe8)]-0x1}),await updateDoc(doc(db,_0x49b50a(0x139),_0x591875['id']),{'RandomTime':serverTimestamp(),'AwardedGift':_0xf04154['name'],'AwardedGiftId':selectedIndGiftId}),document[_0x49b50a(0xe6)](_0x49b50a(0x234))[_0x49b50a(0x1e8)]=_0x591875[_0x49b50a(0x271)]+'\x20('+_0x591875[_0x49b50a(0x12e)]+')',document['getElementById'](_0x49b50a(0x248))[_0x49b50a(0x1e8)]='‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:\x20'+_0xf04154[_0x49b50a(0x221)],document['getElementById'](_0x49b50a(0x135))[_0x49b50a(0x1e8)]='‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô:\x20'+_0x591875[_0x49b50a(0x12e)],document[_0x49b50a(0xe6)](_0x49b50a(0x1fe))[_0x49b50a(0x1e8)]=_0x49b50a(0x239)+(_0x591875[_0x49b50a(0x265)]||'-'),document[_0x49b50a(0xe6)]('winnerTeam')['textContent']=_0x49b50a(0xe4)+(_0x591875[_0x49b50a(0x26e)]||'-'),document[_0x49b50a(0xe6)](_0x49b50a(0x127))[_0x49b50a(0x266)]['remove'](_0x49b50a(0x241)),confetti({'particleCount':0x96,'spread':0x64,'origin':{'y':0.6}}),_0x10b729['disabled']=![],updateLuckyDrawStats();},0x1f4);}},0x32);}window['removeLuckyWinner']=async _0x4dc4f1=>{const _0x3af9b4=_0x333673,_0x1cac65=allEmployeesData['find'](_0x5acf58=>_0x5acf58['id']===_0x4dc4f1);if(!_0x1cac65)return;if(_0x1cac65[_0x3af9b4(0x28b)]){const _0x19aa0b=allGiftsData['find'](_0x174df6=>_0x174df6['id']===_0x1cac65[_0x3af9b4(0x28b)]);if(_0x19aa0b)await updateDoc(doc(db,'crsg_gift',_0x19aa0b['id']),{'remainingQty':_0x19aa0b[_0x3af9b4(0xe8)]+0x1});}await updateDoc(doc(db,_0x3af9b4(0x139),_0x4dc4f1),{'RandomTime':null,'AwardedGift':'','AwardedGiftId':null,'ReceivedTime':null}),document[_0x3af9b4(0xe6)](_0x3af9b4(0x127))[_0x3af9b4(0x266)][_0x3af9b4(0x147)](_0x3af9b4(0x241));};function updateLuckyDrawStats(){const _0x3db96c=_0x333673,_0x1b04f4=allEmployeesData[_0x3db96c(0x16d)](_0x38a777=>_0x38a777[_0x3db96c(0x184)]&&_0x38a777[_0x3db96c(0x26b)]==='invite'),_0x1572d5=_0x1b04f4['filter'](_0x4c468c=>_0x4c468c[_0x3db96c(0x256)])[_0x3db96c(0x125)]((_0x17b334,_0x55b971)=>(_0x55b971[_0x3db96c(0x256)]?.[_0x3db96c(0x152)]()||0x0)-(_0x17b334[_0x3db96c(0x256)]?.[_0x3db96c(0x152)]()||0x0));document[_0x3db96c(0xe6)](_0x3db96c(0x18d))[_0x3db96c(0x1e8)]=_0x1b04f4[_0x3db96c(0x16d)](_0x390b52=>!_0x390b52[_0x3db96c(0x256)])[_0x3db96c(0x141)],document['getElementById'](_0x3db96c(0x1ff))[_0x3db96c(0x1e8)]=_0x1572d5[_0x3db96c(0x141)],document['getElementById'](_0x3db96c(0x226))[_0x3db96c(0x161)]=_0x1572d5['map'](_0x3ad40c=>_0x3db96c(0x1e1)+_0x3ad40c[_0x3db96c(0x12e)]+'</td><td\x20class=\x22px-4\x20py-4\x20uppercase\x20font-bold\x20text-xm\x20text-left\x20text-sm\x20text-sm\x20text-sm\x22>'+_0x3ad40c[_0x3db96c(0x271)]+(_0x3ad40c['AwardedGift']?_0x3db96c(0x22f)+_0x3ad40c['AwardedGift']+_0x3db96c(0x262):'')+'</td><td\x20class=\x22px-4\x20py-4\x20text-xm\x20font-bold\x20text-gray-500\x20uppercase\x20text-left\x20text-sm\x22>'+(_0x3ad40c[_0x3db96c(0x265)]||'-')+'</td><td\x20class=\x22px-4\x20py-4\x20text-center\x22><span\x20onclick=\x22removeLuckyWinner(\x27'+_0x3ad40c['id']+'\x27)\x22\x20class=\x22bg-red-50\x20text-white\x20px-3\x20py-1\x20rounded\x20cursor-pointer\x20text-sm\x20font-bold\x22>‡∏•‡∏ö</span></td></tr>')[_0x3db96c(0x25a)]('');}function updateTeamTab(){const _0x589422=_0x333673,_0x53fe64=document['getElementById'](_0x589422(0x283)),_0x141474=_0x53fe64[_0x589422(0x1d6)];_0x53fe64[_0x589422(0x161)]=_0x589422(0x22c)+teamNames[_0x589422(0x109)](_0x35c45d=>_0x589422(0x250)+_0x35c45d+'\x22>'+_0x35c45d+_0x589422(0x20a))[_0x589422(0x25a)](''),_0x53fe64['value']=teamNames[_0x589422(0x1c8)](_0x141474)?_0x141474:'';if(_0x53fe64[_0x589422(0x1d6)]){const _0x4ef360=allEmployeesData['filter'](_0x416f25=>_0x416f25[_0x589422(0x149)]===_0x53fe64[_0x589422(0x1d6)]);document[_0x589422(0xe6)](_0x589422(0x17d))['textContent']=_0x4ef360[_0x589422(0x141)],document[_0x589422(0xe6)](_0x589422(0x206))[_0x589422(0x1e8)]=_0x4ef360[_0x589422(0x16d)](_0x3e0b64=>_0x3e0b64['DateLogin'])[_0x589422(0x141)],document[_0x589422(0xe6)]('teamStatsContainer')[_0x589422(0x266)][_0x589422(0x269)](_0x589422(0x241)),document[_0x589422(0xe6)](_0x589422(0x12a))[_0x589422(0x161)]=_0x4ef360[_0x589422(0x109)]((_0x5c862f,_0x5e52e7)=>_0x589422(0x1ed)+(_0x5c862f[_0x589422(0x184)]?'bg-yellow-50':'')+'\x20hover:bg-gray-50\x20transition-colors\x20text-center\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x22>'+(_0x5e52e7+0x1)+_0x589422(0x201)+_0x5c862f['employeeId']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20uppercase\x20text-left\x22>'+_0x5c862f[_0x589422(0x271)]+_0x589422(0x1d8)+(_0x5c862f['NickName']||'-')+_0x589422(0x1d8)+(_0x5c862f[_0x589422(0x265)]||'-')+_0x589422(0x1d8)+(_0x5c862f[_0x589422(0x26e)]||'-')+_0x589422(0x1fb)+(_0x5c862f[_0x589422(0x184)]?'<span\x20class=\x22px-3\x20py-1\x20bg-green-100\x20text-green-700\x20rounded-md\x22>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</span>':'-')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-center\x22><span\x20onclick=\x22editEmp(\x27'+_0x5c862f['id']+_0x589422(0x24e))[_0x589422(0x25a)]('');}else document['getElementById'](_0x589422(0x1f8))[_0x589422(0x266)][_0x589422(0x147)](_0x589422(0x241));}function updateGridTab(){const _0x58bed8=_0x333673,_0xa2fdc7=document[_0x58bed8(0xe6)](_0x58bed8(0x18c))[_0x58bed8(0x1d6)],_0x1900f4=[...new Set(allEmployeesData['map'](_0x563a22=>_0x563a22[_0x58bed8(0x26e)])[_0x58bed8(0x16d)](Boolean))]['sort'](),_0x4c652e=document['getElementById'](_0x58bed8(0x18c));_0x4c652e['options'][_0x58bed8(0x141)]!==_0x1900f4[_0x58bed8(0x141)]+0x1&&(_0x4c652e['innerHTML']='<option\x20value=\x22\x22>--\x20‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\x20--</option>'+_0x1900f4['map'](_0x282d8f=>_0x58bed8(0x250)+_0x282d8f+'\x22>'+_0x282d8f+'</option>')['join'](''));_0x4c652e[_0x58bed8(0x1d6)]=_0xa2fdc7;const _0xd48bfb=_0xa2fdc7?allEmployeesData[_0x58bed8(0x16d)](_0x2a8c6f=>_0x2a8c6f[_0x58bed8(0x26e)]===_0xa2fdc7):allEmployeesData,_0x37bac4=_0xd48bfb[_0x58bed8(0x16d)](_0x549af2=>_0x549af2[_0x58bed8(0x26b)]==='invite');document['getElementById'](_0x58bed8(0x1b6))[_0x58bed8(0x1e8)]=_0x37bac4[_0x58bed8(0x141)],document[_0x58bed8(0xe6)](_0x58bed8(0x133))[_0x58bed8(0x1e8)]=_0x37bac4[_0x58bed8(0x16d)](_0xe18c30=>_0xe18c30[_0x58bed8(0x184)])[_0x58bed8(0x141)],document[_0x58bed8(0xe6)](_0x58bed8(0x1c7))['classList']['remove'](_0x58bed8(0x241));const _0x468f8b={};teamNames[_0x58bed8(0xff)](_0x46bd56=>_0x468f8b[_0x46bd56]={'r':0x0,'t':0x0}),_0xd48bfb['filter'](_0x3b69df=>_0x3b69df[_0x58bed8(0x149)])[_0x58bed8(0xff)](_0x2da035=>{const _0x260f21=_0x58bed8;if(_0x468f8b[_0x2da035[_0x260f21(0x149)]]){_0x468f8b[_0x2da035['Check_Place']]['t']++;if(_0x2da035[_0x260f21(0x184)])_0x468f8b[_0x2da035['Check_Place']]['r']++;}});const _0xe5aa57=document['getElementById'](_0x58bed8(0x255)),_0x28440c=document[_0x58bed8(0xe6)](_0x58bed8(0x1da));_0xe5aa57['innerHTML']='',_0x28440c[_0x58bed8(0x161)]='',teamNames[_0x58bed8(0xff)](_0x2226bc=>{const _0x3de240=_0x58bed8,_0x503646=_0x468f8b[_0x2226bc];let _0x5ae463=_0x3de240(0x194);if(_0x503646['t']>0x0){if(_0x503646['r']===_0x503646['t'])_0x5ae463=_0x3de240(0x169);else{if(_0x503646['r']>0x0)_0x5ae463='bg-orange-100';}}const _0x50b2c7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22openGroupDetail(\x27'+_0x2226bc+'\x27)\x22\x20class=\x22'+_0x5ae463+_0x3de240(0xdc)+_0x2226bc+_0x3de240(0x25e)+_0x503646['r']+'/'+_0x503646['t']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x2226bc['startsWith']('A'))_0xe5aa57[_0x3de240(0x161)]+=_0x50b2c7;else{if(_0x2226bc[_0x3de240(0x1f3)]('B'))_0x28440c['innerHTML']+=_0x50b2c7;}});}function updateEmployeeList(){const _0x49c654=_0x333673,_0x3dd90b=document[_0x49c654(0xe6)](_0x49c654(0x291))[_0x49c654(0x1d6)],_0x35aaab=[...new Set(allEmployeesData['map'](_0x2b1d52=>_0x2b1d52[_0x49c654(0x26e)])[_0x49c654(0x16d)](Boolean))]['sort'](),_0x5cf498=document[_0x49c654(0xe6)](_0x49c654(0x291));_0x5cf498[_0x49c654(0x293)][_0x49c654(0x141)]!==_0x35aaab[_0x49c654(0x141)]+0x1&&(_0x5cf498[_0x49c654(0x161)]=_0x49c654(0x17e)+_0x35aaab[_0x49c654(0x109)](_0x523ad1=>_0x49c654(0x250)+_0x523ad1+'\x22>'+_0x523ad1+'</option>')[_0x49c654(0x25a)](''));_0x5cf498[_0x49c654(0x1d6)]=_0x3dd90b;let _0x453232=allEmployeesData[_0x49c654(0x16d)](_0x1c6d8a=>_0x1c6d8a['Check_Place']&&_0x1c6d8a[_0x49c654(0x149)][_0x49c654(0x236)]()!==''||_0x1c6d8a[_0x49c654(0x184)]);if(_0x3dd90b)_0x453232=_0x453232[_0x49c654(0x16d)](_0x4859d8=>_0x4859d8[_0x49c654(0x26e)]===_0x3dd90b);_0x453232[_0x49c654(0x125)]((_0x598bce,_0x6a52c2)=>{const _0x2e0cfd=_0x49c654;let _0x1bbf45,_0x260aab;switch(empSortField){case _0x2e0cfd(0x16b):_0x1bbf45=_0x598bce['DateLogin']?0x1:0x0,_0x260aab=_0x6a52c2[_0x2e0cfd(0x184)]?0x1:0x0;break;case _0x2e0cfd(0x221):return empSortDir===_0x2e0cfd(0x17c)?_0x598bce['FullName_th'][_0x2e0cfd(0x259)](_0x6a52c2[_0x2e0cfd(0x271)],'th'):_0x6a52c2[_0x2e0cfd(0x271)][_0x2e0cfd(0x259)](_0x598bce[_0x2e0cfd(0x271)],'th');case'branch':_0x1bbf45=_0x598bce[_0x2e0cfd(0x265)]||'',_0x260aab=_0x6a52c2['Branch_eng']||'';break;case _0x2e0cfd(0x26a):_0x1bbf45=_0x598bce[_0x2e0cfd(0x26e)]||'',_0x260aab=_0x6a52c2[_0x2e0cfd(0x26e)]||'';break;case _0x2e0cfd(0x142):_0x1bbf45=_0x598bce[_0x2e0cfd(0x203)]||'',_0x260aab=_0x6a52c2[_0x2e0cfd(0x203)]||'';break;case'gift':_0x1bbf45=_0x598bce[_0x2e0cfd(0x273)]?0x1:0x0,_0x260aab=_0x6a52c2[_0x2e0cfd(0x273)]?0x1:0x0;break;default:_0x1bbf45=_0x598bce[_0x2e0cfd(0x12e)],_0x260aab=_0x6a52c2[_0x2e0cfd(0x12e)];}if(_0x1bbf45<_0x260aab)return empSortDir==='asc'?-0x1:0x1;if(_0x1bbf45>_0x260aab)return empSortDir===_0x2e0cfd(0x17c)?0x1:-0x1;return 0x0;});const _0x196279=_0x453232[_0x49c654(0x141)],_0x4ddad8=_0x453232[_0x49c654(0x16d)](_0x51cd44=>_0x51cd44[_0x49c654(0x184)])[_0x49c654(0x141)],_0x509ea4=_0x196279-_0x4ddad8,_0x2004fd=_0x196279>0x0?Math[_0x49c654(0x223)](_0x4ddad8/_0x196279*0x64):0x0;document['getElementById']('empStatsTotal')[_0x49c654(0x1e8)]=_0x196279,document[_0x49c654(0xe6)](_0x49c654(0x101))[_0x49c654(0x1e8)]=_0x4ddad8,document[_0x49c654(0xe6)](_0x49c654(0x1bd))['textContent']=_0x509ea4,document[_0x49c654(0xe6)]('empStatsPercent')['textContent']=_0x2004fd+'%',document[_0x49c654(0xe6)](_0x49c654(0x140))[_0x49c654(0x266)]['remove'](_0x49c654(0x241));const _0xd8815e=Math[_0x49c654(0x22a)](_0x196279/empPageSize);if(empCurrentPage>_0xd8815e&&_0xd8815e>0x0)empCurrentPage=_0xd8815e;const _0x4406de=_0x453232[_0x49c654(0xed)]((empCurrentPage-0x1)*empPageSize,empCurrentPage*empPageSize);document['getElementById'](_0x49c654(0x25c))[_0x49c654(0x161)]=_0x4406de['map']((_0x201535,_0x155d5f)=>{const _0x17f514=_0x49c654,_0x5ccd0d=_0x201535[_0x17f514(0x184)]?!![]:![];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22'+(_0x5ccd0d?'bg-yellow-50':'')+_0x17f514(0x13c)+((empCurrentPage-0x1)*empPageSize+(_0x155d5f+0x1))+_0x17f514(0x118)+_0x201535[_0x17f514(0x12e)]+_0x17f514(0x240)+_0x201535['FullName_th']+_0x17f514(0x199)+(_0x201535[_0x17f514(0x265)]||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20text-left\x20text-gray-600\x20text-sm\x20text-sm\x22>'+(_0x201535[_0x17f514(0x26e)]||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20text-left\x20text-gray-400\x20text-sm\x20text-sm\x22>'+(_0x201535[_0x17f514(0x203)]||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20text-center\x20text-orange-600\x20text-sm\x20text-sm\x22>'+(_0x201535[_0x17f514(0x273)]?_0x17f514(0x148):'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-bold\x20text-blue-500\x20uppercase\x20text-center\x20text-sm\x20text-sm\x22>'+(_0x201535[_0x17f514(0x149)]||'-')+_0x17f514(0x247)+(_0x5ccd0d?'<span\x20class=\x22px-3\x20py-1\x20bg-green-100\x20text-green-700\x20rounded-md\x20text-[10px]\x20font-normal\x20text-xs\x20text-sm\x22>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</span>':'-')+_0x17f514(0x21d)+_0x201535['id']+_0x17f514(0x157)+_0x201535['FullName_th']+_0x17f514(0x27a)+(_0x5ccd0d?'':'disabled')+_0x17f514(0x27f)+(_0x5ccd0d?_0x17f514(0x281):_0x17f514(0x1f0))+_0x17f514(0x13f);})[_0x49c654(0x25a)](''),renderEmpPagination(_0xd8815e);}function renderEmpPagination(_0x58afaa){const _0x1fdcae=_0x333673,_0x220095=document['getElementById']('empPaginationContainer');if(_0x58afaa<=0x1){_0x220095[_0x1fdcae(0x161)]='';return;}let _0x3b2b58=_0x1fdcae(0x126)+(empCurrentPage===0x1?_0x1fdcae(0x22b):'')+_0x1fdcae(0x1fd)+(empCurrentPage-0x1)+')\x22>‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';for(let _0x3fb5e3=0x1;_0x3fb5e3<=_0x58afaa;_0x3fb5e3++){if(_0x3fb5e3===0x1||_0x3fb5e3===_0x58afaa||_0x3fb5e3>=empCurrentPage-0x2&&_0x3fb5e3<=empCurrentPage+0x2)_0x3b2b58+=_0x1fdcae(0x19b)+(_0x3fb5e3===empCurrentPage?_0x1fdcae(0x1a9):'')+_0x1fdcae(0x23b)+_0x3fb5e3+')\x22>'+_0x3fb5e3+_0x1fdcae(0x20b);else(_0x3fb5e3===empCurrentPage-0x3||_0x3fb5e3===empCurrentPage+0x3)&&(_0x3b2b58+='<span\x20class=\x22px-1\x20text-gray-400\x22>...</span>');}_0x3b2b58+=_0x1fdcae(0x126)+(empCurrentPage===_0x58afaa?_0x1fdcae(0x22b):'')+_0x1fdcae(0x1fd)+(empCurrentPage+0x1)+_0x1fdcae(0x119),_0x220095[_0x1fdcae(0x161)]=_0x3b2b58;}window['changeEmpPage']=_0x69797=>{empCurrentPage=_0x69797,updateEmployeeList();},window[_0x333673(0x16a)]=(_0x470dd2,_0x3c9e4c)=>{const _0x241dee=_0x333673,_0x75fa24=allEmployeesData[_0x241dee(0x268)](_0x32cc5b=>_0x32cc5b['id']===_0x470dd2);if(!_0x75fa24)return;const _0x35168b=document[_0x241dee(0xe6)]('confirmModalInner');_0x35168b[_0x241dee(0x1cf)]=_0x241dee(0x235),currentConfirmAction=async()=>{const _0x3c972d=_0x241dee;try{const _0x6b21c4={'DateLogin':null,'MobileId':'','AwardedGift':'','AwardedGiftId':null,'RandomTime':null,'ReceivedTime':null};if(_0x75fa24[_0x3c972d(0x28b)]){const _0x48acbb=allGiftsData[_0x3c972d(0x268)](_0xad39df=>_0xad39df['id']===_0x75fa24['AwardedGiftId']);_0x48acbb&&await updateDoc(doc(db,_0x3c972d(0x10f),_0x48acbb['id']),{'remainingQty':(_0x48acbb['remainingQty']||0x0)+0x1});}await updateDoc(doc(db,'crsg',_0x470dd2),_0x6b21c4),document[_0x3c972d(0xe6)](_0x3c972d(0x107))[_0x3c972d(0x266)]['add'](_0x3c972d(0x241));}catch(_0x211a31){console[_0x3c972d(0xf3)](_0x211a31);}},document['getElementById'](_0x241dee(0x204))['textContent']=_0x241dee(0x216),document[_0x241dee(0xe6)](_0x241dee(0x1a3))[_0x241dee(0x1e8)]='‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏Ç‡∏≠‡∏á\x20['+_0x3c9e4c+_0x241dee(0x117),document['getElementById']('confirmInputContainer')['classList'][_0x241dee(0x147)](_0x241dee(0x241)),document[_0x241dee(0xe6)](_0x241dee(0x107))[_0x241dee(0x266)][_0x241dee(0x269)]('hidden');},window[_0x333673(0x12d)]=_0x3cec7c=>{const _0x268deb=_0x333673,_0x1ffc17=allEmployeesData['filter'](_0x496696=>_0x496696['Check_Place']===_0x3cec7c);document[_0x268deb(0xe6)](_0x268deb(0x191))[_0x268deb(0x1e8)]=_0x268deb(0xdd)+_0x3cec7c,document[_0x268deb(0xe6)]('groupViewStatsTotal')[_0x268deb(0x1e8)]=_0x1ffc17[_0x268deb(0x141)],document[_0x268deb(0xe6)](_0x268deb(0x176))[_0x268deb(0x1e8)]=_0x1ffc17[_0x268deb(0x16d)](_0x4e258c=>_0x4e258c[_0x268deb(0x184)])[_0x268deb(0x141)],document[_0x268deb(0xe6)](_0x268deb(0x1f5))['innerHTML']=_0x1ffc17[_0x268deb(0x109)]((_0x476998,_0x3ca543)=>{const _0x528d79=_0x268deb;return _0x528d79(0x274)+(_0x476998['DateLogin']?_0x528d79(0x205):'')+_0x528d79(0x25b)+(_0x3ca543+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20text-blue-700\x20text-center\x20text-sm\x22>'+_0x476998[_0x528d79(0x12e)]+_0x528d79(0x1b8)+_0x476998[_0x528d79(0x271)]+_0x528d79(0x186)+(_0x476998[_0x528d79(0x203)]||'-')+_0x528d79(0x1f9)+(_0x476998[_0x528d79(0x265)]||'-')+_0x528d79(0x1f9)+(_0x476998['Check_Manager']||'-')+_0x528d79(0x197)+(_0x476998[_0x528d79(0x184)]?'<span\x20class=\x22bg-green-100\x20text-green-700\x20px-2\x20py-0.5\x20rounded\x20text-[10px]\x20font-normal\x22>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</span>':'-')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20onclick=\x22editEmp(\x27'+_0x476998['id']+'\x27)\x22\x20class=\x22bg-red-500\x20text-white\x20px-3\x20py-0.5\x20rounded\x20text-[10px]\x20font-bold\x20uppercase\x20cursor-pointer\x22>Edit</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>';})['join']('')||'<tr><td\x20colspan=\x228\x22\x20class=\x22p-10\x20text-center\x20text-sm\x20text-sm\x22>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠</td></tr>',document[_0x268deb(0xe6)](_0x268deb(0x1bf))[_0x268deb(0x266)][_0x268deb(0x269)](_0x268deb(0x241));},window['editEmp']=_0xee20ff=>{const _0x5d211a=_0x333673,_0x1b7a9c=allEmployeesData[_0x5d211a(0x268)](_0xdca891=>_0xdca891['id']===_0xee20ff);if(!_0x1b7a9c)return;currentEditingDocId=_0xee20ff,document[_0x5d211a(0xe6)]('editEmpId')[_0x5d211a(0x1e8)]=_0x1b7a9c[_0x5d211a(0x12e)],document['getElementById'](_0x5d211a(0x230))[_0x5d211a(0x1e8)]=_0x1b7a9c[_0x5d211a(0x271)],document[_0x5d211a(0xe6)](_0x5d211a(0x163))[_0x5d211a(0x1d6)]=_0x1b7a9c[_0x5d211a(0x203)]||'',document[_0x5d211a(0xe6)](_0x5d211a(0xf4))[_0x5d211a(0x1d6)]=_0x1b7a9c[_0x5d211a(0x26e)]||'',document['getElementById']('editEmpTeam')[_0x5d211a(0x1d6)]=_0x1b7a9c[_0x5d211a(0x149)]||'',document['getElementById'](_0x5d211a(0x1b9))[_0x5d211a(0x266)][_0x5d211a(0x269)](_0x5d211a(0x241));};function searchForRegistration(){const _0x590190=_0x333673,_0x441071=document[_0x590190(0xe6)](_0x590190(0x146))[_0x590190(0x1d6)][_0x590190(0x236)](),_0x9aa0dc=document['getElementById'](_0x590190(0x20d));_0x9aa0dc['textContent']='';if(!_0x441071){_0x9aa0dc[_0x590190(0x1e8)]=_0x590190(0x124);return;}const _0x31c0c0=allEmployeesData[_0x590190(0x268)](_0x4d7dce=>_0x4d7dce[_0x590190(0x12e)]===_0x441071);_0x31c0c0?(currentEditingDocId=_0x31c0c0['id'],document[_0x590190(0xe6)](_0x590190(0x1e4))[_0x590190(0x1e8)]=_0x31c0c0[_0x590190(0x12e)],document['getElementById'](_0x590190(0x164))['textContent']=_0x31c0c0[_0x590190(0x271)],document[_0x590190(0xe6)](_0x590190(0x225))[_0x590190(0x1e8)]=_0x31c0c0['Branch_eng']||'-',document['getElementById'](_0x590190(0x14c))[_0x590190(0x1e8)]=_0x31c0c0[_0x590190(0x26e)]||'-',document[_0x590190(0xe6)](_0x590190(0x24d))['value']=_0x31c0c0[_0x590190(0x203)]||'',document[_0x590190(0xe6)](_0x590190(0x102))[_0x590190(0x1d6)]=_0x31c0c0[_0x590190(0x149)]||'',document[_0x590190(0xe6)](_0x590190(0x28f))[_0x590190(0x1d6)]=_0x31c0c0[_0x590190(0x26b)]||'',document[_0x590190(0xe6)]('manualRegisterModal')[_0x590190(0x266)][_0x590190(0x269)]('hidden'),document[_0x590190(0xe6)](_0x590190(0x159))[_0x590190(0x1e8)]=''):_0x9aa0dc[_0x590190(0x1e8)]=_0x590190(0x252);}async function saveManualRegistration(){const _0xabd787=_0x333673,_0x456fe4=document['getElementById'](_0xabd787(0x24d))[_0xabd787(0x1d6)][_0xabd787(0x236)](),_0x1144ae=document['getElementById'](_0xabd787(0x102))[_0xabd787(0x1d6)][_0xabd787(0x236)](),_0x52782c=document['getElementById'](_0xabd787(0x28f))[_0xabd787(0x1d6)],_0x1bc173=document[_0xabd787(0xe6)](_0xabd787(0x159));try{await updateDoc(doc(db,_0xabd787(0x139),currentEditingDocId),{'NickName':_0x456fe4,'Check_Place':_0x1144ae,'invite':_0x52782c,'DateLogin':serverTimestamp()}),document[_0xabd787(0xe6)]('manualRegisterModal')[_0xabd787(0x266)][_0xabd787(0x147)](_0xabd787(0x241)),document['getElementById']('searchRegEmployeeIdInput')['value']='';}catch(_0x46c94f){console['error'](_0x46c94f),_0x1bc173[_0xabd787(0x1e8)]=_0xabd787(0x26c);}}function handleEmpSort(_0x5c4992){const _0x1b2b75=_0x333673;empSortField===_0x5c4992?empSortDir=empSortDir===_0x1b2b75(0x17c)?_0x1b2b75(0x1ad):_0x1b2b75(0x17c):(empSortField=_0x5c4992,empSortDir='asc'),empCurrentPage=0x1,updateEmployeeList();}function setupListeners(){const _0x14be08=_0x333673;document[_0x14be08(0xe6)]('randomizeButton')[_0x14be08(0x13b)](_0x14be08(0x165),()=>{const _0x40de8b=_0x14be08;updateLuckyDrawStats(),document[_0x40de8b(0xe6)]('randomizeModal')['classList']['remove'](_0x40de8b(0x241));}),document[_0x14be08(0xe6)](_0x14be08(0x131))[_0x14be08(0x13b)](_0x14be08(0x165),()=>document[_0x14be08(0xe6)](_0x14be08(0x160))[_0x14be08(0x266)]['add'](_0x14be08(0x241))),document[_0x14be08(0xe6)](_0x14be08(0x1c2))[_0x14be08(0x13b)](_0x14be08(0x165),runIndividualLuckyDraw),document[_0x14be08(0xe6)]('grStartDrawBtn')[_0x14be08(0x13b)](_0x14be08(0x165),startGroupRandomDraw),document['getElementById'](_0x14be08(0x12b))[_0x14be08(0x13b)](_0x14be08(0x165),()=>document['getElementById'](_0x14be08(0x1bf))['classList'][_0x14be08(0x147)](_0x14be08(0x241))),document['getElementById']('closeWinnerModalButton')['addEventListener'](_0x14be08(0x165),()=>document[_0x14be08(0xe6)](_0x14be08(0x127))[_0x14be08(0x266)]['add'](_0x14be08(0x241))),document['getElementById'](_0x14be08(0x16f))[_0x14be08(0x13b)](_0x14be08(0x165),()=>document['getElementById']('editEmployeeModal')['classList'][_0x14be08(0x147)](_0x14be08(0x241))),document[_0x14be08(0xe6)](_0x14be08(0xdf))['addEventListener'](_0x14be08(0x165),()=>document[_0x14be08(0xe6)](_0x14be08(0x107))['classList'][_0x14be08(0x147)](_0x14be08(0x241))),document[_0x14be08(0xe6)](_0x14be08(0x1a0))['addEventListener'](_0x14be08(0x165),()=>openDashboardList('total')),document[_0x14be08(0xe6)](_0x14be08(0x285))[_0x14be08(0x13b)](_0x14be08(0x165),()=>openDashboardList(_0x14be08(0x224))),document[_0x14be08(0xe6)](_0x14be08(0x19e))[_0x14be08(0x13b)]('click',()=>openDashboardList('unregistered')),document[_0x14be08(0xe6)](_0x14be08(0x27d))[_0x14be08(0x13b)](_0x14be08(0x165),()=>openDashboardList('extras')),document[_0x14be08(0xe6)](_0x14be08(0xf0))['addEventListener'](_0x14be08(0x165),()=>document[_0x14be08(0xe6)](_0x14be08(0xe2))['classList']['add'](_0x14be08(0x241))),document[_0x14be08(0xe6)](_0x14be08(0x24c))[_0x14be08(0x13b)](_0x14be08(0x165),()=>handleEmpSort('id')),document[_0x14be08(0xe6)]('sort-emp-name')['addEventListener'](_0x14be08(0x165),()=>handleEmpSort(_0x14be08(0x221))),document['getElementById'](_0x14be08(0x18a))[_0x14be08(0x13b)]('click',()=>handleEmpSort('branch')),document['getElementById'](_0x14be08(0x19d))[_0x14be08(0x13b)](_0x14be08(0x165),()=>handleEmpSort(_0x14be08(0x26a))),document['getElementById']('sort-emp-nickname')[_0x14be08(0x13b)]('click',()=>handleEmpSort(_0x14be08(0x142))),document[_0x14be08(0xe6)](_0x14be08(0x1ce))[_0x14be08(0x13b)](_0x14be08(0x165),()=>handleEmpSort(_0x14be08(0x180))),document[_0x14be08(0xe6)](_0x14be08(0x166))['addEventListener'](_0x14be08(0x165),()=>handleEmpSort(_0x14be08(0x16b))),document['getElementById'](_0x14be08(0x202))[_0x14be08(0x13b)]('click',searchForRegistration),document['getElementById'](_0x14be08(0x11f))[_0x14be08(0x13b)](_0x14be08(0x165),()=>document[_0x14be08(0xe6)]('manualRegisterModal')[_0x14be08(0x266)][_0x14be08(0x147)](_0x14be08(0x241))),document[_0x14be08(0xe6)](_0x14be08(0x1cd))[_0x14be08(0x13b)](_0x14be08(0x165),saveManualRegistration),document[_0x14be08(0xe6)](_0x14be08(0x1de))[_0x14be08(0x13b)]('click',async()=>{if(currentConfirmAction)await currentConfirmAction();}),document[_0x14be08(0xe6)](_0x14be08(0xe9))['addEventListener']('click',addGift),document[_0x14be08(0xe6)](_0x14be08(0x1ca))[_0x14be08(0x13b)](_0x14be08(0x165),()=>{const _0x4e13d8=_0x14be08;giftPickerContext='ind',renderGiftPicker(),document[_0x4e13d8(0xe6)](_0x4e13d8(0x1a4))['classList']['remove'](_0x4e13d8(0x241));}),document[_0x14be08(0xe6)](_0x14be08(0x172))['addEventListener'](_0x14be08(0x165),()=>{const _0x39e810=_0x14be08;giftPickerContext=_0x39e810(0x1f7),renderGiftPicker(),document['getElementById'](_0x39e810(0x1a4))[_0x39e810(0x266)][_0x39e810(0x269)](_0x39e810(0x241));}),document[_0x14be08(0xe6)]('closeGiftPickerBtn')[_0x14be08(0x13b)](_0x14be08(0x165),()=>document[_0x14be08(0xe6)]('giftPickerModal')[_0x14be08(0x266)][_0x14be08(0x147)](_0x14be08(0x241))),document[_0x14be08(0xe6)](_0x14be08(0x233))[_0x14be08(0x13b)](_0x14be08(0x165),()=>document['getElementById'](_0x14be08(0xea))['classList'][_0x14be08(0x147)]('hidden')),document[_0x14be08(0xe6)](_0x14be08(0x195))[_0x14be08(0x13b)]('click',async()=>{const _0x5f0820=_0x14be08,_0x17cf46=document[_0x5f0820(0xe6)](_0x5f0820(0x23c))[_0x5f0820(0x1d6)][_0x5f0820(0x236)](),_0x13ac4a=parseInt(document['getElementById'](_0x5f0820(0x156))[_0x5f0820(0x1d6)]),_0x296b27=parseInt(document[_0x5f0820(0xe6)](_0x5f0820(0x25f))[_0x5f0820(0x1d6)]);if(!_0x17cf46||isNaN(_0x13ac4a)||isNaN(_0x296b27))return;await updateDoc(doc(db,_0x5f0820(0x10f),currentEditingGiftId),{'name':_0x17cf46,'totalQty':_0x13ac4a,'remainingQty':_0x296b27}),document[_0x5f0820(0xe6)]('editGiftModal')[_0x5f0820(0x266)][_0x5f0820(0x147)](_0x5f0820(0x241));}),document['getElementById'](_0x14be08(0x1db))['addEventListener'](_0x14be08(0x165),async()=>{const _0x2b02ee=_0x14be08;await updateDoc(doc(db,_0x2b02ee(0x139),currentEditingDocId),{'NickName':document[_0x2b02ee(0xe6)](_0x2b02ee(0x163))['value'],'Check_Manager':document[_0x2b02ee(0xe6)](_0x2b02ee(0xf4))[_0x2b02ee(0x1d6)],'Check_Place':document[_0x2b02ee(0xe6)](_0x2b02ee(0x11c))[_0x2b02ee(0x1d6)]}),document[_0x2b02ee(0xe6)](_0x2b02ee(0x1b9))[_0x2b02ee(0x266)][_0x2b02ee(0x147)]('hidden');}),document[_0x14be08(0xe6)]('searchEmployeeButton')[_0x14be08(0x13b)](_0x14be08(0x165),()=>{const _0x2781f8=_0x14be08,_0x5efa98=document[_0x2781f8(0xe6)](_0x2781f8(0x1fc));_0x5efa98[_0x2781f8(0x1e8)]='';const _0x5f0cb5=document['getElementById'](_0x2781f8(0x130))['value'][_0x2781f8(0x236)]();if(!_0x5f0cb5){_0x5efa98[_0x2781f8(0x1e8)]=_0x2781f8(0x124);return;}const _0x2c1210=allEmployeesData[_0x2781f8(0x268)](_0x1d8080=>_0x1d8080['employeeId']===_0x5f0cb5);_0x2c1210?(editEmp(_0x2c1210['id']),document[_0x2781f8(0xe6)](_0x2781f8(0x130))[_0x2781f8(0x1d6)]=''):_0x5efa98[_0x2781f8(0x1e8)]=_0x2781f8(0x1c0);}),document[_0x14be08(0xe6)](_0x14be08(0x283))['addEventListener'](_0x14be08(0x19c),updateTeamTab),document[_0x14be08(0xe6)](_0x14be08(0x18c))['addEventListener'](_0x14be08(0x19c),updateGridTab),document[_0x14be08(0xe6)](_0x14be08(0x291))['addEventListener']('change',()=>{empCurrentPage=0x1,updateEmployeeList();}),document['getElementById'](_0x14be08(0x261))['addEventListener'](_0x14be08(0x165),()=>{const _0x12f5c6=_0x14be08,_0x1e5510=document[_0x12f5c6(0xe6)]('definedTeamNamesInput')['value'][_0x12f5c6(0x236)]();if(!_0x1e5510)return;teamNames=_0x1e5510[_0x12f5c6(0x189)](',')[_0x12f5c6(0x109)](_0x129900=>_0x129900['trim']())[_0x12f5c6(0x16d)](Boolean),refreshUI();}),document[_0x14be08(0xe6)](_0x14be08(0x272))[_0x14be08(0x13b)](_0x14be08(0x165),()=>{const _0x259b99=_0x14be08;let _0x35b598=_0x259b99(0x145);allEmployeesData[_0x259b99(0x16d)](_0x418da6=>_0x418da6[_0x259b99(0x184)])[_0x259b99(0xff)](_0x4bac7e=>{const _0x2e3631=_0x259b99;_0x35b598+='\x22'+_0x4bac7e[_0x2e3631(0x12e)]+_0x2e3631(0x217)+_0x4bac7e[_0x2e3631(0x271)]+_0x2e3631(0x217)+(_0x4bac7e['NickName']||'')+_0x2e3631(0x217)+(_0x4bac7e[_0x2e3631(0x265)]||'')+_0x2e3631(0x217)+(_0x4bac7e[_0x2e3631(0x26e)]||'')+_0x2e3631(0x217)+(_0x4bac7e[_0x2e3631(0x149)]||'')+_0x2e3631(0x16c);});const _0x3d0494=new Blob([_0x35b598],{'type':_0x259b99(0x1e7)}),_0x20e7c4=document[_0x259b99(0x167)]('a');_0x20e7c4[_0x259b99(0x1ef)]=URL[_0x259b99(0x1c5)](_0x3d0494),_0x20e7c4['download']=_0x259b99(0x1eb),_0x20e7c4['click']();}),document[_0x14be08(0xe6)](_0x14be08(0x123))['addEventListener'](_0x14be08(0x165),()=>{const _0xcab8b3=_0x14be08,_0x562ea9=document[_0xcab8b3(0xe6)]('managerFilterSelect')[_0xcab8b3(0x1d6)];let _0x30c96a=allEmployeesData['filter'](_0x46fcde=>_0x46fcde[_0xcab8b3(0x149)]&&_0x46fcde['Check_Place'][_0xcab8b3(0x236)]()!==''||_0x46fcde['DateLogin']);if(_0x562ea9)_0x30c96a=_0x30c96a[_0xcab8b3(0x16d)](_0x41e582=>_0x41e582[_0xcab8b3(0x26e)]===_0x562ea9);let _0x6f18f7=_0xcab8b3(0x280);_0x30c96a[_0xcab8b3(0xff)]((_0x46d1cd,_0xa77821)=>{const _0x24f8b2=_0xcab8b3,_0x322dc2=_0x46d1cd[_0x24f8b2(0x184)]?'‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô':'-',_0x55d9c6=_0x46d1cd[_0x24f8b2(0x203)]||'-',_0x3785c2=_0x46d1cd[_0x24f8b2(0x273)]?_0x24f8b2(0x148):'-';_0x6f18f7+='\x22'+(_0xa77821+0x1)+_0x24f8b2(0x217)+_0x46d1cd[_0x24f8b2(0x12e)]+_0x24f8b2(0x217)+_0x46d1cd[_0x24f8b2(0x271)]+_0x24f8b2(0x217)+(_0x46d1cd['Branch_eng']||'-')+_0x24f8b2(0x217)+(_0x46d1cd['Check_Manager']||'-')+_0x24f8b2(0x217)+_0x55d9c6+_0x24f8b2(0x217)+_0x3785c2+'\x22,\x22'+(_0x46d1cd[_0x24f8b2(0x149)]||'-')+_0x24f8b2(0x217)+_0x322dc2+'\x22\x0a';});const _0x1e38a1=new Blob([_0x6f18f7],{'type':'text/csv;charset=utf-8;'}),_0xf8a22f=document[_0xcab8b3(0x167)]('a');_0xf8a22f['href']=URL[_0xcab8b3(0x1c5)](_0x1e38a1),_0xf8a22f[_0xcab8b3(0x121)]=_0xcab8b3(0x1c1),_0xf8a22f[_0xcab8b3(0x165)]();}),document['getElementById'](_0x14be08(0x192))['addEventListener'](_0x14be08(0x165),()=>{const _0x866c41=_0x14be08,_0x34a954=allEmployeesData['filter'](_0x446022=>_0x446022[_0x866c41(0x256)])['sort']((_0x34f71c,_0x1529f9)=>(_0x1529f9['RandomTime']?.['toMillis']()||0x0)-(_0x34f71c[_0x866c41(0x256)]?.['toMillis']()||0x0));let _0x2b1138=_0x866c41(0x282);_0x34a954[_0x866c41(0xff)](_0x370acf=>{const _0x59bf69=_0x866c41,_0x5407a8=_0x370acf[_0x59bf69(0x256)]?.[_0x59bf69(0x152)]()?new Date(_0x370acf['RandomTime']['toMillis']())[_0x59bf69(0x114)](_0x59bf69(0x1c6)):'-',_0x35bd61=_0x370acf['ReceivedTime']?_0x59bf69(0x258):_0x59bf69(0x188);_0x2b1138+='\x22'+_0x370acf[_0x59bf69(0x12e)]+_0x59bf69(0x217)+_0x370acf[_0x59bf69(0x271)]+'\x22,\x22'+(_0x370acf[_0x59bf69(0x273)]||'')+_0x59bf69(0x217)+(_0x370acf[_0x59bf69(0x265)]||'')+_0x59bf69(0x217)+(_0x370acf[_0x59bf69(0x26e)]||'')+_0x59bf69(0x217)+(_0x370acf[_0x59bf69(0x149)]||'')+_0x59bf69(0x217)+_0x35bd61+_0x59bf69(0x217)+_0x5407a8+'\x22\x0a';});const _0x5f03cd=new Blob([_0x2b1138],{'type':_0x866c41(0x1e7)}),_0x19d265=document['createElement']('a');_0x19d265[_0x866c41(0x1ef)]=URL['createObjectURL'](_0x5f03cd),_0x19d265[_0x866c41(0x121)]=_0x866c41(0x287),_0x19d265[_0x866c41(0x165)]();}),document[_0x14be08(0xe6)](_0x14be08(0x1b1))[_0x14be08(0x13b)]('click',()=>{const _0x4e3e19=_0x14be08,_0x2d5ca9=document[_0x4e3e19(0xe6)](_0x4e3e19(0x229)),_0xd713ea=document[_0x4e3e19(0xe6)](_0x4e3e19(0x21f)),_0x358298=document[_0x4e3e19(0xe6)](_0x4e3e19(0x264));_0xd713ea[_0x4e3e19(0x266)][_0x4e3e19(0x269)](_0x4e3e19(0x241)),_0x358298[_0x4e3e19(0x1d6)]='',currentConfirmAction=async()=>{const _0x196a4b=_0x4e3e19;if(_0x358298['value'][_0x196a4b(0x236)]()[_0x196a4b(0xf8)]()!==_0x196a4b(0x21b))return;const _0x30a779=writeBatch(db);allEmployeesData[_0x196a4b(0xff)](_0x30428f=>{const _0x4be7f1=_0x196a4b;_0x30a779[_0x4be7f1(0x28e)](doc(db,_0x4be7f1(0x139),_0x30428f['id']),{'DateLogin':null,'RandomTime':null,'AwardedGift':'','AwardedGiftId':null,'ReceivedTime':null,'MobileId':''});}),allGiftsData['forEach'](_0x275f9e=>{const _0x583710=_0x196a4b;_0x30a779[_0x583710(0x28e)](doc(db,_0x583710(0x10f),_0x275f9e['id']),{'remainingQty':_0x275f9e['totalQty']||0x1});}),await _0x30a779['commit'](),document[_0x196a4b(0xe6)]('confirmModal')[_0x196a4b(0x266)][_0x196a4b(0x147)](_0x196a4b(0x241));},document[_0x4e3e19(0xe6)](_0x4e3e19(0x204))[_0x4e3e19(0x1e8)]=_0x4e3e19(0x100),document[_0x4e3e19(0xe6)]('confirmText')[_0x4e3e19(0x1e8)]=_0x4e3e19(0x20e),document['getElementById'](_0x4e3e19(0x107))[_0x4e3e19(0x266)][_0x4e3e19(0x269)](_0x4e3e19(0x241));});}function updateGroupRandomUI(){const _0xb84c2c=_0x333673,_0x9e2e2f=allEmployeesData[_0xb84c2c(0x16d)](_0x129e43=>_0x129e43[_0xb84c2c(0x184)]&&_0x129e43[_0xb84c2c(0x26b)]===_0xb84c2c(0x26b)),_0x959264=_0x9e2e2f[_0xb84c2c(0x16d)](_0x520d0d=>_0x520d0d[_0xb84c2c(0x256)])[_0xb84c2c(0x125)]((_0x353e6f,_0xc8c05c)=>(_0xc8c05c[_0xb84c2c(0x256)]?.[_0xb84c2c(0x152)]()||0x0)-(_0x353e6f[_0xb84c2c(0x256)]?.[_0xb84c2c(0x152)]()||0x0)),_0x55a6be=_0x9e2e2f[_0xb84c2c(0x16d)](_0x474d62=>!_0x474d62[_0xb84c2c(0x256)]);if(document['getElementById'](_0xb84c2c(0x254)))document[_0xb84c2c(0xe6)](_0xb84c2c(0x254))[_0xb84c2c(0x1e8)]=_0x9e2e2f[_0xb84c2c(0x141)];if(document[_0xb84c2c(0xe6)](_0xb84c2c(0x1a5)))document[_0xb84c2c(0xe6)](_0xb84c2c(0x1a5))[_0xb84c2c(0x1e8)]=_0x55a6be[_0xb84c2c(0x141)];if(document[_0xb84c2c(0xe6)](_0xb84c2c(0x1e9)))document['getElementById'](_0xb84c2c(0x1e9))[_0xb84c2c(0x1e8)]=_0x959264[_0xb84c2c(0x141)];}
    </script>
</body>

</html>
