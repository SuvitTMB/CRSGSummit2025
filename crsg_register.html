<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRSG Summit 2025</title>
    <!-- โหลด Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Sarabun', sans-serif; }
    </style>
</head>
<!-- (แก้ไข) ปรับ margin-top (pt-8 = 2rem) -->
<body class="bg-white flex flex-col items-center justify-center min-h-screen pt-8 pb-10" style="background-color: #dee1e1;">

    <!-- กล่องลงทะเบียน -->
    <div id="registrationFormContainer" class="w-[95%] max-w-md p-8 space-y-6 bg-gray-50 rounded-lg shadow-md transition-colors duration-300">
        <h1 class="text-2xl font-bold text-center text-gray-900">CRSG Summit 2025</h1>
        <!-- *** แก้ไข: เพิ่ม id="eventDate" *** -->
        <p id="eventDate" class="text-sm font-medium text-gray-700 text-center" style="margin-top: 2px;">วันที่ 24 พฤศจิกายน 2568</p>

        <!-- *** แก้ไข: เพิ่ม id="eventImageContainer" *** -->
        <div id="eventImageContainer" class="mt-6 w-[70%] mx-auto">
            <img src="./images/crsg.png">
        </div>  
              
        <!-- *** เพิ่ม: ส่วนแสดงข้อมูลพนักงาน (ซ่อนไว้ตอนเริ่ม) *** -->
        <div id="employeeInfoDisplay" class="hidden text-center space-y-2 py-4">
            <p id="infoFullName" class="text-lg font-bold text-gray-900"></p>
            <!-- (แก้ไข) ซ่อน Position และ Department -->
            <p id="infoPosition" class="text-sm text-gray-700 hidden"></p>
            <p id="infoDepartment" class="text-sm text-gray-700 hidden"></p>
            <!-- (แก้ไข) แสดง BU -->
            <p id="infoBU" class="text-sm text-gray-700"></p>
        </div>

        <!-- ฟอร์มลงทะเบียน -->
        <form id="registrationForm" class="space-y-4">
            <div>
                <label for="employeeId" class="block text-sm font-medium text-gray-700">รหัสพนักงาน</label>
                <input type="text" id="employeeId" name="employeeId" required
                       class="w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 transition-colors duration-150">
            </div>
            
            <div>
                <!-- (แก้ไข) เปลี่ยน "ชื่อ - นามสกุล" เป็น "ชื่อเล่นของคุณ" -->
                <label for="nickname" class="block text-sm font-medium text-gray-700">ชื่อเล่นของคุณ</label>
                <!-- (แก้ไข) เปลี่ยน id และ name -->
                <input type="text" id="nickname" name="nickname" required
                       class="w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 transition-colors duration-150">
            </div>
            
            <button type="button" id="registerButton"
                    class="w-full px-4 py-2 font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out disabled:bg-gray-400">
                ลงทะเบียน
            </button>
        </form>
        
        <!-- พื้นที่แสดงข้อความ (สำหรับข้อผิดพลาดหลัก) --><div id="message" class="text-center text-sm"></div>

        <div id="teamDisplay" class="hidden text-center border-t pt-4 mt-4">
            <h2 id="teamNameDisplay" class="text-8xl font-bold text-[#0056ff]"></h2> 
            <p class="text-sm font-medium text-gray-700 mt-1">ทีมของคุณ</p>
            
            <p id="registrationStatusMessage" class="text-sm mt-4"></p>
            <p id="registrationTimestamp" class="text-xs text-gray-500"></p>
        </div>
    </div>

    <!-- (เพิ่ม) ส่วนแสดงสมาชิกในทีม (ซ่อนไว้ตอนเริ่ม) -->
    <!-- (แก้ไข) ปรับ margin-top (mt-8 = 2rem) -->
    <div id="teamMembersDisplay" class="hidden w-[95%] max-w-4xl p-6 bg-white rounded-lg shadow-md mt-8">
        <!-- (แก้ไข) ปรับโครงสร้าง header ของกล่องสมาชิก -->
        <div class="flex flex-col md:flex-row justify-between md:items-center mb-4 gap-3">
            <h3 id="teamMembersHeader" class="text-lg font-semibold text-gray-800">สมาชิกทีม : ...</h3>
            <div class="flex items-center gap-4">
                <!-- (เพิ่ม) Dropdown เลือกทีม -->
                <div>
                    <label for="teamSelect" class="text-sm font-medium mr-2">เลือกทีม:</label>
                    <select id="teamSelect" class="rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm py-2 px-3">
                        <!-- Options will be populated by JS -->
                    </select>
                </div>
                <span id="teamMembersCount" class="text-sm font-medium text-gray-600">สมาชิก ... คน</span>
            </div>
        </div>
        <div class="overflow-x-auto border rounded-lg">
            <table class="min-w-full text-sm">
                <!-- (แก้ไข) ปรับปรุงหัวตาราง -->
                <thead class="bg-gray-100">
                    <tr>
                        <th class="px-3 py-2 text-left font-medium text-gray-600 uppercase tracking-wider">ชื่อ-นามสกุล</th>
                        <th class="px-3 py-2 text-left font-medium text-gray-600 uppercase tracking-wider">สังกัด</th>
                        <th class="px-3 py-2 text-left font-medium text-gray-600 uppercase tracking-wider">สถานะ</th>
                    </tr>
                </thead>
                <tbody id="teamMembersTableBody" class="bg-white divide-y divide-gray-200">
                    <!-- Data will be populated by JS -->
                </tbody>
            </table>
        </div>
    </div>


    <!-- Firebase SDK และการเชื่อมต่อ --><script type="module">
        // นำเข้า Firebase modules
const _0x43d582=_0x53fd;(function(_0x393bd5,_0xa510c3){const _0x25598c=_0x53fd,_0x4c7096=_0x393bd5();while(!![]){try{const _0x5b5692=-parseInt(_0x25598c(0x151))/0x1*(parseInt(_0x25598c(0x169))/0x2)+-parseInt(_0x25598c(0x180))/0x3+-parseInt(_0x25598c(0x149))/0x4*(parseInt(_0x25598c(0x16b))/0x5)+parseInt(_0x25598c(0x11e))/0x6+parseInt(_0x25598c(0x161))/0x7*(-parseInt(_0x25598c(0x14d))/0x8)+-parseInt(_0x25598c(0x129))/0x9*(parseInt(_0x25598c(0x168))/0xa)+parseInt(_0x25598c(0x16a))/0xb*(parseInt(_0x25598c(0x12d))/0xc);if(_0x5b5692===_0xa510c3)break;else _0x4c7096['push'](_0x4c7096['shift']());}catch(_0x1ab25c){_0x4c7096['push'](_0x4c7096['shift']());}}}(_0x43b3,0xc2c5c));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getFirestore,collection,getDocs,query,where,serverTimestamp,setLogLevel,limit,doc,updateDoc}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';function _0x53fd(_0x550b99,_0x8b7b41){const _0x43b3c9=_0x43b3();return _0x53fd=function(_0x53fdba,_0x5ebde5){_0x53fdba=_0x53fdba-0x117;let _0x6e7554=_0x43b3c9[_0x53fdba];return _0x6e7554;},_0x53fd(_0x550b99,_0x8b7b41);}import{getAuth,signInAnonymously}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';const firebaseConfig={'apiKey':_0x43d582(0x155),'authDomain':'ttb-register.firebaseapp.com','databaseURL':_0x43d582(0x173),'projectId':_0x43d582(0x172),'storageBucket':_0x43d582(0x14c),'messagingSenderId':_0x43d582(0x15c),'appId':_0x43d582(0x11f),'measurementId':_0x43d582(0x13f)},teamNames=['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','AA','BB','CC','DD','EE','FF','GG','HH','II','JJ','KK','LL','MM','NN','OO','PP','QQ'];let db,auth;const registrationFormContainer=document[_0x43d582(0x13a)]('registrationFormContainer'),employeeIdInput=document['getElementById'](_0x43d582(0x132)),nicknameInput=document['getElementById'](_0x43d582(0x164)),registerButton=document[_0x43d582(0x13a)](_0x43d582(0x153)),messageDiv=document['getElementById']('message'),teamDisplay=document[_0x43d582(0x13a)](_0x43d582(0x154)),teamNameDisplay=document['getElementById'](_0x43d582(0x143)),regStatusMsg=document[_0x43d582(0x13a)]('registrationStatusMessage'),regTimestamp=document['getElementById'](_0x43d582(0x17e)),eventDate=document[_0x43d582(0x13a)](_0x43d582(0x126)),eventImageContainer=document[_0x43d582(0x13a)](_0x43d582(0x175)),registrationForm=document[_0x43d582(0x13a)](_0x43d582(0x178)),employeeInfoDisplay=document['getElementById'](_0x43d582(0x152)),infoFullName=document[_0x43d582(0x13a)](_0x43d582(0x130)),infoPosition=document[_0x43d582(0x13a)](_0x43d582(0x145)),infoDepartment=document[_0x43d582(0x13a)]('infoDepartment'),infoBU=document[_0x43d582(0x13a)](_0x43d582(0x166)),teamMembersDisplay=document[_0x43d582(0x13a)]('teamMembersDisplay'),teamMembersHeader=document[_0x43d582(0x13a)](_0x43d582(0x137)),teamMembersCount=document['getElementById']('teamMembersCount'),teamMembersTableBody=document[_0x43d582(0x13a)]('teamMembersTableBody'),teamSelect=document[_0x43d582(0x13a)](_0x43d582(0x148));try{const app=initializeApp(firebaseConfig);db=getFirestore(app),auth=getAuth(app),setLogLevel(_0x43d582(0x13d)),await signInAnonymously(auth),console[_0x43d582(0x120)]('Signed\x20in\x20anonymously'),populateTeamDropdown();}catch(_0x1212cd){console[_0x43d582(0x15a)](_0x43d582(0x160),_0x1212cd),document['getElementById'](_0x43d582(0x14f))['textContent']=_0x43d582(0x15f)+_0x1212cd[_0x43d582(0x14f)];}registerButton[_0x43d582(0x118)](_0x43d582(0x182),handleRegisterCheck),teamSelect['addEventListener']('change',()=>{const _0x245f83=_0x43d582,_0x55fc80=teamSelect[_0x245f83(0x131)];fetchAndDisplayTeamMembers(_0x55fc80);});function formatThaiTimestamp(_0x88eeab){const _0x254468=_0x43d582;return _0x88eeab['toLocaleString'](_0x254468(0x124),{'dateStyle':'long','timeStyle':_0x254468(0x12a)});}function populateTeamDropdown(){const _0x240104=_0x43d582;teamSelect[_0x240104(0x123)]='',teamNames[_0x240104(0x156)](_0x32f13d=>{const _0x434108=_0x240104,_0x5002b5=document[_0x434108(0x177)](_0x434108(0x16e));_0x5002b5[_0x434108(0x131)]=_0x32f13d,_0x5002b5[_0x434108(0x159)]=_0x32f13d,teamSelect[_0x434108(0x16f)](_0x5002b5);});}async function handleRegisterCheck(){const _0x21a8b3=_0x43d582,_0x1a663=employeeIdInput[_0x21a8b3(0x131)][_0x21a8b3(0x142)](),_0x4db4d1=nicknameInput[_0x21a8b3(0x131)][_0x21a8b3(0x142)]();employeeIdInput['classList'][_0x21a8b3(0x174)](_0x21a8b3(0x158)),nicknameInput[_0x21a8b3(0x138)]['remove']('border-red-500');if(!_0x1a663||!_0x4db4d1){messageDiv[_0x21a8b3(0x159)]=_0x21a8b3(0x12e),messageDiv['className']='text-center\x20text-sm\x20text-red-600';!_0x1a663&&employeeIdInput[_0x21a8b3(0x138)][_0x21a8b3(0x17f)](_0x21a8b3(0x158));!_0x4db4d1&&nicknameInput['classList'][_0x21a8b3(0x17f)](_0x21a8b3(0x158));return;}registerButton[_0x21a8b3(0x11b)]=!![],registerButton[_0x21a8b3(0x159)]=_0x21a8b3(0x121),employeeIdInput[_0x21a8b3(0x11b)]=!![],nicknameInput[_0x21a8b3(0x11b)]=!![],employeeIdInput[_0x21a8b3(0x138)][_0x21a8b3(0x17f)](_0x21a8b3(0x13b)),nicknameInput[_0x21a8b3(0x138)][_0x21a8b3(0x17f)](_0x21a8b3(0x13b)),messageDiv['textContent']='';try{const _0x208851=await getCrsgDoc(_0x1a663);if(!_0x208851){messageDiv[_0x21a8b3(0x159)]=_0x21a8b3(0x135),messageDiv[_0x21a8b3(0x13e)]=_0x21a8b3(0x146),registerButton[_0x21a8b3(0x11b)]=![],registerButton['textContent']=_0x21a8b3(0x11a),employeeIdInput[_0x21a8b3(0x11b)]=![],nicknameInput[_0x21a8b3(0x11b)]=![],employeeIdInput['classList'][_0x21a8b3(0x174)](_0x21a8b3(0x13b)),nicknameInput[_0x21a8b3(0x138)][_0x21a8b3(0x174)](_0x21a8b3(0x13b)),employeeInfoDisplay[_0x21a8b3(0x138)][_0x21a8b3(0x17f)]('hidden'),eventDate[_0x21a8b3(0x138)]['remove'](_0x21a8b3(0x11d)),eventImageContainer[_0x21a8b3(0x138)][_0x21a8b3(0x174)]('hidden'),registrationForm[_0x21a8b3(0x138)][_0x21a8b3(0x174)](_0x21a8b3(0x11d)),teamMembersDisplay['classList']['add'](_0x21a8b3(0x11d));return;}const _0x48fc3d=_0x208851[_0x21a8b3(0x171)],_0x1f1a20=_0x208851['id'],_0x2297a7=_0x48fc3d['Check_Place']||'ไม่พบข้อมูลที่นั่ง',_0x506158=_0x2297a7===_0x21a8b3(0x122);if(_0x48fc3d[_0x21a8b3(0x163)]){const _0x48d5b5=_0x48fc3d['DateLogin'][_0x21a8b3(0x117)]();if(_0x506158){messageDiv[_0x21a8b3(0x123)]=_0x21a8b3(0x17c)+formatThaiTimestamp(_0x48d5b5)+_0x21a8b3(0x14b),messageDiv[_0x21a8b3(0x13e)]=_0x21a8b3(0x146),teamDisplay[_0x21a8b3(0x138)]['add']('hidden');const _0x5ec3e9=teamNames[0x0]||'A';teamSelect['value']=_0x5ec3e9,fetchAndDisplayTeamMembers(_0x5ec3e9);}else teamNameDisplay[_0x21a8b3(0x159)]=_0x2297a7,regStatusMsg[_0x21a8b3(0x159)]=_0x21a8b3(0x16d),regStatusMsg[_0x21a8b3(0x13e)]='text-sm\x20mt-4\x20text-yellow-700\x20font-medium',regTimestamp[_0x21a8b3(0x159)]=formatThaiTimestamp(_0x48d5b5),teamDisplay[_0x21a8b3(0x138)][_0x21a8b3(0x174)](_0x21a8b3(0x11d)),teamSelect[_0x21a8b3(0x131)]=_0x2297a7,fetchAndDisplayTeamMembers(_0x2297a7);registrationForm[_0x21a8b3(0x138)][_0x21a8b3(0x17f)](_0x21a8b3(0x11d)),infoFullName[_0x21a8b3(0x159)]=(_0x48fc3d['FullName_th']||'')+'\x20('+(_0x48fc3d['employeeId']||'')+')',infoBU[_0x21a8b3(0x159)]=''+(_0x48fc3d[_0x21a8b3(0x139)]||_0x48fc3d[_0x21a8b3(0x184)]||_0x21a8b3(0x147)),infoPosition[_0x21a8b3(0x138)]['add'](_0x21a8b3(0x11d)),infoDepartment['classList'][_0x21a8b3(0x17f)](_0x21a8b3(0x11d)),employeeInfoDisplay['classList']['remove']('hidden'),registerButton[_0x21a8b3(0x159)]=_0x21a8b3(0x128);return;}const _0x4ee7e5=await logRegistration(_0x1f1a20,_0x4db4d1);if(_0x506158){messageDiv[_0x21a8b3(0x123)]=_0x21a8b3(0x141)+formatThaiTimestamp(_0x4ee7e5)+_0x21a8b3(0x16c),messageDiv[_0x21a8b3(0x13e)]=_0x21a8b3(0x146),teamDisplay[_0x21a8b3(0x138)][_0x21a8b3(0x17f)](_0x21a8b3(0x11d));const _0x193b4c=teamNames[0x0]||'A';teamSelect[_0x21a8b3(0x131)]=_0x193b4c,fetchAndDisplayTeamMembers(_0x193b4c);}else teamNameDisplay[_0x21a8b3(0x159)]=_0x2297a7,regStatusMsg[_0x21a8b3(0x159)]=_0x21a8b3(0x119),regStatusMsg[_0x21a8b3(0x13e)]='text-sm\x20mt-4\x20text-green-600\x20font-medium',regTimestamp[_0x21a8b3(0x159)]=formatThaiTimestamp(_0x4ee7e5),teamDisplay[_0x21a8b3(0x138)][_0x21a8b3(0x174)](_0x21a8b3(0x11d)),_0x48fc3d[_0x21a8b3(0x133)]=_0x4db4d1,teamSelect['value']=_0x2297a7,fetchAndDisplayTeamMembers(_0x2297a7);registrationForm[_0x21a8b3(0x138)][_0x21a8b3(0x17f)](_0x21a8b3(0x11d)),infoFullName['textContent']=(_0x48fc3d[_0x21a8b3(0x13c)]||'')+'\x20('+(_0x48fc3d[_0x21a8b3(0x132)]||'')+')',infoBU['textContent']='สังกัด:\x20'+(_0x48fc3d[_0x21a8b3(0x139)]||_0x48fc3d[_0x21a8b3(0x184)]||_0x21a8b3(0x147)),infoPosition[_0x21a8b3(0x138)][_0x21a8b3(0x17f)]('hidden'),infoDepartment[_0x21a8b3(0x138)][_0x21a8b3(0x17f)]('hidden'),employeeInfoDisplay[_0x21a8b3(0x138)]['remove'](_0x21a8b3(0x11d)),registerButton[_0x21a8b3(0x159)]=_0x21a8b3(0x128),_0x48fc3d[_0x21a8b3(0x133)]=_0x4db4d1;}catch(_0x2711aa){console[_0x21a8b3(0x15a)](_0x21a8b3(0x150),_0x2711aa),_0x2711aa['message'][_0x21a8b3(0x17a)](_0x21a8b3(0x15b))?(messageDiv[_0x21a8b3(0x123)]=_0x21a8b3(0x12f),messageDiv['className']=_0x21a8b3(0x181)):(messageDiv[_0x21a8b3(0x159)]='เกิดข้อผิดพลาด:\x20'+_0x2711aa[_0x21a8b3(0x14f)],messageDiv[_0x21a8b3(0x13e)]='text-center\x20text-sm\x20text-red-600'),registerButton[_0x21a8b3(0x11b)]=![],registerButton[_0x21a8b3(0x159)]=_0x21a8b3(0x11a),teamDisplay[_0x21a8b3(0x138)][_0x21a8b3(0x17f)](_0x21a8b3(0x11d)),employeeIdInput[_0x21a8b3(0x11b)]=![],nicknameInput[_0x21a8b3(0x11b)]=![],employeeIdInput[_0x21a8b3(0x138)][_0x21a8b3(0x174)](_0x21a8b3(0x13b)),nicknameInput[_0x21a8b3(0x138)][_0x21a8b3(0x174)](_0x21a8b3(0x13b)),employeeInfoDisplay[_0x21a8b3(0x138)][_0x21a8b3(0x17f)](_0x21a8b3(0x11d)),eventDate['classList'][_0x21a8b3(0x174)]('hidden'),eventImageContainer[_0x21a8b3(0x138)]['remove'](_0x21a8b3(0x11d)),registrationForm['classList'][_0x21a8b3(0x174)](_0x21a8b3(0x11d)),teamMembersDisplay[_0x21a8b3(0x138)][_0x21a8b3(0x17f)]('hidden');}}async function getCrsgDoc(_0x56100a){const _0x464f77=_0x43d582,_0x4aef34=_0x464f77(0x134),_0x273e28=query(collection(db,_0x4aef34),where(_0x464f77(0x132),'==',_0x56100a),limit(0x1)),_0x3289fb=await getDocs(_0x273e28);if(_0x3289fb[_0x464f77(0x12c)])return null;const _0x5171f7=_0x3289fb[_0x464f77(0x125)][0x0];return{'id':_0x5171f7['id'],'data':_0x5171f7[_0x464f77(0x171)]()};}async function logRegistration(_0x53c952,_0x5b766a){const _0x5f2ca3=_0x43d582,_0x491007=new Date();try{const _0x3b5b10=doc(db,'crsg',_0x53c952);return await updateDoc(_0x3b5b10,{'DateLogin':_0x491007,'NickName':_0x5b766a}),console[_0x5f2ca3(0x120)](_0x5f2ca3(0x176)),_0x491007;}catch(_0x28e397){console['error'](_0x5f2ca3(0x136),_0x28e397);throw _0x28e397;}}function _0x43b3(){const _0x316938=['border-red-500','textContent','error','permissions','1070273157855','เกิดข้อผิดพลาด','\x20คน','เกิดข้อผิดพลาดในการเชื่อมต่อฐานข้อมูล:\x20','Firebase\x20initialization\x20failed:','154BkBfHX','sort','DateLogin','nickname','กำลังโหลด...','infoBU','localeCompare','3120070VeJZtZ','2ZvFFIv','2294501rpkkuY','295bMAExP','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณได้ลงทะเบียนไปแล้วเมื่อ','option','appendChild','push','data','ttb-register','https://ttb-register-default-rtdb.asia-southeast1.firebasedatabase.app','remove','eventImageContainer','Registration\x20Logged\x20successfully.','createElement','registrationForm','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-3\x20py-2\x20whitespace-nowrap\x22>','includes','<span\x20class=\x22inline-flex\x20items-center\x20px-2\x20py-0.5\x20rounded-full\x20text-xs\x20font-medium\x20bg-green-100\x20text-green-800\x22>ลงทะเบียน</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คุณได้ลงทะเบียนไปแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>และไม่ได้เป็นผู้เข้าร่วมกิจกรรม\x20(ผู้ร่วมงาน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20mt-2\x22>','length','registrationTimestamp','add','4018629FKMGJr','text-center\x20text-sm\x20p-3\x20bg-red-50\x20border\x20border-red-200\x20rounded-md','click','<tr><td\x20colspan=\x223\x22\x20class=\x22p-4\x20text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</td></tr>','BU_th','toDate','addEventListener','ลงทะเบียนเข้าร่วมงานสำเร็จ','ลงทะเบียน','disabled','สมาชิก\x20','hidden','3877134ISEeTt','1:1070273157855:web:5c8120e1df27e233d8676a','log','กำลังตรวจสอบ...','ไม่พบข้อมูลที่นั่ง','innerHTML','th-TH','docs','eventDate','<tr><td\x20colspan=\x223\x22\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลดข้อมูล...</td></tr>','ลงทะเบียนเรียบร้อย','27mXmcGo','medium','<span\x20class=\x22inline-flex\x20items-center\x20px-2\x20py-0.5\x20rounded-full\x20text-xs\x20font-medium\x20bg-gray-100\x20text-gray-800\x22>ยังไม่ลงทะเบียน</span>','empty','300QcMfAG','กรุณากรอกข้อมูลให้ครบถ้วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-700\x22>เกิดข้อผิดพลาด:\x20ไม่มีสิทธิ์\x20(Missing\x20or\x20insufficient\x20permissions)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-sm\x20text-gray-700\x22>ปัญหานี้เกิดจาก\x20Security\x20Rules\x20ใน\x20Firebase\x20ของคุณ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-1\x20text-sm\x20text-gray-700\x22>กรุณาดู\x20<strong\x20class=\x22text-black\x22>\x22ข้อสำคัญ\x22</strong>\x20ในคอมเมนต์\x20(หมายเหตุ)\x20ในไฟล์นี้</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-1\x20text-sm\x20text-gray-700\x22>ซึ่งอยู่ที่ประมาณบรรทัดที่\x20113\x20เพื่อดูวิธีแก้ไขครับ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','infoFullName','value','employeeId','NickName','crsg','ไม่พบรหัสพนักงานนี้ในระบบ','Error\x20logging\x20registration:\x20','teamMembersHeader','classList','BU_eng','getElementById','bg-gray-100','FullName_th','Debug','className','G-9DJLWJ5LQ1','Error\x20fetching\x20team\x20members:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ลงทะเบียนสำเร็จ\x20(ผู้ร่วมงาน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>และคุณไม่ได้เป็นผู้เข้าร่วมกิจกรรม\x20(ไม่มีทีม)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20mt-2\x22>','trim','teamNameDisplay','Check_Place','infoPosition','text-center\x20text-sm\x20text-red-600','ไม่พบข้อมูลสังกัด','teamSelect','48896jFlpIE','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ttb-register.firebasestorage.app','446024AbwCeT','สมาชิกทีม\x20:\x20','message','Error\x20during\x20registration\x20process:\x20','839830VIqzZP','employeeInfoDisplay','registerButton','teamDisplay','AIzaSyAgWMzWcZPzyzoBu5eQzj2y59nKsxTWurQ','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-3\x20py-2\x20whitespace-nowrap\x22>'];_0x43b3=function(){return _0x316938;};return _0x43b3();}async function fetchAndDisplayTeamMembers(_0x8a7037){const _0x3c24da=_0x43d582;if(!_0x8a7037){teamMembersDisplay['classList']['add']('hidden');return;}teamMembersHeader[_0x3c24da(0x159)]=_0x3c24da(0x14e)+_0x8a7037,teamMembersCount[_0x3c24da(0x159)]=_0x3c24da(0x165),teamMembersTableBody[_0x3c24da(0x123)]=_0x3c24da(0x127),teamMembersDisplay['classList'][_0x3c24da(0x174)](_0x3c24da(0x11d));try{const _0x1acc6e='crsg',_0x46a5dd=query(collection(db,_0x1acc6e),where(_0x3c24da(0x144),'==',_0x8a7037)),_0xdb7d1e=await getDocs(_0x46a5dd),_0x37e331=[];_0xdb7d1e['forEach'](_0x4eb28b=>{const _0x489754=_0x3c24da;_0x37e331[_0x489754(0x170)](_0x4eb28b[_0x489754(0x171)]());}),_0x37e331[_0x3c24da(0x162)]((_0xaa2678,_0x363b8a)=>(_0xaa2678[_0x3c24da(0x132)]||'')[_0x3c24da(0x167)](_0x363b8a['employeeId']||'')),teamMembersCount[_0x3c24da(0x159)]=_0x3c24da(0x11c)+_0x37e331[_0x3c24da(0x17d)]+_0x3c24da(0x15e);if(_0x37e331[_0x3c24da(0x17d)]===0x0){teamMembersTableBody[_0x3c24da(0x123)]='<tr><td\x20colspan=\x223\x22\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบสมาชิกในทีมนี้</td></tr>';return;}teamMembersTableBody[_0x3c24da(0x123)]='',_0x37e331['forEach'](_0x3c247a=>{const _0x266b77=_0x3c24da,_0x3a834e=!!_0x3c247a['DateLogin'],_0x526bc4=_0x3a834e?_0x266b77(0x17b):_0x266b77(0x12b),_0x109604=_0x3c247a[_0x266b77(0x133)]?(_0x3c247a[_0x266b77(0x13c)]||'')+'\x20('+_0x3c247a[_0x266b77(0x133)]+')':_0x3c247a[_0x266b77(0x13c)]||'',_0x167fbc=document[_0x266b77(0x177)]('tr');_0x167fbc[_0x266b77(0x123)]=_0x266b77(0x157)+_0x109604+_0x266b77(0x179)+(_0x3c247a['Check_Manager']||'')+_0x266b77(0x179)+_0x526bc4+_0x266b77(0x14a),teamMembersTableBody[_0x266b77(0x16f)](_0x167fbc);});}catch(_0x4c31c6){console[_0x3c24da(0x15a)](_0x3c24da(0x140),_0x4c31c6),teamMembersTableBody[_0x3c24da(0x123)]=_0x3c24da(0x183),teamMembersCount[_0x3c24da(0x159)]=_0x3c24da(0x15d);}}
        
    </script>
</body>
</html>

