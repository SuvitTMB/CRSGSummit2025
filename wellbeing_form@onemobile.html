<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ONE Retail Club</title>
    <!-- ‡πÇ‡∏´‡∏•‡∏î Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Sarabun', sans-serif; 
            background-image: url('./images/bgRecogNight.jpg');
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }
        .otp-active {
            background-color: #0056ff !important;
            color: white !important;
            border-color: #000000 !important; 
            border-width: 2px !important;
        }
        .bottom-nav {
            height: 60px;
            background-color: #0056ff;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.2);
        }
        .tab-content {
            padding-bottom: 80px; /* Space for bottom nav */
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Timeline styling for Agenda */
        .timeline-item {
            position: relative;
            padding-left: 2.5rem;
            padding-bottom: 1.5rem;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 0.5rem;
            top: 0.25rem;
            height: 100%;
            width: 2px;
            background-color: #e5e7eb;
        }
        .timeline-item:last-child::before {
            display: none;
        }
        .timeline-dot {
            position: absolute;
            left: 0.15rem;
            top: 0.25rem;
            height: 0.8rem;
            width: 0.8rem;
            background-color: #0056ff;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 0 0 2px #bfdbfe;
            z-index: 1;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß (Logo) ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏•‡∏≠‡∏î -->
    <header class="w-full pt-8 pb-4 flex flex-col items-center">
        <img src="./images/RecogNight.png" class="w-[70%] max-w-[280px]" alt="Recognition Night Logo">
    </header>

    <main id="mainContainer" class="flex-1 flex flex-col items-center px-4 overflow-y-auto" >
        <!-- ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô (‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡πà‡∏≠‡∏ô Login) -->
        <div id="loginSection" class="w-full max-w-md p-2 space-y-6 fade-in" style="margin-top:-10px;">
            <p id="eventDate" class="text-sm font-bold text-gray-800 text-center drop-shadow-md mb-8"></p>
            
            <form id="registrationForm" class="space-y-6" onsubmit="return false;">
                <div>
                    <div class="flex justify-center gap-2" id="otp-container">
                        <input type="text" inputmode="numeric" maxlength="1" class="otp-input w-12 h-14 text-center text-3xl font-bold border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all uppercase bg-white/95 shadow-sm" data-index="0">
                        <input type="text" inputmode="numeric" maxlength="1" class="otp-input w-12 h-14 text-center text-3xl font-bold border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all uppercase bg-white/95 shadow-sm" data-index="1">
                        <input type="text" inputmode="numeric" maxlength="1" class="otp-input w-12 h-14 text-center text-3xl font-bold border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all uppercase bg-white/95 shadow-sm" data-index="2">
                        <input type="text" inputmode="numeric" maxlength="1" class="otp-input w-12 h-14 text-center text-3xl font-bold border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all uppercase bg-white/95 shadow-sm" data-index="3">
                        <input type="text" inputmode="numeric" maxlength="1" class="otp-input w-12 h-14 text-center text-3xl font-bold border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all uppercase bg-white/95 shadow-sm" data-index="4">
                    </div>
                    <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• -->
                    <p id="instructionText" class="block text-sm font-bold text-gray-800 mt-4 text-center drop-shadow-md transition-all duration-300">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô</p>
                    
                    <!-- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç 1 ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á 1 ‡∏£‡∏´‡∏±‡∏™ -->
                    <div id="deviceWarning" class="mt-8 p-2 border border-red-200 bg-red-50/80 rounded-lg text-center fade-in">
                        <p class="text-[12px] text-red-500 leading-relaxed">‡πÇ‡∏õ‡∏£‡∏î‡∏≠‡πà‡∏≤‡∏ô : <br>
                            ‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á 1 ‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô<br>
                            ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
                        </p>
                    </div>

                    <p id="checkingIdIndicator" class="hidden text-center text-xs text-blue-900 mt-2 font-black animate-pulse">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö...</p>
                </div>
                
                <button type="button" id="registerButton" disabled
                        class="block mx-auto w-[80%] px-4 py-3 font-bold text-white bg-[#002d63] rounded-xl hover:bg-opacity-95 transition duration-150 disabled:bg-gray-400 shadow-xl">
                    ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô
                </button>
            </form>
            <div id="message" class="text-center text-sm font-bold drop-shadow-sm mt-4"></div>
        </div>

        <!-- ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏´‡∏•‡∏±‡∏á Login (Tabs) -->
        <div id="dashboardSection" class="hidden w-full max-w-4xl tab-content fade-in">
            
            <!-- Tab 1: ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì -->
            <div id="tab1" class="tab-pane space-y-4">
                <div class="text-center text-white bg-[#002d63]/40 p-6 rounded-2xl backdrop-blur-md">
                    <h2 id="infoFullName" class="text-xm font-bold"></h2>
                    <p id="infoBranch" class="text-sm opacity-90 mt-1"></p>
                    <p id="infoDept" class="text-sm opacity-90"></p>
                    <p id="infoChief" class="text-xs mt-2 font-bold bg-white/20 inline-block px-3 py-1 rounded-full"></p>
                </div>

                <div class="bg-white/90 p-6 rounded-2xl shadow-lg text-center">
                    <p class="text-sm font-bold text-gray-500 uppercase tracking-widest mb-1">‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
                    <h3 id="teamNameDisplay" class="text-3xl font-black text-[#0056ff]" style="margin-top:15px;"></h3>
                    
                    <div class="mt-4 pt-2 border-t border-gray-100">
                        <p id="registrationStatusMessage" class="text-sm font-black text-green-600"></p>
                        <p id="registrationTimestamp" class="text-[10px] text-gray-500"></p>
                    </div>
                </div>

                <div id="seatingMapContainer" class="bg-white/90 p-4 rounded-2xl shadow-lg text-center">
                    <p class="text-xs font-bold text-gray-800 mb-2">‡∏ú‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô</p>
                    <img src="./images/seatingMap.png" class="w-full rounded-lg shadow-inner mx-auto" alt="Seating Chart" onerror="this.src='https://placehold.co/600x400?text=Seating+Map'">
                </div>
            </div>

            <!-- Tab 2: ‡∏ú‡∏π‡πâ‡∏£‡πà‡∏ß‡∏°‡πÇ‡∏ï‡πä‡∏∞ -->
            <div id="tab2" class="tab-pane hidden">
                <div class="bg-white/90 p-6 rounded-2xl shadow-lg">
                    <div class="flex justify-between items-center mb-4">
                        <h3 id="tab2Header" class="font-black text-gray-800">‡∏ú‡∏π‡πâ‡∏£‡πà‡∏ß‡∏°‡πÇ‡∏ï‡πä‡∏∞</h3>
                        <select id="teamSelect" class="bg-gray-100 border-none text-sm rounded-lg p-1.5 focus:ring-0"></select>
                    </div>
                    <div class="overflow-hidden border border-gray-100 rounded-xl">
                        <table class="min-w-full text-sm">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-4 py-2 text-left font-bold text-gray-600">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                                    <th class="px-4 py-2 text-center font-bold text-gray-600">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                </tr>
                            </thead>
                            <tbody id="teamMembersTableBody" class="divide-y divide-gray-100"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Tab 3: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£ -->
            <div id="tab3" class="tab-pane hidden">
                <div class="bg-white/95 p-6 rounded-3xl shadow-2xl border border-white/50 backdrop-blur-sm">
                    <!-- Event Header -->
                    <div class="text-center mb-8">
                        <h3 class="text-lg font-black text-[#002d63] leading-tight">Recog Night White Elegance</h3>
                        <p class="text-xs font-bold text-gray-500 mt-1 uppercase tracking-widest">A moment of Honor 2025 by<br>ONE RETAIL Club</p>
                        
                        <div class="mt-4 flex flex-col items-center gap-2">
                            <div class="flex items-center text-[#0056ff] bg-blue-50 px-4 py-1.5 rounded-full border border-blue-100 shadow-sm">
                                <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path></svg>
                                <span class="text-xs font-black">16 ‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2569 | 15.00 ‚Äì 20.00 ‡∏ô.</span>
                            </div>
                            <div class="flex items-center text-gray-600 text-[11px] font-bold">
                                <svg class="w-4 h-4 mr-1.5 text-red-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path></svg>
                                ‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏≤‡∏£‡∏≤ ‡πÅ‡∏Å‡∏£‡∏ô‡∏î‡πå ‡πÅ‡∏≠‡∏ó ‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏•‡∏û‡∏•‡∏≤‡∏ã‡πà‡∏≤ ‡∏•‡∏≤‡∏î‡∏û‡∏£‡πâ‡∏≤‡∏ß
                            </div>
                        </div>
                    </div>

                    <!-- Agenda List -->
                    <div class="space-y-1">
                        <h4 class="text-sm font-black text-gray-400 mb-4 border-b border-gray-100 pb-2 uppercase tracking-tighter">Agenda</h4>
                        
                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div>
                                <p class="text-[12px] font-bold text-[#0056ff]">15.00 ‚Äì 16.00 ‡∏ô.</p>
                                <p class="text-sm font-black text-gray-800">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</p>
                            </div>
                        </div>

                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div>
                                <p class="text-[12px] font-bold text-[#0056ff]">16.00 ‚Äì 16.30 ‡∏ô.</p>
                                <p class="text-sm font-black text-gray-800">‡πÄ‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô</p>
                            </div>
                        </div>

                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div>
                                <p class="text-[12px] font-bold text-[#0056ff]">16.30 ‚Äì 18.00 ‡∏ô.</p>
                                <p class="text-sm font-black text-gray-800">‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£ / Lucky Draw</p>
                            </div>
                        </div>

                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div>
                                <p class="text-[12px] font-bold text-[#0056ff]">18.00 ‚Äì 19.00 ‡∏ô.</p>
                                <p class="text-sm font-black text-gray-800">‡∏°‡∏¥‡∏ô‡∏¥‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ï‡∏à‡∏≤‡∏Å‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏î‡∏±‡∏á</p>
                            </div>
                        </div>

                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div>
                                <p class="text-[12px] font-bold text-[#0056ff]">19.00 ‚Äì 20.00 ‡∏ô.</p>
                                <p class="text-sm font-black text-gray-800 text-orange-600">After Party</p>
                            </div>
                        </div>
                    </div>

                    <!-- Footer Note -->
                    <div class="mt-6 pt-2 text-center">
                        <div class="inline-flex items-center text-[#002d63] bg-orange-100 px-4 py-1 rounded-lg border border-orange-200">
                            <span class="text-xl mr-2">üéÅ</span>
                            <p class="text-[12px] font-black uppercase text-orange-700">‡∏£‡πà‡∏ß‡∏°‡∏•‡∏∏‡πâ‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• Lucky Draw<br>‡∏ï‡∏•‡∏≠‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏á‡∏≤‡∏ô</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab 4: ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì -->
            <div id="tab4" class="tab-pane hidden">
                <div id="prizeContainer" class="bg-white/90 p-8 rounded-2xl shadow-lg text-center min-h-[300px] flex flex-col justify-center items-center">
                </div>
            </div>

        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav id="bottomNav" class="hidden fixed bottom-0 left-0 right-0 bottom-nav flex justify-around items-center text-white z-50">
        <button onclick="switchTab(1)" class="flex flex-col items-center justify-center flex-1 h-full">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/></svg>
            <span class="text-[10px] mt-1">‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</span>
        </button>
        <button onclick="switchTab(2)" class="flex flex-col items-center justify-center flex-1 h-full">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
            <span id="tab2NavText" class="text-[10px] mt-1 text-center leading-tight">‡∏ú‡∏π‡πâ‡∏£‡πà‡∏ß‡∏°‡πÇ‡∏ï‡πä‡∏∞</span>
        </button>
        <button onclick="switchTab(3)" class="flex flex-col items-center justify-center flex-1 h-full">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></svg>
            <span class="text-[10px] mt-1 font-black">‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£</span>
        </button>
        <button onclick="switchTab(4)" class="flex flex-col items-center justify-center flex-1 h-full">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v3c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-1.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2zM5 8V7h2v3.82C5.84 10.4 5 9.3 5 8zm14 0c0 1.3-.84 2.4-2 2.82V7h2v1z"/></svg>
            <span class="text-[10px] mt-1">‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</span>
        </button>
    </nav>

    <script type="module">
const _0x1dbf6c=_0x212c;(function(_0x1df2c7,_0x59a1fb){const _0x36db25=_0x212c,_0x3f1652=_0x1df2c7();while(!![]){try{const _0x372108=parseInt(_0x36db25(0xf0))/0x1+-parseInt(_0x36db25(0xe3))/0x2+parseInt(_0x36db25(0x116))/0x3*(-parseInt(_0x36db25(0x100))/0x4)+parseInt(_0x36db25(0x11d))/0x5*(parseInt(_0x36db25(0xd5))/0x6)+parseInt(_0x36db25(0x14d))/0x7+-parseInt(_0x36db25(0x134))/0x8*(-parseInt(_0x36db25(0x120))/0x9)+-parseInt(_0x36db25(0x121))/0xa*(-parseInt(_0x36db25(0x14f))/0xb);if(_0x372108===_0x59a1fb)break;else _0x3f1652['push'](_0x3f1652['shift']());}catch(_0x1a9069){_0x3f1652['push'](_0x3f1652['shift']());}}}(_0x28bf,0x4262a));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getFirestore,collection,getDocs,query,where,doc,updateDoc,limit,onSnapshot}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';import{getAuth,signInAnonymously}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';const firebaseConfig={'apiKey':_0x1dbf6c(0xdb),'authDomain':_0x1dbf6c(0x136),'databaseURL':_0x1dbf6c(0x127),'projectId':_0x1dbf6c(0xe2),'storageBucket':_0x1dbf6c(0x13f),'messagingSenderId':_0x1dbf6c(0xfd),'appId':'1:1070273157855:web:5c8120e1df27e233d8676a','measurementId':_0x1dbf6c(0xf2)},teamNames=[...Array['from']({'length':0x18},(_0x2c0c00,_0x235bcc)=>'A'+(_0x235bcc+0x1)),...Array[_0x1dbf6c(0x12f)]({'length':0x18},(_0x42e66c,_0x548ec0)=>'B'+(_0x548ec0+0x1))];let db,auth,userData=null;const generateStableId=()=>{const _0x15db6e=_0x1dbf6c,_0x2f6c24=navigator[_0x15db6e(0x119)]+screen['width']+screen[_0x15db6e(0x10a)]+navigator[_0x15db6e(0xea)];let _0x23b2d0=0x0;for(let _0x241049=0x0;_0x241049<_0x2f6c24['length'];_0x241049++){_0x23b2d0=(_0x23b2d0<<0x5)-_0x23b2d0+_0x2f6c24[_0x15db6e(0xef)](_0x241049),_0x23b2d0|=0x0;}return _0x15db6e(0x145)+Math[_0x15db6e(0x103)](_0x23b2d0)[_0x15db6e(0x117)](0x10)[_0x15db6e(0x101)]();},deviceId=generateStableId(),otpInputs=document[_0x1dbf6c(0xe0)](_0x1dbf6c(0x150)),registerButton=document[_0x1dbf6c(0x11a)](_0x1dbf6c(0x122)),messageDiv=document[_0x1dbf6c(0x11a)](_0x1dbf6c(0x132)),instructionText=document[_0x1dbf6c(0x11a)](_0x1dbf6c(0x105)),teamSelect=document['getElementById'](_0x1dbf6c(0x12e));function _0x212c(_0x1d5206,_0x4c8d5b){_0x1d5206=_0x1d5206-0xd4;const _0x28bf48=_0x28bf();let _0x212c47=_0x28bf48[_0x1d5206];return _0x212c47;}window[_0x1dbf6c(0xfb)]=_0x5db606=>{const _0x1beb12=_0x1dbf6c;document[_0x1beb12(0xe0)](_0x1beb12(0x10f))[_0x1beb12(0x109)](_0x153fc9=>_0x153fc9['classList'][_0x1beb12(0xed)](_0x1beb12(0xe6))),document[_0x1beb12(0x11a)](_0x1beb12(0xe1)+_0x5db606)[_0x1beb12(0xf9)][_0x1beb12(0xde)](_0x1beb12(0xe6));const _0x210e1b=document['querySelectorAll'](_0x1beb12(0xe4));_0x210e1b[_0x1beb12(0x109)]((_0x341172,_0x2338ba)=>{const _0x24019b=_0x1beb12;_0x341172[_0x24019b(0x13e)][_0x24019b(0x107)]=_0x2338ba+0x1===_0x5db606?'1':_0x24019b(0x123);});};try{const app=initializeApp(firebaseConfig);db=getFirestore(app),auth=getAuth(app),await signInAnonymously(auth);const today=new Date();document[_0x1dbf6c(0x11a)]('eventDate')[_0x1dbf6c(0x13b)]=_0x1dbf6c(0x124)+today['toLocaleDateString'](_0x1dbf6c(0xdf),{'year':_0x1dbf6c(0x133),'month':_0x1dbf6c(0x137),'day':_0x1dbf6c(0x133)}),populateTeamDropdown(),setupOtpInputs(),otpInputs[0x0][_0x1dbf6c(0x11c)]();}catch(_0x4a8b24){console['error'](_0x4a8b24);}function setupOtpInputs(){otpInputs['forEach']((_0x3645c0,_0x45b78b)=>{const _0x2e5de1=_0x212c;_0x3645c0[_0x2e5de1(0xf1)](_0x2e5de1(0x115),_0x8aba51=>{const _0xa41f31=_0x2e5de1;_0x8aba51[_0xa41f31(0xdd)][_0xa41f31(0xe9)]=_0x8aba51[_0xa41f31(0xdd)][_0xa41f31(0xe9)][_0xa41f31(0x131)](/[^0-9]/g,'');if(_0x8aba51[_0xa41f31(0xdd)][_0xa41f31(0xe9)])_0x3645c0['classList'][_0xa41f31(0xed)](_0xa41f31(0x12c));else _0x3645c0['classList'][_0xa41f31(0xde)](_0xa41f31(0x12c));if(_0x8aba51[_0xa41f31(0xdd)][_0xa41f31(0xe9)][_0xa41f31(0x129)]===0x1&&_0x45b78b<otpInputs[_0xa41f31(0x129)]-0x1)otpInputs[_0x45b78b+0x1][_0xa41f31(0x11c)]();const _0x10d397=Array[_0xa41f31(0x12f)](otpInputs)[_0xa41f31(0x108)](_0x161c80=>_0x161c80[_0xa41f31(0xe9)])[_0xa41f31(0x13d)]('');if(_0x10d397[_0xa41f31(0x129)]===0x5)validateEmployeeId(_0x10d397);else userData=null,registerButton[_0xa41f31(0xf4)]=!![],instructionText[_0xa41f31(0x13b)]=_0xa41f31(0xda),instructionText['className']=_0xa41f31(0xe8),messageDiv[_0xa41f31(0x141)]='';}),_0x3645c0[_0x2e5de1(0xf1)]('keydown',_0x1d2e30=>{const _0x1c7be5=_0x2e5de1;if(_0x1d2e30['key']===_0x1c7be5(0x155)&&!_0x1d2e30[_0x1c7be5(0xdd)][_0x1c7be5(0xe9)]&&_0x45b78b>0x0)otpInputs[_0x45b78b-0x1]['focus']();});});}async function validateEmployeeId(_0x51a365){const _0x2af9b1=_0x1dbf6c;document['getElementById'](_0x2af9b1(0xee))['classList'][_0x2af9b1(0xde)]('hidden');try{const _0x166518=query(collection(db,_0x2af9b1(0x113)),where(_0x2af9b1(0x135),'==',String(_0x51a365)),limit(0x1)),_0x4cbeea=await getDocs(_0x166518);if(!_0x4cbeea[_0x2af9b1(0x10b)]){const _0x388486=_0x4cbeea[_0x2af9b1(0x146)][0x0],_0x2c8601=_0x388486[_0x2af9b1(0x11f)]();if(_0x2c8601[_0x2af9b1(0x10c)]&&String(_0x2c8601['MobileId'])!==String(deviceId)){instructionText[_0x2af9b1(0x141)]=_0x2af9b1(0x12a),instructionText['className']=_0x2af9b1(0x12b),messageDiv[_0x2af9b1(0x141)]=_0x2af9b1(0xeb),registerButton['disabled']=!![];return;}userData={'id':_0x388486['id'],..._0x2c8601},registerButton[_0x2af9b1(0xf4)]=![],instructionText['innerHTML']='<span\x20class=\x22text-lg\x20text-blue-900\x22>‡∏Ñ‡∏∏‡∏ì'+userData[_0x2af9b1(0x13a)]+_0x2af9b1(0x151),instructionText[_0x2af9b1(0x156)]='block\x20font-bold\x20mt-4\x20text-center\x20drop-shadow-md\x20fade-in',messageDiv['innerHTML']='';}else instructionText['textContent']=_0x2af9b1(0xda),instructionText[_0x2af9b1(0x156)]=_0x2af9b1(0xe8),messageDiv[_0x2af9b1(0x141)]='<span\x20class=\x22text-red-600\x22>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ</span>',registerButton[_0x2af9b1(0xf4)]=!![];}catch(_0x51d423){console[_0x2af9b1(0x149)](_0x51d423);}finally{document['getElementById'](_0x2af9b1(0xee))['classList']['add'](_0x2af9b1(0xe6));}}function _0x28bf(){const _0x4af8c3=['<span\x20class=\x22text-xs\x20text-red-500\x20font-medium\x22>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22claimPrize()\x22\x20id=\x22claimBtn\x22\x20class=\x22block\x20mx-auto\x20w-[80%]\x20px-4\x20py-3\x20font-bold\x20text-white\x20bg-[#f68b1f]\x20rounded-xl\x20hover:bg-opacity-95\x20transition\x20duration-150\x20shadow-xm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[11px]\x20text-red-400\x20mt-4\x20uppercase\x20tracking-tighter\x20font-bold\x22>*\x20‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏±‡∏ö‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà\x20*</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add','checkingIdIndicator','charCodeAt','507629pHYhpU','addEventListener','G-9DJLWJ5LQ1','infoDept','disabled','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','click','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teamMembersTableBody','classList','claimPrize','switchTab','bottomNav','1070273157855','<span\x20class=\x22text-red-600\x20text-xs\x22>‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•\x20‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</span>','infoFullName','20EsSfhh','toUpperCase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22','abs','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-bold\x22>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠:\x20','instructionText','\x22>‡πÇ‡∏ï‡πä‡∏∞‡∏ó‡∏µ‡πà\x20','opacity','map','forEach','height','empty','MobileId','push','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20font-bold\x20text-gray-800\x22>','.tab-pane','trim','change','tab2NavText','crsg','‡πÇ‡∏ï‡πä‡∏∞‡∏ó‡∏µ‡πà\x20A1-B24','input','275862qEnOEV','toString','<span\x20class=\x22text-green-600\x20font-bold\x22>‚úì</span>','userAgent','getElementById','</option>','focus','55795WeGOUj','seatingMapContainer','data','36ApIuLD','10FwSiGR','registerButton','0.5','‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà\x20','toDate','‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...','https://ttb-register-default-rtdb.asia-southeast1.firebasedatabase.app','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','<span\x20class=\x22text-red-600\x22>‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏µ‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∑‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß</span>','block\x20font-bold\x20mt-4\x20text-center\x20drop-shadow-md','otp-active','teamNameDisplay','teamSelect','from','registrationStatusMessage','replace','message','numeric','169208APtXIt','employeeId','ttb-register.firebaseapp.com','long','tab2Header','DateLogin','FullName_th','textContent','some','join','style','ttb-register.firebasestorage.app','‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-green-600\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20class=\x22w-20\x20h-20\x20mx-auto\x20mb-4\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20viewBox=\x220\x200\x2024\x2024\x22><path\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22\x20stroke-width=\x222\x22\x20d=\x22M9\x2012l2\x202\x204-4m6\x202a9\x209\x200\x2011-18\x200\x209\x209\x200\x200118\x200z\x22></path></svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20bg-green-50\x20rounded-xl\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-bold\x20text-gray-800\x22>','<option\x20value=\x22','‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏ï‡πä‡∏∞','BROWSER-','docs','toLocaleString','sort','error','‡∏ú‡∏π‡πâ‡∏£‡πà‡∏ß‡∏°‡πÇ‡∏ï‡πä‡∏∞','loginSection','<span\x20class=\x22text-red-600\x20font-bold\x22>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÇ‡∏î‡∏¢‡∏£‡∏´‡∏±‡∏™‡∏≠‡∏∑‡πà‡∏ô‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß</span>','1675555uyVvzd','Department_eng','641388ntpqaP','.otp-input','</span>','ReceivedTime','AwardedGift','‡∏ú‡∏π‡πâ‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô','Backspace','className','infoChief','168zdFVMJ','prizeContainer','<tr><td\x20colspan=\x222\x22\x20class=\x22p-4\x20text-center\x20text-gray-400\x22>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏ô‡πÇ‡∏ï‡πä‡∏∞‡∏ô‡∏µ‡πâ</td></tr>','‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô','‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...','‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô','AIzaSyAgWMzWcZPzyzoBu5eQzj2y59nKsxTWurQ','<tr><td\x20colspan=\x222\x22\x20class=\x22p-4\x20text-center\x20animate-pulse\x20text-gray-400\x22>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</td></tr>','target','remove','th-TH','querySelectorAll','tab','ttb-register','941348TTAaNb','#bottomNav\x20button','Chief','hidden','‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!','block\x20text-sm\x20font-bold\x20text-gray-800\x20mt-4\x20text-center\x20drop-shadow-md','value','language'];_0x28bf=function(){return _0x4af8c3;};return _0x28bf();}registerButton[_0x1dbf6c(0xf1)](_0x1dbf6c(0xf6),async()=>{const _0x20c591=_0x1dbf6c;if(!userData)return;registerButton['disabled']=!![],registerButton[_0x20c591(0x13b)]=_0x20c591(0x126);try{const _0x47bbc6=query(collection(db,'crsg'),where(_0x20c591(0x10c),'==',String(deviceId)),limit(0xa)),_0x19b9fa=await getDocs(_0x47bbc6),_0xd199ec=_0x19b9fa[_0x20c591(0x146)][_0x20c591(0x13c)](_0x52660c=>String(_0x52660c[_0x20c591(0x11f)]()[_0x20c591(0x135)])!==String(userData['employeeId']));if(_0xd199ec){messageDiv[_0x20c591(0x141)]=_0x20c591(0x14c),registerButton[_0x20c591(0xf4)]=!![],registerButton[_0x20c591(0x13b)]='‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô';return;}const _0x1db034=new Date(),_0x4d7bcb=doc(db,'crsg',userData['id']);await updateDoc(_0x4d7bcb,{'DateLogin':_0x1db034,'MobileId':deviceId}),userData[_0x20c591(0x139)]=_0x1db034,userData['MobileId']=deviceId,showDashboard();}catch(_0x4684bd){console[_0x20c591(0x149)](_0x4684bd),registerButton[_0x20c591(0xf4)]=![],registerButton[_0x20c591(0x13b)]=_0x20c591(0xd8),messageDiv[_0x20c591(0x141)]=_0x20c591(0xfe);}});function showDashboard(){const _0x3a30f6=_0x1dbf6c;document[_0x3a30f6(0x11a)](_0x3a30f6(0x14b))[_0x3a30f6(0xf9)][_0x3a30f6(0xed)]('hidden'),document[_0x3a30f6(0x11a)]('dashboardSection')[_0x3a30f6(0xf9)][_0x3a30f6(0xde)](_0x3a30f6(0xe6)),document[_0x3a30f6(0x11a)](_0x3a30f6(0xfc))[_0x3a30f6(0xf9)][_0x3a30f6(0xde)]('hidden'),document[_0x3a30f6(0x11a)](_0x3a30f6(0xff))['textContent']=userData[_0x3a30f6(0x13a)]+'\x20('+userData['employeeId']+')',document['getElementById']('infoBranch')[_0x3a30f6(0x13b)]=''+(userData['Branch_eng']||'-'),document[_0x3a30f6(0x11a)](_0x3a30f6(0xf3))[_0x3a30f6(0x13b)]=''+(userData[_0x3a30f6(0x14e)]||'-'),document[_0x3a30f6(0x11a)](_0x3a30f6(0xd4))[_0x3a30f6(0x13b)]=''+(userData[_0x3a30f6(0xe5)]||'-');const _0x391e1b=(userData['Check_Place']||'')[_0x3a30f6(0x110)](),_0x4aeaac=_0x391e1b!=='',_0x42606f=document[_0x3a30f6(0x11a)](_0x3a30f6(0x12d)),_0x38a411=document[_0x3a30f6(0x11a)](_0x3a30f6(0x11e));_0x4aeaac?(_0x42606f[_0x3a30f6(0x13b)]='‡πÇ‡∏ï‡πä‡∏∞‡∏ó‡∏µ‡πà\x20'+_0x391e1b,_0x38a411[_0x3a30f6(0xf9)][_0x3a30f6(0xde)](_0x3a30f6(0xe6))):(_0x42606f[_0x3a30f6(0x13b)]=_0x3a30f6(0x154),_0x38a411[_0x3a30f6(0xf9)]['add'](_0x3a30f6(0xe6)));document['getElementById'](_0x3a30f6(0x130))['textContent']=_0x3a30f6(0xe7);const _0x5b6599=userData[_0x3a30f6(0x139)]?.['toDate']?userData['DateLogin'][_0x3a30f6(0x125)]():new Date(userData[_0x3a30f6(0x139)]);document['getElementById']('registrationTimestamp')[_0x3a30f6(0x13b)]='‡πÄ‡∏°‡∏∑‡πà‡∏≠:\x20'+_0x5b6599[_0x3a30f6(0x147)]('th-TH');const _0x1c067d=document['getElementById'](_0x3a30f6(0x112)),_0x2cc9d8=document['getElementById'](_0x3a30f6(0x138));_0x4aeaac?(_0x1c067d['textContent']='‡∏ú‡∏π‡πâ‡∏£‡πà‡∏ß‡∏°‡πÇ‡∏ï‡πä‡∏∞',_0x2cc9d8['textContent']=_0x3a30f6(0x14a),teamSelect['value']=_0x391e1b,fetchTeamMembers(_0x391e1b)):(_0x1c067d[_0x3a30f6(0x13b)]=_0x3a30f6(0x114),_0x2cc9d8[_0x3a30f6(0x13b)]=_0x3a30f6(0x144),teamSelect[_0x3a30f6(0xe9)]=teamNames[0x0],fetchTeamMembers(teamNames[0x0])),listenForPrize(),switchTab(0x1);}function populateTeamDropdown(){const _0x3767c6=_0x1dbf6c;teamSelect[_0x3767c6(0x141)]=teamNames[_0x3767c6(0x108)](_0x20fe62=>_0x3767c6(0x143)+_0x20fe62+_0x3767c6(0x106)+_0x20fe62+_0x3767c6(0x11b))[_0x3767c6(0x13d)](''),teamSelect['addEventListener'](_0x3767c6(0x111),_0x53879c=>fetchTeamMembers(_0x53879c[_0x3767c6(0xdd)]['value']));}async function fetchTeamMembers(_0x4e098d){const _0x513a78=_0x1dbf6c,_0x3ffb2c=document[_0x513a78(0x11a)](_0x513a78(0xf8));_0x3ffb2c[_0x513a78(0x141)]=_0x513a78(0xdc);try{const _0x572e45=query(collection(db,'crsg'),where('Check_Place','==',_0x4e098d)),_0x141baa=await getDocs(_0x572e45),_0x1e8b0b=[];_0x141baa[_0x513a78(0x109)](_0x575089=>_0x1e8b0b[_0x513a78(0x10d)](_0x575089[_0x513a78(0x11f)]())),_0x1e8b0b[_0x513a78(0x148)]((_0x18446e,_0x2a05f3)=>(_0x18446e['FullName_th']||'')['localeCompare'](_0x2a05f3[_0x513a78(0x13a)]||'')),_0x3ffb2c['innerHTML']=_0x1e8b0b['map'](_0x176217=>_0x513a78(0x102)+(_0x176217[_0x513a78(0x139)]?'bg-blue-50':'')+_0x513a78(0x10e)+_0x176217[_0x513a78(0x13a)]+_0x513a78(0xf5)+(_0x176217[_0x513a78(0x139)]?_0x513a78(0x118):'<span\x20class=\x22text-gray-300\x22>‡∏£‡∏≠</span>')+_0x513a78(0x128))[_0x513a78(0x13d)]('');if(_0x1e8b0b['length']===0x0)_0x3ffb2c[_0x513a78(0x141)]=_0x513a78(0xd7);}catch(_0x2f6ce3){console[_0x513a78(0x149)](_0x2f6ce3);}}function listenForPrize(){const _0xb832b0=_0x1dbf6c,_0x2a3e9f=document[_0xb832b0(0x11a)](_0xb832b0(0xd6));onSnapshot(doc(db,_0xb832b0(0x113),userData['id']),_0x458693=>{const _0x1a45b5=_0xb832b0,_0x304bc7=_0x458693[_0x1a45b5(0x11f)]();if(!_0x304bc7)return;const _0x235fca=_0x304bc7[_0x1a45b5(0x153)]?String(_0x304bc7[_0x1a45b5(0x153)])[_0x1a45b5(0x110)]():'';if(_0x235fca!==''){const _0x4b630d=_0x304bc7[_0x1a45b5(0x152)]&&_0x304bc7['ReceivedTime']!==null&&_0x304bc7['ReceivedTime']!=='';if(_0x4b630d){const _0x51fb48=_0x304bc7['ReceivedTime'][_0x1a45b5(0x125)]?_0x304bc7[_0x1a45b5(0x152)]['toDate']():new Date(_0x304bc7['ReceivedTime']);_0x2a3e9f[_0x1a45b5(0x141)]=_0x1a45b5(0x142)+_0x235fca+_0x1a45b5(0x104)+_0x51fb48[_0x1a45b5(0x147)](_0x1a45b5(0xdf))+_0x1a45b5(0xf7);}else _0x2a3e9f[_0x1a45b5(0x141)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-6xl\x20mb-4\x20text-orange-500\x22>üéÅ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xm\x20font-black\x20text-blue-900\x22>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢!\x20‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-6\x20p-6\x20bg-yellow-100\x20border-2\x20border-yellow-400\x20rounded-2xl\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xm\x20font-bold\x20text-gray-800\x22>'+_0x235fca+_0x1a45b5(0xec);}else _0x2a3e9f['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-gray-400\x20opacity-60\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20class=\x22w-16\x20h-16\x20mx-auto\x20mb-4\x22\x20fill=\x22currentColor\x22\x20viewBox=\x220\x200\x2020\x2020\x22><path\x20fill-rule=\x22evenodd\x22\x20d=\x22M5\x205a3\x203\x200\x20015-2.236A3\x203\x200\x200114.83\x206H16a2\x202\x200\x20110\x204h-5V9a1\x201\x200\x2010-2\x200v1H4a2\x202\x200\x20110-4h1.17C5.06\x205.687\x205\x205.35\x205\x205zm4\x201V5a1\x201\x200\x2010-1\x201h1zm3\x200a1\x201\x200\x2010-1-1v1h1z\x22\x20clip-rule=\x22evenodd\x22></path><path\x20d=\x22M9\x2011H3v5a2\x202\x200\x20002\x202h4v-7zM11\x2018h4a2\x202\x200\x20002-2v-5h-6v7z\x22></path></svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-lg\x22>‡∏£‡∏≠‡∏•‡∏∏‡πâ‡∏ô‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ä‡πà‡∏ß‡∏á\x20Lucky\x20Draw...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20mt-2\x22>‡∏´‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•\x20‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});}window[_0x1dbf6c(0xfa)]=async()=>{const _0x3680aa=_0x1dbf6c,_0x37b589=document[_0x3680aa(0x11a)]('claimBtn');if(!_0x37b589||_0x37b589[_0x3680aa(0xf4)])return;_0x37b589[_0x3680aa(0xf4)]=!![],_0x37b589[_0x3680aa(0x13b)]=_0x3680aa(0xd9);try{await updateDoc(doc(db,'crsg',userData['id']),{'ReceivedTime':new Date(),'PrizeClaimed':!![]});}catch(_0x25b944){console[_0x3680aa(0x149)](_0x25b944),_0x37b589[_0x3680aa(0xf4)]=![],_0x37b589[_0x3680aa(0x13b)]=_0x3680aa(0x140);}};

    </script>
</body>

</html>
