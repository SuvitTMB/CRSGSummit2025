<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ONE Retail Club</title>
    <!-- ‡πÇ‡∏´‡∏•‡∏î Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Sarabun', sans-serif; 
            background-color: #ffffff;
            letter-spacing: normal !important;
            font-size: 1.125rem;
        }
        * {
            font-family: 'Sarabun', sans-serif !important;
            letter-spacing: normal !important;
            text-transform: none !important;
        }
        input[type="text"], input[type="number"], select, textarea {
            width: 100%;
            padding: 0.6rem;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            margin-top: 0.25rem;
            /* ‡∏õ‡∏£‡∏±‡∏ö font dropdown ‡πÅ‡∏•‡∏∞ input ‡∏•‡∏á 1 ‡∏Ç‡∏±‡πâ‡∏ô */
            font-size: 1rem;
        }
        thead.table-header-gray {
             background-color: #e5e7eb;
        }
        table thead th {
            font-weight: bold !important;
            font-size: 1rem !important;
            /* ‡∏´‡∏±‡∏ß‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏à‡∏±‡∏î font-align center */
            text-align: center !important;
        }
        table tbody tr {
            height: 30px !important;
        }
        .winner-row-animate {
            animation: fadeIn 0.5s ease-in-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        button:disabled {
            background-color: #d1d5db !important;
            cursor: not-allowed !important;
            box-shadow: none !important;
            transform: none !important;
        }
        .loading-gif {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 10px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0); }
            100% { transform: rotate(360deg); }
        }
        .sortable-header {
            cursor: pointer;
            user-select: none;
            transition: background-color 0.2s;
        }
        .sortable-header:hover {
            background-color: #d1d5db;
        }
        .dashboard-card {
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .dashboard-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        /* Pagination Styles */
        .pagination-btn {
            padding: 0.25rem 0.75rem;
            border: 1px solid #d1d5db;
            background-color: #fff;
            color: #374151;
            font-size: 0.875rem;
            border-radius: 0.375rem;
            transition: all 0.2s;
        }
        .pagination-btn:hover:not(:disabled) {
            background-color: #f3f4f6;
        }
        .pagination-btn.active {
            background-color: #0056ff;
            color: #fff;
            border-color: #0056ff;
        }
        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body class="flex flex-col items-center min-h-screen py-10 bg-white">

    <div class="w-[95%] max-w-7xl p-0 bg-white rounded-lg">
        <!-- Header -->
        <div class="flex flex-col items-center mb-6 pt-6 px-8">
            <div class="text-center">
                <h1 class="text-2xl font-bold" style="color: #0056ff;">Recog Night White Elegance</h1>
            </div>
            <div class="text-center mt-2">
                <p id="currentDateTime" class="text-sm text-gray-400 font-medium"></p>
            </div>
        </div>
        
        <!-- Tab Navigation -->
        <div class="mb-6 border-b border-gray-200 px-8">
            <nav class="-mb-px flex space-x-1 overflow-x-auto" aria-label="Tabs">
                <button id="tab-dashboard" class="whitespace-nowrap py-3 px-4 border-b-2 font-medium text-base text-gray-700 bg-gray-300 border-blue-600">
                    ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Dashboard
                </button>
                <button id="tab-team-list" class="whitespace-nowrap py-3 px-4 border-b-2 font-medium text-base text-gray-500 bg-gray-100 border-transparent hover:text-gray-700 hover:border-gray-300">
                    ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏µ‡∏°
                </button>
                <button id="tab-group-view" class="whitespace-nowrap py-3 px-4 border-b-2 font-medium text-base text-gray-500 bg-gray-100 border-transparent hover:text-gray-700 hover:border-gray-300">
                    ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°
                </button>
                <button id="tab-employee-list" class="whitespace-nowrap py-3 px-4 border-b-2 font-medium text-base text-gray-500 bg-gray-100 border-transparent hover:text-gray-700 hover:border-gray-300">
                    ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
                </button>
                <button id="tab-gift-management" class="whitespace-nowrap py-3 px-4 border-b-2 font-medium text-base text-gray-500 bg-gray-100 border-transparent hover:text-gray-700 hover:border-gray-300">
                    ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
                </button>
                <button id="tab-register" class="whitespace-nowrap py-3 px-4 border-b-2 font-medium text-base text-gray-500 bg-gray-100 border-transparent hover:text-gray-700 hover:border-gray-300">
                    QR Code
                </button>
                <button id="tab-group-random" class="whitespace-nowrap py-3 px-4 border-b-2 font-medium text-base text-gray-500 bg-gray-100 border-transparent hover:text-gray-700 hover:border-gray-300">
                    ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏ö‡∏ö‡∏Å‡∏•‡∏∏‡πà‡∏°
                </button>
                <button id="tab-winners-list" class="whitespace-nowrap py-3 px-4 border-b-2 font-medium text-base text-gray-500 bg-gray-100 border-transparent hover:text-gray-700 hover:border-gray-300">
                    ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
                </button>
            </nav>
        </div>

        <!-- Dashboard Content -->
        <div id="dashboard-content" class="px-8 pb-8">
            <h2 class="text-xl font-semibold text-gray-800 mb-4 font-bold">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏ú‡∏π‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</h2>
            <div class="flex flex-col lg:flex-row gap-6 mb-8">
                <div class="lg:w-2/5">
                     <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 flex flex-col items-center justify-center h-full">
                         <p class="text-gray-600 text-base mb-4 font-bold">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                         <div class="relative w-64 h-64">
                             <canvas id="registrationBreakdownChart"></canvas>
                             <div class="absolute inset-0 flex flex-col items-center justify-center pointer-events-none">
                                 <span id="breakdownCenterTotal" class="text-2xl font-bold text-gray-900">0</span>
                                 <span class="text-base text-gray-500 font-bold">‡∏ú‡∏π‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</span>
                             </div>
                         </div>
                     </div>
                </div>
                <div class="lg:w-3/5">
                    <div class="flex gap-6 h-full">
                         <div class="w-2/3 bg-white p-6 rounded-lg shadow-sm border border-gray-200 flex flex-col items-center justify-center">
                            <p class="text-gray-600 text-base mb-4 font-bold">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</p>
                            <div class="relative w-64 h-64">
                                <canvas id="registrationDonutChart"></canvas>
                                <div class="absolute inset-0 flex flex-col items-center justify-center pointer-events-none">
                                    <span id="donutPercentage" class="text-2xl font-bold text-gray-900">0%</span>
                                    <span class="text-base text-gray-500 font-bold">%‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß</span>
                                </div>
                            </div>
                        </div>
                         <div class="w-1/3 flex flex-col justify-between space-y-2">
                            <div id="card-total" class="dashboard-card h-1/4 bg-blue-50 p-3 rounded-lg flex flex-col justify-center items-center text-center">
                                <p class="text-blue-700 text-sm font-bold">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                                <p id="targetCount" class="text-2xl font-bold text-blue-800 mt-1">0</p>
                            </div>
                            <div id="card-registered" class="dashboard-card h-1/4 bg-green-50 p-3 rounded-lg flex flex-col justify-center items-center text-center font-bold">
                                <p class="text-green-700 text-sm">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß</p>
                                <p id="participantsCountBox" class="text-2xl font-bold text-green-800 mt-1">0</p>
                            </div>
                            <div id="card-unregistered" class="dashboard-card h-1/4 bg-red-50 p-3 rounded-lg flex flex-col justify-center items-center text-center font-bold">
                                <p class="text-red-700 text-sm">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</p>
                                <p id="remainingCount" class="text-2xl font-bold text-red-800 mt-1">0</p>
                            </div>
                            <div id="card-extras" class="dashboard-card h-1/4 bg-yellow-50 p-3 rounded-lg flex flex-col justify-center items-center text-center font-bold">
                                <p class="text-yellow-700 text-sm">‡∏ú‡∏π‡πâ‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô</p>
                                <p id="attendeesCount" class="text-2xl font-bold text-yellow-800 mt-1">0</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Registration Timeline Row Updated with Side Stats -->
            <div class="mb-8 w-full">
                <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                    <h3 class="text-xl font-bold text-gray-800 mb-6">‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</h3>
                    <div class="flex flex-col md:flex-row items-center gap-6">
                        <!-- Chart Area (Left) -->
                        <div class="flex-grow h-72 w-full md:w-3/4">
                            <canvas id="registrationTimelineChart"></canvas>
                        </div>
                        
                        <!-- Summary Stats (Right) -->
                        <div class="w-full md:w-1/4 flex flex-col gap-4">
                            <div class="bg-blue-50 border-l-4 border-blue-600 p-4 rounded-r-lg">
                                <p class="text-blue-700 text-sm font-bold uppercase">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢</p>
                                <p id="timelineTotalInvite" class="text-2xl font-black text-blue-900 mt-1">0</p>
                                <p class="text-[10px] text-blue-400 font-bold uppercase tracking-widest">(‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô)</p>
                            </div>
                            <div class="bg-orange-50 border-l-4 border-orange-500 p-4 rounded-r-lg">
                                <p class="text-orange-700 text-sm font-bold uppercase">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô</p>
                                <p id="timelineTotalExtra" class="text-2xl font-black text-orange-900 mt-1">0</p>
                                <p class="text-[10px] text-orange-400 font-bold uppercase tracking-widest">(‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mb-8">
                <div class="flex justify-between items-center mb-4">
                     <h2 class="text-xl font-semibold text-gray-800 font-bold">‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡∏ú‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</h2>
                     <button id="randomizeButton" class="px-6 py-3 text-base font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 shadow active:scale-95 transition-all font-bold">
                         ‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ (‡∏£‡∏≤‡∏¢‡∏Ñ‡∏ô)
                     </button>
                 </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                        <p class="text-gray-600 text-base mb-4 font-bold text-center">‡∏ú‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á (A1 - A24)</p>
                        <div class="h-[35rem]"><canvas id="teamBarChart1"></canvas></div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                         <p class="text-gray-600 text-base mb-4 font-bold text-center">‡∏ú‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á (B1 - B24)</p>
                        <div class="h-[35rem]"><canvas id="teamBarChart2"></canvas></div>
                    </div>
                </div>
            </div>
            <h2 class="text-xl font-semibold text-gray-800 mb-4 font-bold">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î (30 ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö)</h2>
            <div class="bg-white shadow-md rounded-lg overflow-hidden border border-gray-200">
                <div class="overflow-x-auto">
                    <table class="min-w-full text-sm">
                        <thead class="table-header-gray">
                            <tr>
                                <th class="px-4 py-4 text-center font-bold text-gray-600">‡∏£‡∏´‡∏±‡∏™</th>
                                <th class="px-4 py-4 text-center font-bold text-gray-600">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                                <th class="px-4 py-4 text-center font-bold text-gray-600">‡∏™‡∏≤‡∏Ç‡∏≤</th>
                                <th class="px-4 py-4 text-center font-bold text-gray-600">‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</th>
                                <th class="px-4 py-4 text-center font-bold text-gray-600">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                <th class="px-4 py-4 text-center font-bold text-gray-600">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody id="latestRegistrationsTableBody" class="bg-white divide-y divide-gray-100 text-sm">
                            <tr><td colspan="6" class="p-6 text-center text-gray-500 font-bold text-sm">Loading...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="mt-8 text-center">
                <button id="downloadCsvButton" class="px-8 py-3 text-base font-bold text-white bg-[#1f2937] rounded-md hover:bg-black shadow transition-all">
                    üì• Download CSV Report
                </button>
            </div>
        </div>

        <!-- Team List Content -->
        <div id="team-list-content" class="hidden pb-8 px-0">
            <div class="bg-white overflow-hidden">
                <div class="px-6 py-4 border-b grid grid-cols-1 md:grid-cols-3 gap-4 items-center bg-gray-50">
                    <div class="bg-white p-4 rounded-xl text-center border shadow-sm">
                        <p class="text-base text-blue-700 font-bold">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ ‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</p>
                        <p id="managerEmployeeCount" class="text-2xl font-bold text-blue-900 mt-1">0</p>
                    </div>
                    <div class="bg-white p-4 rounded-xl text-center border shadow-sm font-bold">
                        <p class="text-base text-green-700">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ ‡∏ó‡∏µ‡∏°</p>
                        <p id="teamMemberCountElem" class="text-2xl font-bold text-green-900 mt-1">0</p>
                    </div>
                    <div class="bg-white p-4 rounded-xl border shadow-sm font-bold flex flex-col"> 
                        <p class="text-sm text-gray-400 font-bold mb-1 uppercase tracking-tight">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î:</p>
                        <textarea id="definedTeamNamesInput" class="!text-xs h-16 resize-none bg-blue-50 border-blue-100 font-mono" placeholder="A,B,C..."></textarea>
                        <button id="updateTeamNamesBtn" class="mt-1 text-[10px] bg-blue-600 text-white py-1 rounded uppercase">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡∏°</button>
                    </div>
                </div>
                <div class="px-6 py-4 border-b flex flex-col md:flex-row gap-4 justify-center">
                     <button id="resetTeamButton" class="w-full md:w-auto px-8 py-3 text-base font-bold text-white bg-red-600 rounded-md hover:bg-red-700 shadow transition-all">Reset System Data</button>
                </div>
                 <div class="p-6">
                     <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4">
                         <div>
                             <h3 class="text-xl font-bold border-l-4 border-blue-600 pl-3">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h3>
                             <div id="teamStatsContainer" class="hidden flex flex-wrap gap-2 mt-2">
                                 <span class="px-3 py-1 rounded-md bg-gray-100 text-gray-700 text-sm font-bold border">Total: <span id="teamStatsTotal">0</span></span>
                                 <span class="px-3 py-1 rounded-md bg-green-50 text-green-700 text-sm font-bold border border-green-200">Reg: <span id="teamStatsRegistered">0</span></span>
                             </div>
                         </div>
                         <div class="flex items-center">
                             <label for="teamSelect" class="text-base font-bold text-gray-600 mr-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á:</label>
                             <select id="teamSelect" class="rounded-md border-gray-300 text-sm py-2 px-6 bg-[#f97316] text-white font-bold w-56 focus:ring-0">
                                 <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡∏° --</option>
                             </select>
                         </div>
                     </div>
                     <div class="overflow-x-auto border rounded-xl shadow-sm">
                        <table class="min-w-full text-lg">
                            <thead class="table-header-gray">
                                <tr>
                                    <th class="px-4 py-4 text-center font-bold">#</th>
                                    <th class="px-4 py-4 text-left font-bold">Employee ID</th>
                                    <th class="px-4 py-4 text-left font-bold">Full Name</th>
                                    <th class="px-4 py-4 text-left font-bold">‡∏™‡∏≤‡∏Ç‡∏≤</th>
                                    <th class="px-4 py-4 text-left font-bold">‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</th>
                                    <th class="px-4 py-4 text-left font-bold">Status</th>
                                    <th class="px-4 py-4 font-bold text-center">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</th>
                                </tr>
                            </thead>
                            <tbody id="selectedTeamTableBody" class="divide-y divide-gray-100 bg-white"></tbody>
                        </table>
                    </div>
                 </div>
            </div>
        </div>
        
        <!-- Group View Content -->
        <div id="group-view-content" class="hidden pb-8 px-6">
             <div class="bg-white overflow-hidden">
                <!-- Search Boxes Container -->
                <div class="flex flex-col md:flex-row gap-6 mb-6">
                    <!-- Box 1: ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (50% Width) -->
                    <div class="md:w-1/2 p-6 border-b bg-gray-50 rounded-xl shadow-inner">
                        <h3 class="text-xl font-bold text-gray-800 mb-3">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h3>
                        <div class="flex items-end space-x-2">
                            <div class="flex-grow">
                                <label for="searchEmployeeIdInput" class="block text-sm font-bold text-gray-500 mb-1">‡∏£‡∏´‡∏±‡∏™</label>
                                <input type="text" id="searchEmployeeIdInput" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm !text-sm p-2" placeholder="‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô 5-6 ‡∏´‡∏•‡∏±‡∏Å">
                            </div>
                            <button id="searchEmployeeButton" class="px-8 py-2 !text-sm font-bold text-white bg-blue-600 rounded-md hover:bg-blue-700 shadow transition-all active:scale-95">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
                        </div>
                        <p id="searchEmployeeError" class="text-red-600 text-sm mt-2 font-bold h-5"></p>
                    </div>

                    <!-- Box 2: ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô (50% Width) -->
                    <div class="md:w-1/2 p-6 border-b bg-green-50 rounded-xl shadow-inner">
                        <h3 class="text-xl font-bold text-green-800 mb-3 uppercase">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h3>
                        <div class="flex items-end space-x-2">
                            <div class="flex-grow">
                                <label for="searchRegEmployeeIdInput" class="block text-sm font-bold text-green-600 mb-1">‡∏£‡∏´‡∏±‡∏™</label>
                                <input type="text" id="searchRegEmployeeIdInput" class="mt-1 block w-full rounded-md border-green-300 shadow-sm !text-sm p-2" placeholder="‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô">
                            </div>
                            <button id="searchRegEmployeeButton" class="px-8 py-2 !text-sm font-bold text-white bg-green-600 rounded-md hover:bg-green-700 shadow transition-all active:scale-95 uppercase">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</button>
                        </div>
                        <p id="searchRegEmployeeError" class="text-red-600 text-sm mt-2 font-bold h-5"></p>
                    </div>
                </div>

                <div class="px-6 py-4 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4">
                    <div>
                        <h2 class="text-xl font-bold uppercase">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á (Grid)</h2>
                        <div id="gvOverallStatsContainer" class="hidden flex flex-wrap gap-2 mt-2">
                             <span class="px-3 py-1 rounded-md bg-gray-100 text-sm font-bold border">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <span id="gvOverallStatsTotal">0</span></span>
                             <span class="px-3 py-1 rounded-md bg-green-50 text-green-700 text-sm font-bold border border-green-200">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß: <span id="gvOverallStatsRegistered">0</span></span>
                        </div>
                    </div>
                    <div class="flex items-center">
                         <label for="groupViewManagerFilter" class="text-base font-bold text-gray-600 mr-2">Manager:</label>
                         <select id="groupViewManagerFilter" class="rounded-md border-gray-300 text-sm py-2 px-6 bg-[#f97316] text-white font-bold w-56 focus:ring-0">
                             <option value="">-- ‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î --</option>
                         </select>
                    </div>
                </div>

                <!-- New Layout: Recog Night Header + Seat Grid -->
                <div class="w-full flex justify-center mb-6 px-6">
                    <div class="w-[60%] bg-[#0056ff] text-white text-center py-3 rounded-xl font-bold shadow-md">
                        ‡∏ú‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á Recog Night White Elegance
                    </div>
                </div>

                <div class="px-6 flex w-full items-stretch gap-0">
                    <!-- ‡πÇ‡∏ã‡∏ô A (48%) ‡∏õ‡∏£‡∏±‡∏ö grid-cols-6 -->
                    <div id="teamGridA" class="w-[48%] grid grid-cols-6 gap-4 h-fit"></div>
                    
                    <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á ‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ö‡πà‡∏á (4%) -->
                    <div class="w-[4%] flex justify-center py-2">
                        <!-- Border 2% ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á 4% ‡∏ß‡∏≤‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á -->
                        <div class="w-1 bg-gray-200 rounded-full h-full opacity-50" id="gridDivider"></div>
                    </div>

                    <!-- ‡πÇ‡∏ã‡∏ô B (48%) ‡∏õ‡∏£‡∏±‡∏ö grid-cols-6 -->
                    <div id="teamGridB" class="w-[48%] grid grid-cols-6 gap-4 h-fit"></div>
                </div>
                
                <div class="p-10"></div> <!-- Spacer -->
             </div>
        </div>
        
        <!-- Employee List Content -->
        <div id="employee-list-content" class="hidden pb-8 px-0">
             <div class="bg-white overflow-hidden">
                <div class="px-8 py-6 border-b flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-gray-50">
                    <div>
                        <h2 class="text-xl font-bold uppercase">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
                        <div id="empStatsContainer" class="hidden flex flex-wrap gap-2 mt-3">
                            <span class="px-4 py-1.5 rounded-xl bg-gray-100 text-gray-700 text-sm font-black border shadow-sm">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <span id="empStatsTotal">0</span></span>
                            <span class="px-4 py-1.5 rounded-xl bg-green-50 text-green-700 text-sm font-black border border-green-200 shadow-sm">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô: <span id="empStatsRegistered">0</span></span>
                            <span class="px-4 py-1.5 rounded-xl bg-red-50 text-red-700 text-sm font-black border border-red-200 shadow-sm">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏•‡∏á: <span id="empStatsUnregistered">0</span></span>
                            <span class="px-4 py-1.5 rounded-xl bg-blue-50 text-blue-700 text-sm font-black border border-blue-200 shadow-sm">‡∏Ñ‡∏¥‡∏î‡πÄ‡∏õ‡πá‡∏ô: <span id="empStatsPercent">0%</span></span>
                        </div>
                    </div>
                    <div class="flex items-center">
                         <label for="managerFilterSelect" class="text-base font-bold text-gray-600 mr-2">‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á:</label>
                         <select id="managerFilterSelect" class="rounded-xl border-gray-300 text-sm py-2 px-6 bg-[#f97316] text-white font-bold w-56 focus:ring-0">
                             <option value="">-- ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î --</option>
                         </select>
                     </div>
                </div>
                <div class="overflow-x-auto p-8">
                    <table class="min-w-full text-sm shadow-sm border rounded-2xl overflow-hidden">
                        <thead class="table-header-gray">
                            <tr>
                                <th class="px-4 py-4 text-center font-bold">#</th>
                                <th class="px-4 py-4 text-center font-bold sortable-header" id="sort-emp-id">‡∏£‡∏´‡∏±‡∏™ ‚ÜïÔ∏è</th>
                                <th class="px-4 py-4 text-center font-bold sortable-header" id="sort-emp-name">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• ‚ÜïÔ∏è</th>
                                <th class="px-4 py-4 text-center font-bold sortable-header" id="sort-emp-branch">‡∏™‡∏≤‡∏Ç‡∏≤ ‚ÜïÔ∏è</th>
                                <th class="px-4 py-4 text-center font-bold sortable-header" id="sort-emp-manager">‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î ‚ÜïÔ∏è</th>
                                <th class="px-4 py-4 text-center font-bold sortable-header" id="sort-emp-member">Member ‚ÜïÔ∏è</th>
                                <th class="px-4 py-4 text-center font-bold sortable-header" id="sort-emp-gift">‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• ‚ÜïÔ∏è</th>
                                <th class="px-4 py-4 text-center font-bold">‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</th>
                                <th class="px-4 py-4 text-center font-bold sortable-header" id="sort-emp-status">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‚ÜïÔ∏è</th>
                                <th class="px-4 py-4 text-center font-bold">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody id="employeeListTableBody" class="divide-y divide-gray-100 bg-white"></tbody>
                    </table>
                </div>

                <!-- Pagination Container -->
                <div id="empPaginationContainer" class="flex justify-center items-center gap-2 py-6 border-t border-gray-100"></div>

                <!-- ‡∏õ‡∏∏‡πà‡∏° Download CSV ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å -->
                <div class="pb-8 text-center">
                    <button id="downloadEmployeeCsvButton" class="px-8 py-3 text-base font-bold text-white bg-[#1f2937] rounded-md hover:bg-black shadow transition-all uppercase">
                        üì• Download Employee CSV
                    </button>
                </div>
            </div>
        </div>

        <!-- Gift Management Content -->
        <div id="gift-management-content" class="hidden pb-8 px-6">
            <div class="bg-white rounded-xl border border-gray-200 p-8 shadow-sm">
                <h2 class="text-xl font-bold text-gray-800 mb-6 uppercase border-l-4 border-blue-600 pl-3">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h2>
                <div class="bg-gray-50 p-6 rounded-2xl border mb-8 max-w-[1000px] shadow-inner">
                    <div class="flex flex-wrap gap-4 items-end">
                        <div class="flex-grow" style="max-width: 600px;">
                            <label class="block text-sm font-bold text-gray-500 mb-1">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</label>
                            <input type="text" id="giftNameInput" class="!text-sm" placeholder="‡πÄ‡∏ä‡πà‡∏ô iPhone 15">
                        </div>
                        <div style="width: 90px;">
                            <label class="block text-sm font-bold text-gray-500 mb-1">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label>
                            <input type="number" id="giftQtyInput" class="!text-sm text-center" value="1" min="1">
                        </div>
                        <div class="flex items-end">
                            <button id="addGiftBtn" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition-all active:scale-95 shadow-lg !text-xs">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</button>
                        </div>
                    </div>
                </div>
                <div class="overflow-x-auto border rounded-xl shadow-sm">
                    <table class="min-w-full text-base">
                        <thead class="table-header-gray">
                            <tr>
                                <th class="px-4 py-4 text-center font-bold w-24">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
                                <th class="px-4 py-4 text-left font-bold">‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</th>
                                <th class="px-4 py-4 text-center font-bold">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</th>
                                <th class="px-4 py-4 text-center font-bold">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th>
                                <th class="px-4 py-4 text-center font-bold">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°</th>
                                <th class="px-4 py-4 text-center font-bold">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody id="giftListTableBody" class="divide-y divide-gray-100 bg-white">
                            <tr><td colspan="6" class="p-6 text-center text-gray-400 font-bold">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Winners List Content -->
        <div id="winners-list-content" class="hidden pb-8 px-6">
            <div class="bg-white rounded-xl border border-gray-200 p-8 shadow-sm">
                <h2 class="text-xl font-bold text-gray-800 mb-6 uppercase border-l-4 border-green-600 pl-3">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</h2>
                <div id="winnersByGiftContainer" class="space-y-12">
                    <div class="p-10 text-center text-gray-400 font-bold italic">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</div>
                </div>
                <div class="mt-12 text-center">
                    <button id="downloadWinnersCsvButton" class="px-8 py-3 text-base font-bold text-white bg-green-600 rounded-md hover:bg-green-700 shadow transition-all active:scale-95">
                        üì• Download Winners CSV Report
                    </button>
                </div>
            </div>
        </div>

        <!-- Register Content -->
        <div id="register-content" class="hidden pb-8 px-6 text-center">
             <div class="bg-white p-12 rounded-[3rem] shadow-xl border border-gray-100 flex flex-col items-center">
                <h2 class="text-xl font-bold text-gray-800 mb-10 font-black">QR Code</h2>
                <div class="p-6 bg-white border-8 border-blue-600 rounded-[3rem] shadow-2xl mb-4 hover:scale-105 transition-all">
                    <img src="./images/QRcode-CRSG.png" alt="QR Code" class="w-80 h-80" onerror="this.src='https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=REGISTER'">
                </div>
             </div>
        </div>

        <!-- Group Random Content -->
        <div id="group-random-content" class="hidden pb-8 px-6">
            <div class="bg-white rounded-xl border border-gray-200 p-8 shadow-sm">
                
                <div class="flex flex-col md:flex-row gap-4 mb-6 items-stretch">
                    <div class="md:w-[30%] grid grid-cols-1 gap-2">
                        <div class="bg-blue-50 p-3 rounded-xl border border-blue-100 shadow-sm text-center">
                            <p class="text-sm text-blue-700 uppercase font-black">‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏•‡∏∏‡πâ‡∏ô‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                            <p id="grTotalEligible" class="text-xl font-black text-blue-900">0</p>
                        </div>
                        <div class="bg-orange-50 p-3 rounded-xl border border-orange-100 shadow-sm text-center">
                            <p class="text-sm text-orange-700 uppercase font-black">‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏™‡∏∏‡πà‡∏°</p>
                            <p id="grRemainingEligible" class="text-xl font-black text-orange-900">0</p>
                        </div>
                        <div class="bg-green-50 p-3 rounded-xl border border-green-100 shadow-sm text-center">
                            <p class="text-sm text-green-700 uppercase font-black">‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÅ‡∏•‡πâ‡∏ß</p>
                            <p id="grTotalWinners" class="text-xl font-black text-green-900">0</p>
                        </div>
                    </div>

                    <div class="md:w-[70%] flex flex-col gap-3">
                        <div class="bg-gray-50 px-4 py-3 rounded-xl border shadow-sm w-full">
                            <label class="block text-sm font-bold text-gray-400 mb-1 uppercase tracking-wider text-center">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°</label>
                            <div id="grGiftBox" class="flex items-center justify-between bg-white border-2 border-dashed border-gray-200 rounded-xl p-3 transition-all">
                                <div class="flex flex-col text-left">
                                    <p id="grGiftDisplayName" class="text-base font-black text-gray-400 leading-tight uppercase">-- ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• --</p>
                                    <p id="grGiftDisplayQty" class="text-sm font-bold text-gray-300 mt-1">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: - ‡∏ä‡∏¥‡πâ‡∏ô</p>
                                </div>
                                <button id="openGroupGiftPickerBtn" class="px-4 py-1.5 rounded-lg bg-blue-50 text-blue-700 text-xs font-black border border-blue-200 shadow-sm shrink-0 active:scale-95 transition-all">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô</button>
                            </div>
                        </div>

                        <div class="flex items-stretch gap-3 w-full flex-grow min-h-[90px]">
                            <div class="w-[30%] bg-gray-50 p-3 rounded-xl border shadow-sm flex flex-col justify-center items-center text-center">
                                <label class="text-sm font-bold text-gray-500 uppercase mb-1">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ</label>
                                <input type="number" id="grDrawCount" value="0" min="0" class="w-full text-center text-3xl font-black text-blue-600 bg-white border border-blue-100 rounded-lg focus:border-blue-500 focus:ring-0 py-1 shadow-inner">
                            </div>
                            <div class="w-[70%]">
                                <button id="grStartDrawBtn" class="w-full h-full text-xl font-black text-white bg-[#0056ff] rounded-xl hover:bg-blue-700 shadow-lg transition-all active:scale-95 disabled:bg-gray-400 uppercase tracking-widest flex items-center justify-center">
                                    üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏ö‡∏ö‡∏Å‡∏•‡∏∏‡πà‡∏°
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-0 border-t border-gray-100 pt-4">
                    <div class="p-4 border-r border-gray-100">
                        <h4 class="text-xl font-black text-blue-600 uppercase mb-3 text-center">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà 1</h4>
                        <div id="grBoxLeft" class="min-h-[250px] flex flex-col space-y-1.5"></div>
                    </div>
                    <div class="p-4">
                        <h4 class="text-xl font-black text-indigo-600 uppercase mb-3 text-center">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà 2</h4>
                        <div id="grBoxRight" class="min-h-[250px] flex flex-col space-y-1.5"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->

    <!-- LIGHTBOX: Manual Registration -->
    <div id="manualRegisterModal" class="hidden fixed inset-0 z-[140] bg-gray-900 bg-opacity-80 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-10 w-full max-w-lg border-t-8 border-green-600">
            <h3 class="text-xl font-bold mb-6 uppercase border-b pb-3 text-gray-800 text-center">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</h3>
            <div id="regEmpDetail" class="space-y-4 mb-6">
                <div class="flex justify-between items-center"><label class="text-sm font-bold text-gray-400 uppercase">Emp ID</label><p id="regEmpId" class="text-xl font-bold text-blue-700 font-mono"></p></div>
                <div class="flex justify-between items-start flex-col"><label class="text-sm font-bold text-gray-400 uppercase mb-1">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label><p id="regEmpName" class="font-black text-gray-900 text-lg"></p></div>
                
                <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå ‡∏™‡∏≤‡∏Ç‡∏≤ ‡πÅ‡∏•‡∏∞ ‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° -->
                <div class="flex justify-between items-center bg-gray-50 p-2 rounded-lg"><label class="text-xs font-bold text-gray-400 uppercase">‡∏™‡∏≤‡∏Ç‡∏≤ (Branch)</label><p id="regEmpBranch" class="text-sm font-bold text-gray-700"></p></div>
                <div class="flex justify-between items-center bg-gray-50 p-2 rounded-lg"><label class="text-xs font-bold text-gray-400 uppercase">‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î (Manager)</label><p id="regEmpManager" class="text-sm font-bold text-gray-700"></p></div>

                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="text-sm font-bold text-gray-400 mb-1 block">‡πÇ‡∏ï‡πä‡∏∞‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</label>
                        <input type="text" id="regEmpSeat" class="bg-gray-50 font-bold border-2 focus:border-green-500 outline-none p-3 rounded-xl text-base" placeholder="‡πÄ‡∏ä‡πà‡∏ô A1, A2">
                    </div>
                    <div>
                        <label class="text-sm font-bold text-gray-400 mb-1 block">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
                        <select id="regEmpInviteStatus" class="bg-gray-50 font-bold border-2 focus:border-green-500 outline-none p-3 rounded-xl text-base">
                            <option value="">-- ‡∏ß‡πà‡∏≤‡∏á --</option>
                            <option value="invite">invite</option>
                        </select>
                    </div>
                </div>
                <p id="regManualError" class="text-red-600 text-sm font-black italic h-4"></p>
            </div>
            <div class="flex justify-end gap-3 font-bold">
                <button id="closeManualRegModalButton" class="px-6 py-2 bg-gray-100 rounded-xl text-sm uppercase transition-all hover:bg-gray-200">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button id="saveManualRegButton" class="px-8 py-2 bg-green-600 text-white rounded-xl text-sm font-black shadow-lg transition-all hover:bg-green-700 uppercase">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            </div>
        </div>
    </div>

    <!-- LIGHTBOX: Group Detail -->
    <div id="groupViewModal" class="hidden fixed inset-0 z-50 overflow-y-auto bg-gray-900 bg-opacity-80 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl p-6 w-full max-w-[90%] max-h-[90vh] flex flex-col border-t-8 border-blue-600 text-center">
            <div class="flex justify-between items-start mb-4 border-b pb-4">
                 <div class="text-left">
                     <h3 id="groupViewModalTitle" class="text-xl font-bold text-gray-800">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏µ‡∏°</h3>
                     <div id="groupViewStatsContainer" class="flex flex-wrap gap-2 mt-2">
                         <span class="px-3 py-1 rounded-full bg-gray-100 text-sm font-bold border uppercase">Total: <span id="groupViewStatsTotal">0</span></span>
                         <span class="px-3 py-1 rounded-full bg-green-50 text-green-700 text-sm font-bold border border-green-200 uppercase">Reg: <span id="groupViewStatsRegistered">0</span></span>
                     </div>
                 </div>
                 <button id="closeGroupViewModalButton" class="text-gray-400 hover:text-gray-600 text-4xl font-light transition-all">&times;</button>
            </div>
            <div class="flex-grow overflow-y-auto border rounded-lg shadow-inner bg-gray-50">
                 <table class="min-w-full text-sm">
                    <thead class="table-header-gray sticky top-0 z-10">
                        <tr>
                            <th class="px-4 py-4 text-center font-bold text-sm">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
                            <th class="px-4 py-4 text-left font-bold text-sm">ID</th>
                            <th class="px-4 py-4 text-left font-bold text-sm">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                            <th class="px-4 py-4 text-left font-bold text-sm">‡∏™‡∏≤‡∏Ç‡∏≤</th>
                            <th class="px-4 py-4 text-left font-bold text-sm">‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</th>
                            <th class="px-4 py-4 text-left font-bold text-sm">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                            <th class="px-4 py-4 text-center font-bold text-sm">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</th>
                        </tr>
                    </thead>
                    <tbody id="groupViewTableBody" class="divide-y divide-gray-100 bg-white"></tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- LIGHTBOX: Dashboard List Detail -->
    <div id="dashboardListModal" class="hidden fixed inset-0 z-50 overflow-y-auto bg-gray-900 bg-opacity-80 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl p-6 w-full max-w-[90%] max-h-[90vh] flex flex-col border-t-8 border-blue-600 text-center">
            <div class="flex justify-between items-start mb-4 border-b pb-4">
                 <div class="text-left">
                     <h3 id="dashboardListModalTitle" class="text-xl font-bold text-gray-800">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h3>
                     <p class="text-sm text-gray-400 font-bold mt-1 uppercase tracking-tight">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î <span id="dashboardListCount">0</span> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</p>
                 </div>
                 <button id="closeDashboardListModalButton" class="text-gray-400 hover:text-gray-600 text-4xl font-light transition-all">&times;</button>
            </div>
            <div class="flex-grow overflow-y-auto border rounded-lg shadow-inner bg-gray-50">
                 <table class="min-w-full text-sm">
                    <thead class="table-header-gray sticky top-0 z-10">
                        <tr>
                            <th class="px-4 py-4 text-center font-bold">‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà</th>
                            <th class="px-4 py-4 text-center font-bold">‡∏£‡∏´‡∏±‡∏™</th>
                            <th class="px-4 py-4 text-left font-bold">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                            <th class="px-4 py-4 text-left font-bold">‡∏™‡∏≤‡∏Ç‡∏≤</th>
                            <th class="px-4 py-4 text-left font-bold">‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</th>
                            <th class="px-4 py-4 text-center font-bold">‡πÇ‡∏ï‡πä‡∏∞‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</th>
                            <th class="px-4 py-4 text-center font-bold">‡πÄ‡∏ß‡∏•‡∏≤‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</th>
                        </tr>
                    </thead>
                    <tbody id="dashboardListTableBody" class="divide-y divide-gray-100 bg-white"></tbody>
                </table>
            </div>
        </div>
    </div>
    
    <!-- MODAL: Lucky Draw Individual -->
    <div id="randomizeModal" class="hidden fixed inset-0 z-40 bg-gray-600 bg-opacity-75 flex items-center justify-center">
        <div class="bg-white rounded-lg shadow-xl p-8 w-[75%] h-[80vh] flex flex-col mx-4 border-t-8 border-blue-600 relative">
            <button id="closeRandomizeModalButtonX" class="absolute top-2 right-4 text-gray-400 hover:text-gray-600 text-5xl font-light transition-all z-10">&times;</button>
            <h3 class="text-xl font-bold text-center text-gray-900 mb-6 uppercase">‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</h3>
            <div class="max-w-lg mx-auto mb-8 w-full">
                <label class="block text-sm font-bold text-gray-400 mb-2 text-center">‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏∏‡πà‡∏°</label>
                <div id="indGiftBox" class="flex items-center justify-between bg-blue-50 border-2 border-dashed border-blue-200 rounded-2xl p-3 transition-colors">
                    <div class="flex flex-col text-left">
                        <p id="indGiftDisplayName" class="text-lg font-black text-blue-400 leading-tight">-- ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• --</p>
                        <p id="indGiftDisplayQty" class="text-sm text-black-400 mt-2">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: - ‡∏ä‡∏¥‡πâ‡∏ô</p>
                    </div>
                    <button id="openGiftPickerBtn" class="px-4 py-1.5 rounded-xl bg-red-50 text-red-700 text-sm font-black border border-red-200 shadow-sm">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô</button>
                </div>
            </div>
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="bg-blue-50 p-4 rounded-xl text-center border font-bold"><p class="text-base text-blue-700 uppercase">‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</p><p id="modalParticipantsCount" class="text-2xl font-bold">0</p></div>
                <div class="bg-green-50 p-4 rounded-xl text-center border font-bold"><p class="text-base text-green-700 uppercase">‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏•‡πâ‡∏ß</p><p id="modalDrawnCount" class="text-2xl font-bold">0</p></div>
            </div>
            <div class="flex justify-center space-x-2 mb-6 shrink-0">
                <div id="digit1" class="w-16 h-20 bg-black text-white text-4xl font-mono font-bold rounded-lg flex items-center justify-center shadow-lg">0</div>
                <div id="digit2" class="w-16 h-20 bg-black text-white text-4xl font-mono font-bold rounded-lg flex items-center justify-center shadow-lg">0</div>
                <div id="digit3" class="w-16 h-20 bg-black text-white text-4xl font-mono font-bold rounded-lg flex items-center justify-center shadow-lg">0</div>
                <div id="digit4" class="w-16 h-20 bg-black text-white text-4xl font-mono font-bold rounded-lg flex items-center justify-center shadow-lg">0</div>
                <div id="digit5" class="w-16 h-20 bg-black text-white text-4xl font-mono font-bold rounded-lg flex items-center justify-center shadow-lg">0</div>
            </div>
            <div class="mb-6 flex flex-col items-center shrink-0">
                <button id="startRandomizeButton" class="w-[40%] px-6 py-4 text-base text-white bg-blue-600 rounded-lg font-bold hover:bg-blue-700 shadow-xl active:scale-95 disabled:bg-gray-400 uppercase" disabled>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Ñ‡∏ô</button>
                <p id="randomizeError" class="text-red-600 text-base mt-3 font-bold uppercase"></p>
            </div>
            <div class="flex-grow overflow-y-auto border rounded-xl bg-gray-50 font-bold">
                <table class="min-w-full text-base">
                    <thead class="bg-gray-200 sticky top-0 uppercase text-gray-700">
                        <tr><th class="px-4 py-4 text-left">‡∏£‡∏´‡∏±‡∏™</th><th class="px-4 py-4 text-left">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ</th><th class="px-4 py-4 text-left">‡∏™‡∏≤‡∏Ç‡∏≤/‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</th><th class="px-4 py-4 text-center">Action</th></tr>
                    </thead>
                    <tbody id="drawnWinnersTableBody" class="bg-white divide-y"></tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- MODAL: Gift Picker -->
    <div id="giftPickerModal" class="hidden fixed inset-0 z-[100] bg-gray-900 bg-opacity-80 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-6 w-[70%] modal-enter flex flex-col border-t-8 border-orange-500">
            <div class="flex justify-between items-center border-b pb-3 mb-4">
                <h3 id="giftPickerTitle" class="text-xl font-black text-gray-800 uppercase">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h3>
                <button id="closeGiftPickerBtn" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
            </div>
            <div class="overflow-y-auto max-h-[60vh] space-y-2" id="giftPickerList"></div>
        </div>
    </div>

    <!-- POPUP WINNER Detail -->
    <div id="winnerDetailModal" class="hidden fixed inset-0 z-[200] bg-gray-900 bg-opacity-95 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-12 max-w-xl w-full text-center border-t-8 border-blue-600 transform scale-110">
            <h3 class="text-xl font-black text-blue-600 mb-4 uppercase">üéä WINNER üéä</h3>
            <div class="text-6xl mb-6">üèÜ</div>
            <p id="winnerName" class="text-2xl font-black text-gray-900 my-4 leading-tight uppercase"></p>
            <p id="winnerGiftText" class="text-xl font-bold text-orange-600 mb-6"></p>
            <div class="bg-blue-50 p-6 rounded-[2rem] mb-10 border border-blue-100 shadow-inner text-center">
                <p id="winnerEmployeeId" class="text-xl font-black text-blue-800 font-mono"></p>
                <p id="winnerBU" class="text-lg font-bold text-gray-600 mt-2 uppercase"></p>
                <p id="winnerTeam" class="text-base font-medium text-gray-400 mt-2 uppercase"></p>
            </div>
            <div class="flex flex-col gap-4">
                <button id="cancelWinnerButton" class="text-base font-bold text-red-400 hover:text-red-600 hover:underline transition-all uppercase">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (Cancel)</button>
                <button id="closeWinnerModalButton" class="px-12 py-3 text-base font-black bg-blue-600 text-white rounded-[1.5rem] hover:bg-blue-700 shadow-2xl active:scale-95 transition-all">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢!</button>
            </div>
        </div>
    </div>

    <!-- MODAL: Edit Profile -->
    <div id="editEmployeeModal" class="hidden fixed inset-0 z-[120] bg-gray-900 bg-opacity-80 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-10 w-full max-w-md border-b-8 border-orange-500">
            <h3 class="text-xl font-bold mb-8 uppercase border-b pb-3 text-gray-800 font-bold text-center">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h3>
            <div class="space-y-6">
                <div class="flex justify-between items-center"><label class="text-sm font-bold text-gray-400 uppercase">Emp ID</label><p id="editEmpId" class="text-xl font-bold text-blue-700 font-mono"></p></div>
                <div class="flex justify-between items-start flex-col"><label class="text-sm font-bold text-gray-400 uppercase mb-1">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label><p id="editEmpName" class="font-black text-gray-900 text-lg"></p></div>
                <div><label class="text-sm font-bold text-gray-400 uppercase mb-1 block font-bold">‡∏™‡∏≤‡∏Ç‡∏≤</label><input type="text" id="editEmpManager" class="bg-gray-50 font-bold border-2 focus:border-blue-500 outline-none p-3 rounded-xl text-base"></div>
                <div><label class="text-sm font-bold text-gray-400 uppercase mb-1 block font-bold">‡πÇ‡∏ï‡πä‡∏∞‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</label><input type="text" id="editEmpTeam" class="bg-gray-50 font-bold border-2 focus:border-blue-500 outline-none p-3 rounded-xl text-base"></div>
                <p id="editError" class="text-red-600 text-sm font-black italic mt-2"></p>
            </div>
            <div class="mt-10 flex justify-end gap-3 font-bold">
                <button id="closeEditModalButton" class="px-6 py-2 bg-gray-100 rounded-xl text-sm uppercase transition-all hover:bg-gray-200">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button id="saveEditModalButton" class="px-8 py-2 bg-blue-600 text-white rounded-xl text-sm font-black shadow-lg transition-all hover:bg-blue-700 uppercase">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            </div>
        </div>
    </div>

    <!-- MODAL: Edit Gift -->
    <div id="editGiftModal" class="hidden fixed inset-0 z-[150] bg-gray-900 bg-opacity-80 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-10 w-full max-w-md border-b-8 border-orange-500">
            <h3 class="text-xl font-bold mb-8 uppercase border-b pb-3 text-gray-800 font-bold text-center">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h3>
            <div class="space-y-6">
                <div><label class="text-sm font-bold text-gray-400 uppercase mb-1 block font-bold">‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</label><input type="text" id="editGiftName" class="!text-sm" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ó‡∏µ‡∏ß‡∏µ 50 ‡∏ô‡∏¥‡πâ‡∏ß"></div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="text-sm font-bold text-gray-400 uppercase mb-1 block font-bold">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</label>
                        <input type="number" id="editGiftTotalQty" class="!text-sm text-center w-full bg-gray-50 font-bold border-2 focus:border-blue-500 outline-none p-3 rounded-xl" min="1">
                    </div>
                    <div>
                        <label class="text-sm font-bold text-gray-400 uppercase mb-1 block font-bold">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</label>
                        <input type="number" id="editGiftRemainingQty" class="!text-sm text-center w-full bg-gray-50 font-bold border-2 focus:border-blue-500 outline-none p-3 rounded-xl" min="0">
                    </div>
                </div>
            </div>
            <div class="mt-10 flex justify-end gap-3 font-bold">
                <button id="closeEditGiftModalBtn" class="px-6 py-2 bg-gray-100 rounded-xl text-sm uppercase transition-all hover:bg-gray-200">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button id="saveEditGiftBtn" class="px-8 py-2 bg-blue-600 text-white rounded-xl text-sm font-black shadow-lg transition-all hover:bg-blue-700 uppercase">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            </div>
        </div>
    </div>

    <!-- MODAL: Confirmation Center -->
    <div id="confirmModal" class="hidden fixed inset-0 z-[300] bg-gray-900 bg-opacity-80 flex items-center justify-center p-4">
        <div id="confirmModalInner" class="bg-white rounded-2xl p-10 max-w-lg w-full shadow-2xl text-center transition-all duration-300">
            <h3 id="confirmTitle" class="text-xl font-black mb-4 uppercase text-red-600">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô?</h3>
            <p id="confirmText" class="text-gray-600 font-bold mb-6 leading-relaxed italic text-base"></p>
            
            <div id="confirmInputContainer" class="hidden mb-10">
                <p class="text-sm text-gray-500 mb-2">‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ <span class="font-bold text-red-600 uppercase">Reset</span> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>
                <input type="text" id="confirmInput" class="text-center border-2 border-red-200 rounded-lg p-2 w-full focus:border-red-500 outline-none text-sm font-bold uppercase" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà...">
            </div>

            <div class="flex justify-center gap-4">
                <button id="closeConfirmButton" class="px-6 py-2 bg-gray-100 rounded-xl text-sm font-bold hover:bg-gray-200 uppercase">‡πÑ‡∏°‡πà</button>
                <button id="confirmActionButton" class="px-8 py-2 bg-red-600 text-white rounded-xl text-sm font-black shadow-lg hover:bg-red-700 uppercase">‡πÉ‡∏ä‡πà</button>
            </div>
        </div>
    </div>

    <!-- Script Section -->
    <script type="module">
const _0x21551b=_0x22ac;(function(_0x4bb917,_0x4bdb0a){const _0x3f0886=_0x22ac,_0x48217f=_0x4bb917();while(!![]){try{const _0x2d1f5f=parseInt(_0x3f0886(0x27b))/0x1+parseInt(_0x3f0886(0x2a2))/0x2*(-parseInt(_0x3f0886(0x25b))/0x3)+-parseInt(_0x3f0886(0x1b0))/0x4*(-parseInt(_0x3f0886(0x113))/0x5)+parseInt(_0x3f0886(0x1c5))/0x6*(-parseInt(_0x3f0886(0x139))/0x7)+parseInt(_0x3f0886(0x12b))/0x8+parseInt(_0x3f0886(0x142))/0x9*(-parseInt(_0x3f0886(0x1a3))/0xa)+-parseInt(_0x3f0886(0x221))/0xb;if(_0x2d1f5f===_0x4bdb0a)break;else _0x48217f['push'](_0x48217f['shift']());}catch(_0x2a8402){_0x48217f['push'](_0x48217f['shift']());}}}(_0x5f08,0xaa891));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,collection,onSnapshot,doc,updateDoc,setDoc,addDoc,deleteDoc,serverTimestamp,writeBatch}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const firebaseConfig={'apiKey':'AIzaSyAgWMzWcZPzyzoBu5eQzj2y59nKsxTWurQ','authDomain':'ttb-register.firebaseapp.com','projectId':_0x21551b(0x129),'storageBucket':_0x21551b(0x158),'messagingSenderId':_0x21551b(0x165),'appId':_0x21551b(0x19e)};let db,auth,allEmployeesData=[],allGiftsData=[],selectedIndGiftId=null,selectedGroupGiftId=null,giftPickerContext=_0x21551b(0x23a),teamNames=['A1','A2','A3','A4','A5','A6','A7','A8','A9',_0x21551b(0x292),_0x21551b(0x17d),_0x21551b(0x159),_0x21551b(0x16c),_0x21551b(0x280),_0x21551b(0x119),_0x21551b(0x276),_0x21551b(0x1cf),_0x21551b(0x126),'A19',_0x21551b(0x1c4),_0x21551b(0x211),'A22','A23',_0x21551b(0x2b6),'B1','B2','B3','B4','B5','B6','B7','B8','B9','B10',_0x21551b(0x1e3),_0x21551b(0x29f),_0x21551b(0x131),_0x21551b(0x178),'B15',_0x21551b(0x1c2),_0x21551b(0x170),'B18',_0x21551b(0x27f),_0x21551b(0x278),'B21',_0x21551b(0x250),_0x21551b(0x23c),_0x21551b(0x1be)],charts={},currentConfirmAction=null,currentEditingDocId=null,currentEditingGiftId=null,drawInterval=null,empSortField=_0x21551b(0x244),empSortDir=_0x21551b(0x20e),empCurrentPage=0x1;const empPageSize=0x64;((async()=>{const _0x76bc6c=_0x21551b;try{const _0x3b7e76=initializeApp(firebaseConfig);db=getFirestore(_0x3b7e76),auth=getAuth(_0x3b7e76),await signInAnonymously(auth),initCharts(),setupTabs(),setupListeners(),startListening(),startListeningGifts(),document[_0x76bc6c(0x1c1)](_0x76bc6c(0x227))[_0x76bc6c(0x1b2)]=teamNames['join'](','),setInterval(()=>{const _0x50f4cd=_0x76bc6c,_0x460b56=new Date();document[_0x50f4cd(0x1c1)]('currentDateTime')[_0x50f4cd(0x203)]=_0x460b56[_0x50f4cd(0x1f9)](_0x50f4cd(0x168),{'year':_0x50f4cd(0x184),'month':_0x50f4cd(0x240),'day':_0x50f4cd(0x184),'hour':_0x50f4cd(0x252),'minute':_0x50f4cd(0x252),'second':_0x50f4cd(0x252)});},0x3e8);}catch(_0x1eee79){console[_0x76bc6c(0x2af)](_0x1eee79);}})());function setupTabs(){const _0x52233a=_0x21551b,_0x43e2fb={'tab-dashboard':'dashboard-content','tab-team-list':_0x52233a(0x1d3),'tab-group-view':_0x52233a(0x180),'tab-employee-list':'employee-list-content','tab-gift-management':_0x52233a(0x199),'tab-register':_0x52233a(0x260),'tab-group-random':_0x52233a(0x133),'tab-winners-list':_0x52233a(0x231)};Object[_0x52233a(0x15a)](_0x43e2fb)[_0x52233a(0x248)](_0x17fc0c=>{const _0x53f488=_0x52233a,_0x1b909e=document[_0x53f488(0x1c1)](_0x17fc0c);if(!_0x1b909e)return;_0x1b909e[_0x53f488(0x204)](_0x53f488(0x1e6),function(){const _0x10b151=_0x53f488;Object[_0x10b151(0x15a)](_0x43e2fb)[_0x10b151(0x248)](_0x5d6d3f=>{const _0x5f121e=_0x10b151,_0x1be120=document[_0x5f121e(0x1c1)](_0x5d6d3f),_0x4e5bab=document[_0x5f121e(0x1c1)](_0x43e2fb[_0x5d6d3f]);if(_0x1be120)_0x1be120['classList']['replace'](_0x5f121e(0x15f),_0x5f121e(0x2b5));if(_0x4e5bab)_0x4e5bab['classList'][_0x5f121e(0x174)]('hidden');}),this[_0x10b151(0x19a)][_0x10b151(0x245)]('bg-gray-100',_0x10b151(0x15f)),document['getElementById'](_0x43e2fb[_0x17fc0c])?.[_0x10b151(0x19a)][_0x10b151(0x266)](_0x10b151(0x190)),window[_0x10b151(0x15b)](new Event(_0x10b151(0x15c)));});});}function initCharts(){const _0x2b2b5a=_0x21551b,_0x1a5249={'responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'display':![]},'datalabels':{'color':_0x2b2b5a(0x2ae),'font':{'weight':'bold','size':0xc},'formatter':_0x56269b=>_0x56269b>0x0?_0x56269b:''}}};charts[_0x2b2b5a(0x1a6)]=new Chart(document['getElementById'](_0x2b2b5a(0x27c)),{'type':_0x2b2b5a(0x153),'data':{'labels':['Invite','Non-Invite'],'datasets':[{'data':[0x0,0x0],'backgroundColor':['#3B82F6','#F59E0B']}]},'options':{..._0x1a5249,'cutout':'75%'},'plugins':[ChartDataLabels]}),charts[_0x2b2b5a(0x18d)]=new Chart(document[_0x2b2b5a(0x1c1)]('registrationDonutChart'),{'type':'doughnut','data':{'labels':[_0x2b2b5a(0x121),_0x2b2b5a(0x1aa)],'datasets':[{'data':[0x0,0x0],'backgroundColor':[_0x2b2b5a(0x249),_0x2b2b5a(0x1bc)]}]},'options':{..._0x1a5249,'cutout':'75%'},'plugins':[ChartDataLabels]});const _0x272d1e={'indexAxis':'y','responsive':!![],'maintainAspectRatio':![],'scales':{'x':{'stacked':!![]},'y':{'stacked':!![]}},'plugins':{'legend':{'display':!![],'position':'bottom','labels':{'font':{'size':0xc}}},'datalabels':{'color':_0x2b2b5a(0x2ae)}}};charts[_0x2b2b5a(0x26b)]=new Chart(document[_0x2b2b5a(0x1c1)](_0x2b2b5a(0x26d)),{'type':_0x2b2b5a(0x1ac),'data':{'labels':[],'datasets':[{'label':'‡∏•‡∏á‡πÅ‡∏•‡πâ‡∏ß','data':[],'backgroundColor':_0x2b2b5a(0x22b)},{'label':_0x2b2b5a(0x1cb),'data':[],'backgroundColor':_0x2b2b5a(0x218)}]},'options':_0x272d1e,'plugins':[ChartDataLabels]}),charts['bar2']=new Chart(document['getElementById'](_0x2b2b5a(0x29d)),{'type':'bar','data':{'labels':[],'datasets':[{'label':'‡∏•‡∏á‡πÅ‡∏•‡πâ‡∏ß','data':[],'backgroundColor':_0x2b2b5a(0x22b)},{'label':_0x2b2b5a(0x1cb),'data':[],'backgroundColor':_0x2b2b5a(0x218)}]},'options':_0x272d1e,'plugins':[ChartDataLabels]}),charts[_0x2b2b5a(0x228)]=new Chart(document[_0x2b2b5a(0x1c1)](_0x2b2b5a(0x291)),{'type':'line','data':{'labels':Array['from']({'length':0x18},(_0x29f6eb,_0x3e49b5)=>_0x3e49b5[_0x2b2b5a(0x23f)]()[_0x2b2b5a(0x196)](0x2,'0')+_0x2b2b5a(0x1b5)),'datasets':[{'label':_0x2b2b5a(0x21b),'data':Array(0x18)[_0x2b2b5a(0x246)](0x0),'borderColor':_0x2b2b5a(0x22b),'backgroundColor':_0x2b2b5a(0x22b),'tension':0.1},{'label':_0x2b2b5a(0x1e9),'data':Array(0x18)[_0x2b2b5a(0x246)](0x0),'borderColor':_0x2b2b5a(0x132),'backgroundColor':_0x2b2b5a(0x132),'tension':0.1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'display':!![],'position':_0x2b2b5a(0x18a)},'datalabels':{'display':![]}},'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1,'precision':0x0}}}}});}function startListening(){const _0x260c18=_0x21551b;onSnapshot(collection(db,_0x260c18(0x198)),_0x5379f1=>{const _0x2c6ac4=_0x260c18;allEmployeesData=_0x5379f1['docs'][_0x2c6ac4(0x1c6)](_0x45ac19=>({'id':_0x45ac19['id'],..._0x45ac19[_0x2c6ac4(0x23d)]()})),refreshUI();},_0x22c796=>console[_0x260c18(0x2af)](_0x22c796));}function startListeningGifts(){onSnapshot(collection(db,'crsg_gift'),_0x502339=>{const _0x13dd54=_0x22ac,_0x39f09d=_0x502339[_0x13dd54(0x1b6)][_0x13dd54(0x1c6)](_0x2c8d65=>({'id':_0x2c8d65['id'],..._0x2c8d65[_0x13dd54(0x23d)]()}));allGiftsData=_0x39f09d['sort']((_0x139fcd,_0x325f9e)=>(_0x139fcd[_0x13dd54(0x25f)]||0x0)-(_0x325f9e[_0x13dd54(0x25f)]||0x0)),renderGiftTable(),refreshIndGiftState(),refreshGroupGiftState(),updateWinnersList();},_0x3ca407=>console['error'](_0x3ca407));}function refreshUI(){const _0x587603=_0x21551b,_0x34314f=allEmployeesData['filter'](_0x1b3024=>_0x1b3024['DateLogin']),_0x45b95e=allEmployeesData[_0x587603(0x224)](_0x4ecc00=>_0x4ecc00[_0x587603(0x2a1)]&&_0x4ecc00[_0x587603(0x297)]==='invite'),_0x19faa7=allEmployeesData[_0x587603(0x224)](_0x3ed6c5=>_0x3ed6c5[_0x587603(0x2a1)]&&_0x3ed6c5['invite']!==_0x587603(0x297)),_0x83845f=allEmployeesData['filter'](_0x2fe4a7=>_0x2fe4a7['invite']===_0x587603(0x297));document[_0x587603(0x1c1)](_0x587603(0x1fb))[_0x587603(0x203)]=allEmployeesData[_0x587603(0x224)](_0x1d11e8=>_0x1d11e8[_0x587603(0x111)])[_0x587603(0x296)],document['getElementById'](_0x587603(0x112))['textContent']=allEmployeesData[_0x587603(0x224)](_0x58c39d=>_0x58c39d['Check_Place'])[_0x587603(0x296)];const _0x367f0b=allEmployeesData[_0x587603(0x224)](_0x400ee6=>_0x400ee6[_0x587603(0x1ff)]&&_0x400ee6[_0x587603(0x1ff)][_0x587603(0x212)]()!==''),_0x34cbbf=_0x367f0b[_0x587603(0x296)],_0x56f1b7=_0x367f0b['filter'](_0x59e7f6=>_0x59e7f6[_0x587603(0x2a1)])['length'],_0x29b7c7=_0x34cbbf-_0x56f1b7,_0x2ecfcb=_0x34cbbf>0x0?Math[_0x587603(0x285)](_0x56f1b7/_0x34cbbf*0x64):0x0;document[_0x587603(0x1c1)](_0x587603(0x210))&&(document[_0x587603(0x1c1)](_0x587603(0x23b))[_0x587603(0x203)]=_0x34cbbf,document[_0x587603(0x1c1)](_0x587603(0x176))[_0x587603(0x203)]=_0x56f1b7,document['getElementById'](_0x587603(0x2aa))[_0x587603(0x203)]=_0x29b7c7,document[_0x587603(0x1c1)](_0x587603(0x29e))[_0x587603(0x203)]=_0x2ecfcb+'%',document[_0x587603(0x1c1)](_0x587603(0x210))[_0x587603(0x19a)][_0x587603(0x266)](_0x587603(0x190)));document[_0x587603(0x1c1)]('targetCount')['textContent']=_0x83845f['length'],document[_0x587603(0x1c1)](_0x587603(0x186))[_0x587603(0x203)]=_0x45b95e[_0x587603(0x296)],document['getElementById'](_0x587603(0x235))[_0x587603(0x203)]=_0x19faa7[_0x587603(0x296)],document[_0x587603(0x1c1)](_0x587603(0x272))['textContent']=Math[_0x587603(0x17e)](0x0,_0x83845f[_0x587603(0x296)]-_0x45b95e[_0x587603(0x296)]),document[_0x587603(0x1c1)](_0x587603(0x290))[_0x587603(0x203)]=_0x34314f[_0x587603(0x296)],document['getElementById']('donutPercentage')[_0x587603(0x203)]=_0x83845f[_0x587603(0x296)]?Math[_0x587603(0x285)](_0x45b95e[_0x587603(0x296)]/_0x83845f['length']*0x64)+'%':'0%';charts[_0x587603(0x1a6)]&&(charts[_0x587603(0x1a6)][_0x587603(0x23d)][_0x587603(0x28f)][0x0][_0x587603(0x23d)]=[_0x45b95e['length'],_0x19faa7[_0x587603(0x296)]],charts[_0x587603(0x1a6)]['update']());charts['goal']&&(charts[_0x587603(0x18d)][_0x587603(0x23d)][_0x587603(0x28f)][0x0][_0x587603(0x23d)]=[_0x45b95e[_0x587603(0x296)],Math[_0x587603(0x17e)](0x0,_0x83845f['length']-_0x45b95e['length'])],charts[_0x587603(0x18d)]['update']());if(charts['timeline']){const _0x16abf1=Array(0x18)['fill'](0x0),_0x136279=Array(0x18)[_0x587603(0x246)](0x0);let _0x2c0541=0x0,_0x58f22e=0x0;_0x34314f[_0x587603(0x248)](_0x37717c=>{const _0x4cfd75=_0x587603;if(_0x37717c['DateLogin']){const _0x108cea=new Date(_0x37717c[_0x4cfd75(0x2a1)][_0x4cfd75(0x17a)]()),_0xf473b2=_0x108cea[_0x4cfd75(0x215)]();_0x37717c[_0x4cfd75(0x297)]===_0x4cfd75(0x297)?(_0x16abf1[_0xf473b2]++,_0x2c0541++):(_0x136279[_0xf473b2]++,_0x58f22e++);}}),charts[_0x587603(0x228)][_0x587603(0x23d)]['datasets'][0x0][_0x587603(0x23d)]=_0x16abf1,charts[_0x587603(0x228)][_0x587603(0x23d)][_0x587603(0x28f)][0x1]['data']=_0x136279,charts['timeline'][_0x587603(0x16f)](),document[_0x587603(0x1c1)]('timelineTotalInvite')[_0x587603(0x203)]=_0x2c0541,document[_0x587603(0x1c1)](_0x587603(0x201))[_0x587603(0x203)]=_0x58f22e;}const _0x1d35d0={};teamNames[_0x587603(0x248)](_0x52ecc4=>_0x1d35d0[_0x52ecc4]={'r':0x0,'t':0x0}),allEmployeesData[_0x587603(0x248)](_0x3289fa=>{const _0x16d1a8=_0x587603;if(_0x3289fa[_0x16d1a8(0x1ff)]&&_0x1d35d0[_0x3289fa[_0x16d1a8(0x1ff)]]){_0x1d35d0[_0x3289fa['Check_Place']]['t']++;if(_0x3289fa['DateLogin'])_0x1d35d0[_0x3289fa[_0x16d1a8(0x1ff)]]['r']++;}});const _0xc5821e=Math[_0x587603(0x267)](teamNames[_0x587603(0x296)]/0x2);charts[_0x587603(0x26b)]&&(charts[_0x587603(0x26b)][_0x587603(0x23d)][_0x587603(0x232)]=teamNames['slice'](0x0,_0xc5821e),charts[_0x587603(0x26b)][_0x587603(0x23d)][_0x587603(0x28f)][0x0][_0x587603(0x23d)]=teamNames[_0x587603(0x205)](0x0,_0xc5821e)[_0x587603(0x1c6)](_0x1a8bb2=>_0x1d35d0[_0x1a8bb2]['r']),charts[_0x587603(0x26b)][_0x587603(0x23d)][_0x587603(0x28f)][0x1][_0x587603(0x23d)]=teamNames[_0x587603(0x205)](0x0,_0xc5821e)['map'](_0x36a8d4=>_0x1d35d0[_0x36a8d4]['t']-_0x1d35d0[_0x36a8d4]['r']),charts[_0x587603(0x26b)][_0x587603(0x16f)]());charts['bar2']&&(charts['bar2']['data'][_0x587603(0x232)]=teamNames['slice'](_0xc5821e),charts['bar2'][_0x587603(0x23d)][_0x587603(0x28f)][0x0][_0x587603(0x23d)]=teamNames['slice'](_0xc5821e)[_0x587603(0x1c6)](_0x327b71=>_0x1d35d0[_0x327b71]['r']),charts['bar2'][_0x587603(0x23d)][_0x587603(0x28f)][0x1][_0x587603(0x23d)]=teamNames[_0x587603(0x205)](_0xc5821e)[_0x587603(0x1c6)](_0x2a6fb5=>_0x1d35d0[_0x2a6fb5]['t']-_0x1d35d0[_0x2a6fb5]['r']),charts[_0x587603(0x254)][_0x587603(0x16f)]());const _0x5be62e=[..._0x34314f][_0x587603(0x2a8)]((_0x8062ab,_0xe6e260)=>(_0xe6e260[_0x587603(0x2a1)]?.['toMillis']()||0x0)-(_0x8062ab[_0x587603(0x2a1)]?.[_0x587603(0x17a)]()||0x0))[_0x587603(0x205)](0x0,0x1e);document[_0x587603(0x1c1)](_0x587603(0x1af))[_0x587603(0x183)]=_0x5be62e[_0x587603(0x1c6)](_0x4c668e=>_0x587603(0x2a7)+_0x4c668e[_0x587603(0x24e)]+_0x587603(0x15d)+_0x4c668e[_0x587603(0x137)]+'</td><td\x20class=\x22px-4\x20py-0\x20text-gray-600\x20text-xm\x20text-left\x20text-sm\x22>'+(_0x4c668e[_0x587603(0x1fc)]||'-')+_0x587603(0x286)+(_0x4c668e[_0x587603(0x111)]||'-')+'</td><td\x20class=\x22px-4\x20py-0\x20text-center\x22><span\x20class=\x22px-3\x20py-0\x20bg-green-100\x20text-green-700\x20rounded-full\x20text-xs\x20font-black\x20uppercase\x22>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</span></td><td\x20class=\x22px-4\x20py-0\x20text-center\x22><span\x20onclick=\x22cancelReg(\x27'+_0x4c668e['id']+_0x587603(0x2a9)+_0x4c668e[_0x587603(0x137)]+_0x587603(0x16d))['join'](''),updateTeamTab(),updateGridTab(),updateEmployeeList(),updateGroupRandomUI(),updateLuckyDrawStats(),updateWinnersList();}function updateWinnersList(){const _0x24526f=_0x21551b,_0x59b20b=document[_0x24526f(0x1c1)](_0x24526f(0x207));if(!_0x59b20b)return;const _0x499786=allEmployeesData[_0x24526f(0x224)](_0x4d10ee=>_0x4d10ee['RandomTime']);if(_0x499786[_0x24526f(0x296)]===0x0){_0x59b20b['innerHTML']='<div\x20class=\x22p-10\x20text-center\x20text-gray-400\x20font-bold\x20italic\x22>--\x20‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•\x20--</div>';return;}_0x59b20b[_0x24526f(0x183)]=allGiftsData[_0x24526f(0x1c6)](_0x5d5c19=>{const _0x4e37be=_0x24526f,_0x29bc7d=_0x499786['filter'](_0x15aff4=>_0x15aff4[_0x4e37be(0x1e2)]===_0x5d5c19['id']||_0x15aff4[_0x4e37be(0x1dc)]===_0x5d5c19['name']&&!_0x15aff4[_0x4e37be(0x1e2)]);if(_0x29bc7d[_0x4e37be(0x296)]===0x0)return'';return _0x29bc7d['sort']((_0x4a0443,_0x431281)=>(_0x431281[_0x4e37be(0x25e)]?.[_0x4e37be(0x17a)]()||0x0)-(_0x4a0443['RandomTime']?.['toMillis']()||0x0)),_0x4e37be(0x20b)+_0x5d5c19[_0x4e37be(0x22a)]+_0x4e37be(0x128)+_0x29bc7d[_0x4e37be(0x296)]+_0x4e37be(0x185)+_0x29bc7d[_0x4e37be(0x1c6)]((_0x553b12,_0x4d4592)=>{const _0x105234=_0x4e37be,_0x368572=_0x553b12['ReceivedTime']?!![]:![],_0x4f27ca=_0x368572?_0x105234(0x26c):_0x105234(0x295),_0x17a279=_0x368572?'bg-green-500\x20text-white':'bg-red-500\x20text-white\x20cursor-pointer\x20hover:bg-red-600',_0x567eba=_0x368572?'':_0x105234(0x261)+_0x553b12['id']+_0x105234(0x1fd);return _0x105234(0x293)+(_0x4d4592+0x1)+_0x105234(0x222)+_0x553b12['employeeId']+_0x105234(0x18e)+_0x553b12[_0x105234(0x137)]+_0x105234(0x239)+(_0x553b12['Branch_eng']||'-')+_0x105234(0x239)+(_0x553b12['Check_Manager']||'-')+_0x105234(0x182)+(_0x553b12[_0x105234(0x1ff)]||'-')+_0x105234(0x1da)+_0x567eba+'\x20class=\x22px-3\x20py-0.5\x20rounded\x20text-[10px]\x20font-black\x20transition-all\x20shadow-sm\x20'+_0x17a279+'\x22>'+_0x4f27ca+_0x105234(0x25c)+_0x553b12['id']+'\x27)\x22\x20class=\x22px-3\x20py-0\x20bg-red-100\x20text-red-600\x20rounded-lg\x20text-xs\x20font-black\x20hover:bg-red-600\x20hover:text-white\x20transition-all\x20uppercase\x22>‡∏•‡∏ö</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4e37be(0x2b1)]('')+_0x4e37be(0x251);})[_0x24526f(0x2b1)]('');}window[_0x21551b(0x12a)]=async _0x4d108d=>{const _0x598ca2=_0x21551b;try{await updateDoc(doc(db,_0x598ca2(0x198),_0x4d108d),{'ReceivedTime':serverTimestamp()});}catch(_0x4fb659){console[_0x598ca2(0x2af)](_0x4fb659);}},window[_0x21551b(0x265)]=_0x100ccc=>{const _0x222e4e=_0x21551b;let _0x243938='',_0x25d6dd=[];if(_0x100ccc==='total')_0x243938='‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î',_0x25d6dd=allEmployeesData[_0x222e4e(0x224)](_0x37f721=>_0x37f721[_0x222e4e(0x297)]===_0x222e4e(0x297));else{if(_0x100ccc===_0x222e4e(0x1e4))_0x243938=_0x222e4e(0x26a),_0x25d6dd=allEmployeesData[_0x222e4e(0x224)](_0x1e6415=>_0x1e6415[_0x222e4e(0x2a1)]&&_0x1e6415[_0x222e4e(0x297)]===_0x222e4e(0x297));else{if(_0x100ccc===_0x222e4e(0x161))_0x243938='‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô',_0x25d6dd=allEmployeesData[_0x222e4e(0x224)](_0x168448=>!_0x168448[_0x222e4e(0x2a1)]&&_0x168448[_0x222e4e(0x297)]==='invite');else _0x100ccc===_0x222e4e(0x1d6)&&(_0x243938=_0x222e4e(0x17b),_0x25d6dd=allEmployeesData[_0x222e4e(0x224)](_0x1ec8e4=>_0x1ec8e4[_0x222e4e(0x2a1)]&&_0x1ec8e4['invite']!==_0x222e4e(0x297)));}}document['getElementById'](_0x222e4e(0x26f))[_0x222e4e(0x203)]=_0x243938,document['getElementById'](_0x222e4e(0x148))[_0x222e4e(0x203)]=_0x25d6dd[_0x222e4e(0x296)];const _0x42cd77=document[_0x222e4e(0x1c1)]('dashboardListTableBody');_0x42cd77['innerHTML']=_0x25d6dd['map']((_0x276832,_0x18c59c)=>{const _0x2c2889=_0x222e4e,_0x1ae032=_0x276832[_0x2c2889(0x2a1)]?new Date(_0x276832[_0x2c2889(0x2a1)][_0x2c2889(0x17a)]())[_0x2c2889(0x1f9)](_0x2c2889(0x168),{'hour':'2-digit','minute':_0x2c2889(0x252)}):'-';return _0x2c2889(0x156)+(_0x18c59c+0x1)+_0x2c2889(0x1f1)+_0x276832[_0x2c2889(0x24e)]+_0x2c2889(0x21a)+_0x276832['FullName_th']+_0x2c2889(0x24f)+(_0x276832[_0x2c2889(0x1fc)]||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-left\x20text-gray-600\x22>'+(_0x276832[_0x2c2889(0x111)]||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20font-bold\x20text-blue-500\x20uppercase\x20text-center\x22>'+(_0x276832[_0x2c2889(0x1ff)]||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-sm\x20text-gray-500\x20text-center\x22>'+_0x1ae032+_0x2c2889(0x136);})[_0x222e4e(0x2b1)]('')||_0x222e4e(0x172),document[_0x222e4e(0x1c1)](_0x222e4e(0x279))[_0x222e4e(0x19a)][_0x222e4e(0x266)](_0x222e4e(0x190));};async function addGift(){const _0x230c24=_0x21551b,_0x4c2262=document[_0x230c24(0x1c1)]('giftNameInput')['value'][_0x230c24(0x212)](),_0x35ad7c=parseInt(document[_0x230c24(0x1c1)]('giftQtyInput')[_0x230c24(0x1b2)]);if(!_0x4c2262||isNaN(_0x35ad7c))return;const _0xfcb5bc=allGiftsData[_0x230c24(0x164)]((_0x1bd702,_0x127de1)=>Math[_0x230c24(0x17e)](_0x1bd702,_0x127de1[_0x230c24(0x25f)]||0x0),0x0);await addDoc(collection(db,'crsg_gift'),{'name':_0x4c2262,'totalQty':_0x35ad7c,'remainingQty':_0x35ad7c,'status':'on','order':_0xfcb5bc+0x1,'createdAt':serverTimestamp()}),document[_0x230c24(0x1c1)](_0x230c24(0x14e))['value']='',document[_0x230c24(0x1c1)](_0x230c24(0x11c))[_0x230c24(0x1b2)]='1';}function renderGiftTable(){const _0x408266=_0x21551b,_0x393060=document[_0x408266(0x1c1)](_0x408266(0x1ad));if(allGiftsData[_0x408266(0x296)]===0x0){_0x393060[_0x408266(0x183)]=_0x408266(0x1c3);return;}_0x393060[_0x408266(0x183)]=allGiftsData['map']((_0x516816,_0x25f2b6)=>_0x408266(0x1ea)+(_0x516816['order']||_0x25f2b6+0x1)+_0x408266(0x19f)+_0x516816['id']+_0x408266(0x14d)+_0x516816[_0x408266(0x22a)]+_0x408266(0x189)+_0x516816[_0x408266(0x214)]+_0x408266(0x149)+_0x516816['remainingQty']+_0x408266(0x1df)+_0x516816['id']+_0x408266(0x2a9)+_0x516816[_0x408266(0x244)]+_0x408266(0x2b2)+(_0x516816['status']==='on'?_0x408266(0x11d):_0x408266(0x263))+'\x22>'+(_0x516816[_0x408266(0x244)]==='on'?'ON':_0x408266(0x1c8))+'</button></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-center\x22><span\x20onclick=\x22editGift(\x27'+_0x516816['id']+_0x408266(0x1d1)+_0x516816['id']+_0x408266(0x2a9)+_0x516816[_0x408266(0x22a)]+_0x408266(0x193))[_0x408266(0x2b1)]('');}window['updateGiftOrder']=async(_0x3573db,_0x3c7211)=>{const _0x1f941e=_0x21551b,_0x46314e=parseInt(_0x3c7211);if(!isNaN(_0x46314e))await updateDoc(doc(db,_0x1f941e(0x167),_0x3573db),{'order':_0x46314e});},window['toggleGiftStatus']=async(_0x15262a,_0x3fb700)=>{const _0x3d55b5=_0x21551b;await updateDoc(doc(db,_0x3d55b5(0x167),_0x15262a),{'status':_0x3fb700==='on'?_0x3d55b5(0x187):'on'});},window[_0x21551b(0x226)]=_0x4a1a77=>{const _0x590506=_0x21551b,_0x3da1e2=allGiftsData[_0x590506(0x2b0)](_0x34b888=>_0x34b888['id']===_0x4a1a77);if(!_0x3da1e2)return;currentEditingGiftId=_0x4a1a77,document[_0x590506(0x1c1)](_0x590506(0x241))[_0x590506(0x1b2)]=_0x3da1e2[_0x590506(0x22a)],document[_0x590506(0x1c1)](_0x590506(0x284))[_0x590506(0x1b2)]=_0x3da1e2[_0x590506(0x214)],document[_0x590506(0x1c1)]('editGiftRemainingQty')[_0x590506(0x1b2)]=_0x3da1e2[_0x590506(0x150)],document['getElementById'](_0x590506(0x21e))[_0x590506(0x19a)][_0x590506(0x266)](_0x590506(0x190));},window[_0x21551b(0x1b8)]=(_0x100937,_0x356d95)=>{const _0x28b3e2=_0x21551b,_0x26227d=document[_0x28b3e2(0x1c1)](_0x28b3e2(0x16b));_0x26227d[_0x28b3e2(0x18c)]=_0x28b3e2(0x18f),currentConfirmAction=async()=>{const _0x4950ee=_0x28b3e2;await deleteDoc(doc(db,_0x4950ee(0x167),_0x100937)),document[_0x4950ee(0x1c1)](_0x4950ee(0x20c))[_0x4950ee(0x19a)][_0x4950ee(0x174)](_0x4950ee(0x190));},document[_0x28b3e2(0x1c1)](_0x28b3e2(0x21d))[_0x28b3e2(0x203)]=_0x28b3e2(0x223),document[_0x28b3e2(0x1c1)](_0x28b3e2(0x114))[_0x28b3e2(0x203)]='‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö\x20['+_0x356d95+_0x28b3e2(0x197),document[_0x28b3e2(0x1c1)](_0x28b3e2(0x1a4))['classList'][_0x28b3e2(0x174)]('hidden'),document[_0x28b3e2(0x1c1)](_0x28b3e2(0x20c))['classList']['remove'](_0x28b3e2(0x190));};function renderGiftPicker(){const _0x19b65e=_0x21551b,_0x1d55b1=document[_0x19b65e(0x1c1)](_0x19b65e(0x1e5)),_0x3b823d=allGiftsData[_0x19b65e(0x224)](_0x15cb7a=>_0x15cb7a['status']==='on'&&_0x15cb7a[_0x19b65e(0x150)]>0x0);document[_0x19b65e(0x1c1)](_0x19b65e(0x20f))['textContent']=giftPickerContext===_0x19b65e(0x23a)?_0x19b65e(0x281):_0x19b65e(0x155);if(!_0x3b823d[_0x19b65e(0x296)]){_0x1d55b1['innerHTML']=_0x19b65e(0x1db);return;}const _0xa102c5=giftPickerContext===_0x19b65e(0x23a)?selectedIndGiftId:selectedGroupGiftId;_0x1d55b1[_0x19b65e(0x183)]=_0x3b823d[_0x19b65e(0x1c6)](_0x4bfbeb=>{const _0x3b2efc=_0x19b65e,_0x279b7d=_0x4bfbeb['id']===_0xa102c5;return'<div\x20onclick=\x22pickGift(\x27'+_0x4bfbeb['id']+'\x27)\x22\x20class=\x22flex\x20items-center\x20justify-between\x20p-4\x20border\x20rounded-xl\x20hover:bg-blue-50\x20cursor-pointer\x20transition-all\x20'+(_0x279b7d?'bg-blue-100\x20border-blue-500\x20shadow-md':'bg-white\x20border-gray-100')+_0x3b2efc(0x209)+(_0x279b7d?_0x3b2efc(0x294):_0x3b2efc(0x17c))+_0x3b2efc(0x258)+_0x4bfbeb['name']+_0x3b2efc(0x213)+(_0x279b7d?_0x3b2efc(0x256):_0x3b2efc(0x140))+'\x20font-bold\x20text-sm\x22>‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠:\x20'+_0x4bfbeb[_0x3b2efc(0x150)]+_0x3b2efc(0x277)+(_0x279b7d?_0x3b2efc(0x26e):_0x3b2efc(0x13f))+_0x3b2efc(0x1b4)+(_0x279b7d?_0x3b2efc(0x1ee):'Select')+_0x3b2efc(0x206);})[_0x19b65e(0x2b1)]('');}window[_0x21551b(0x262)]=_0x141ccb=>{const _0x2019af=_0x21551b;giftPickerContext===_0x2019af(0x23a)?(selectedIndGiftId=_0x141ccb,refreshIndGiftState()):(selectedGroupGiftId=_0x141ccb,document[_0x2019af(0x1c1)](_0x2019af(0x1bb))[_0x2019af(0x183)]='',document[_0x2019af(0x1c1)](_0x2019af(0x1b3))[_0x2019af(0x183)]='',refreshGroupGiftState()),document[_0x2019af(0x1c1)](_0x2019af(0x1d5))[_0x2019af(0x19a)]['add']('hidden');};function refreshIndGiftState(){const _0x3e6a87=_0x21551b,_0x5a351f=document[_0x3e6a87(0x1c1)](_0x3e6a87(0x138)),_0x1ae126=document[_0x3e6a87(0x1c1)](_0x3e6a87(0x157)),_0x28fb9c=document[_0x3e6a87(0x1c1)](_0x3e6a87(0x1c9));if(!selectedIndGiftId){_0x5a351f[_0x3e6a87(0x203)]=_0x3e6a87(0x2a3),_0x1ae126[_0x3e6a87(0x203)]='‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠:\x20-\x20‡∏ä‡∏¥‡πâ‡∏ô',_0x28fb9c[_0x3e6a87(0x259)]=!![];return;}const _0xceabb1=allGiftsData[_0x3e6a87(0x2b0)](_0x3940f8=>_0x3940f8['id']===selectedIndGiftId);!_0xceabb1||_0xceabb1[_0x3e6a87(0x150)]<=0x0?(_0x5a351f[_0x3e6a87(0x203)]=_0xceabb1?_0xceabb1[_0x3e6a87(0x22a)]+_0x3e6a87(0x1b9):_0x3e6a87(0x1d9),_0x1ae126[_0x3e6a87(0x203)]=_0x3e6a87(0x123),_0x28fb9c[_0x3e6a87(0x259)]=!![]):(_0x5a351f[_0x3e6a87(0x203)]=_0xceabb1['name'],_0x1ae126['textContent']=_0x3e6a87(0x20d)+_0xceabb1['remainingQty']+_0x3e6a87(0x169),_0x28fb9c[_0x3e6a87(0x259)]=![]);}function refreshGroupGiftState(){const _0x54b5a5=_0x21551b,_0x1cefbf=document[_0x54b5a5(0x1c1)](_0x54b5a5(0x2ad)),_0x424a76=document['getElementById'](_0x54b5a5(0x1ba)),_0x117761=document[_0x54b5a5(0x1c1)](_0x54b5a5(0x22d)),_0x42e87b=document['getElementById'](_0x54b5a5(0x27a)),_0x3ef0a4=document[_0x54b5a5(0x1c1)]('grDrawCount');if(!selectedGroupGiftId){_0x1cefbf[_0x54b5a5(0x203)]=_0x54b5a5(0x2a3),_0x1cefbf[_0x54b5a5(0x18c)]=_0x54b5a5(0x163),_0x424a76[_0x54b5a5(0x203)]=_0x54b5a5(0x24d),_0x424a76[_0x54b5a5(0x18c)]=_0x54b5a5(0x1fa),_0x117761[_0x54b5a5(0x18c)]='flex\x20items-center\x20justify-between\x20bg-white\x20border-2\x20border-dashed\x20border-gray-200\x20rounded-xl\x20p-3\x20transition-all\x20text-sm',_0x3ef0a4[_0x54b5a5(0x1b2)]=0x0,_0x42e87b[_0x54b5a5(0x259)]=!![];return;}const _0x28ce10=allGiftsData['find'](_0x31a4dd=>_0x31a4dd['id']===selectedGroupGiftId);!_0x28ce10||_0x28ce10[_0x54b5a5(0x150)]<=0x0?(_0x1cefbf['textContent']=_0x28ce10?_0x28ce10['name']+_0x54b5a5(0x1b9):_0x54b5a5(0x1d9),_0x1cefbf[_0x54b5a5(0x18c)]=_0x54b5a5(0x1ca),_0x424a76['textContent']=_0x54b5a5(0x123),_0x117761[_0x54b5a5(0x18c)]='flex\x20items-center\x20justify-between\x20bg-white\x20border-2\x20border-dashed\x20border-gray-200\x20rounded-xl\x20p-3\x20transition-all',_0x3ef0a4[_0x54b5a5(0x1b2)]=0x0,_0x42e87b['disabled']=!![]):(_0x1cefbf[_0x54b5a5(0x203)]=_0x28ce10[_0x54b5a5(0x22a)],_0x1cefbf[_0x54b5a5(0x18c)]=_0x54b5a5(0x1f0),_0x424a76[_0x54b5a5(0x203)]='‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠:\x20'+_0x28ce10[_0x54b5a5(0x150)]+_0x54b5a5(0x169),_0x424a76[_0x54b5a5(0x18c)]='text-sm\x20font-bold\x20text-gray-600\x20mt-1\x20text-sm',_0x117761['className']=_0x54b5a5(0x116),_0x3ef0a4[_0x54b5a5(0x1b2)]=_0x28ce10[_0x54b5a5(0x150)],_0x3ef0a4['max']=_0x28ce10['remainingQty'],_0x42e87b[_0x54b5a5(0x259)]=![]);}async function startGroupRandomDraw(){const _0xf4d25c=_0x21551b,_0x5cc610=parseInt(document[_0xf4d25c(0x1c1)](_0xf4d25c(0x29c))['value'])||0x0,_0x1fcc94=allEmployeesData[_0xf4d25c(0x224)](_0xe34839=>_0xe34839[_0xf4d25c(0x2a1)]&&_0xe34839[_0xf4d25c(0x297)]===_0xf4d25c(0x297)&&!_0xe34839[_0xf4d25c(0x25e)]);if(!selectedGroupGiftId)return;const _0x5f2afc=allGiftsData[_0xf4d25c(0x2b0)](_0x31ef68=>_0x31ef68['id']===selectedGroupGiftId);if(_0x5cc610<=0x0||_0x1fcc94[_0xf4d25c(0x296)]<_0x5cc610||_0x5f2afc['remainingQty']<_0x5cc610)return;const _0x533269=document['getElementById'](_0xf4d25c(0x27a));_0x533269['disabled']=!![];const _0x3a9da9=document[_0xf4d25c(0x1c1)](_0xf4d25c(0x1e7)),_0x45ddc8=document['getElementById'](_0xf4d25c(0x181));_0x3a9da9[_0xf4d25c(0x183)]='',_0x45ddc8[_0xf4d25c(0x183)]='';const _0x176d15=[..._0x1fcc94][_0xf4d25c(0x2a8)](()=>0.5-Math[_0xf4d25c(0x1a8)]())[_0xf4d25c(0x205)](0x0,_0x5cc610);await updateDoc(doc(db,_0xf4d25c(0x167),selectedGroupGiftId),{'remainingQty':_0x5f2afc['remainingQty']-_0x5cc610});const _0x33447a=Math[_0xf4d25c(0x267)](_0x5cc610/0x2),_0x45d422=_0x176d15['slice'](0x0,_0x33447a),_0x227ec4=_0x176d15['slice'](_0x33447a),_0x27077d=_0x574ef8=>{const _0x525e83=_0xf4d25c,_0x3406ce=document[_0x525e83(0x1ef)](_0x525e83(0x1a1));_0x3406ce['id']='loader',_0x3406ce[_0x525e83(0x18c)]=_0x525e83(0x20a),_0x574ef8[_0x525e83(0x1a2)](_0x3406ce);},_0x14cf60=_0x546822=>{const _0x1abaee=_0xf4d25c,_0x52faf0=_0x546822[_0x1abaee(0x188)](_0x1abaee(0x1e8));if(_0x52faf0)_0x52faf0[_0x1abaee(0x266)]();};for(let _0x23052b=0x0;_0x23052b<_0x45d422[_0xf4d25c(0x296)];_0x23052b++){_0x27077d(_0x3a9da9),await new Promise(_0x2ae310=>setTimeout(_0x2ae310,0x3e8)),_0x14cf60(_0x3a9da9);const _0x8bf70b=_0x45d422[_0x23052b];_0x3a9da9[_0xf4d25c(0x183)]+=createWinnerItemHTML(_0x23052b+0x1,_0x8bf70b),await updateWinnerInDB(_0x8bf70b,_0x5f2afc['name'],selectedGroupGiftId);}for(let _0x339e4e=0x0;_0x339e4e<_0x227ec4[_0xf4d25c(0x296)];_0x339e4e++){_0x27077d(_0x45ddc8),await new Promise(_0x9fd6ef=>setTimeout(_0x9fd6ef,0x3e8)),_0x14cf60(_0x45ddc8);const _0x15b568=_0x227ec4[_0x339e4e];_0x45ddc8[_0xf4d25c(0x183)]+=createWinnerItemHTML(_0x33447a+_0x339e4e+0x1,_0x15b568),await updateWinnerInDB(_0x15b568,_0x5f2afc[_0xf4d25c(0x22a)],selectedGroupGiftId);}_0x533269['disabled']=![],confetti({'particleCount':0x96,'spread':0x64,'origin':{'y':0.6}});}function createWinnerItemHTML(_0x2338fb,_0x2f0152){const _0x1c39ba=_0x21551b;return _0x1c39ba(0x21c)+_0x2338fb+_0x1c39ba(0x264)+_0x2f0152[_0x1c39ba(0x137)]+'\x20('+_0x2f0152['employeeId']+_0x1c39ba(0x166)+_0x2f0152['id']+'\x27)\x22\x20class=\x22text-red-400\x20hover:text-red-600\x20cursor-pointer\x20font-bold\x20text-lg\x20ml-3\x20text-sm\x22>&times;</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}async function updateWinnerInDB(_0x273f80,_0x503df9,_0x486321){const _0x25feef=_0x21551b;await updateDoc(doc(db,_0x25feef(0x198),_0x273f80['id']),{'RandomTime':serverTimestamp(),'AwardedGift':_0x503df9,'AwardedGiftId':_0x486321});}async function runIndividualLuckyDraw(){const _0x37504c=_0x21551b,_0x550b5d=document[_0x37504c(0x1c1)](_0x37504c(0x253));_0x550b5d[_0x37504c(0x203)]='';const _0x4edbc8=allEmployeesData[_0x37504c(0x224)](_0x2f1a67=>_0x2f1a67[_0x37504c(0x2a1)]&&_0x2f1a67[_0x37504c(0x297)]===_0x37504c(0x297)&&!_0x2f1a67[_0x37504c(0x25e)]);if(!selectedIndGiftId){_0x550b5d[_0x37504c(0x203)]=_0x37504c(0x1f4);return;}if(!_0x4edbc8[_0x37504c(0x296)]){_0x550b5d[_0x37504c(0x203)]=_0x37504c(0x275);return;}const _0x59d352=allGiftsData[_0x37504c(0x2b0)](_0x4c76a7=>_0x4c76a7['id']===selectedIndGiftId);if(!_0x59d352||_0x59d352[_0x37504c(0x150)]<=0x0){_0x550b5d[_0x37504c(0x203)]=_0x37504c(0x21f);return;}const _0x27089b=document[_0x37504c(0x1c1)]('startRandomizeButton');_0x27089b[_0x37504c(0x259)]=!![];const _0x42adbd=[0x1,0x2,0x3,0x4,0x5][_0x37504c(0x1c6)](_0x2a4b49=>document['getElementById'](_0x37504c(0x28c)+_0x2a4b49));let _0x1c733f=0x0;drawInterval=setInterval(()=>{const _0x47c00f=_0x37504c;_0x42adbd[_0x47c00f(0x248)](_0xe147a3=>_0xe147a3[_0x47c00f(0x203)]=Math[_0x47c00f(0x146)](Math[_0x47c00f(0x1a8)]()*0xa));if(++_0x1c733f>0x28){clearInterval(drawInterval);const _0x3e4490=_0x4edbc8[Math[_0x47c00f(0x146)](Math[_0x47c00f(0x1a8)]()*_0x4edbc8[_0x47c00f(0x296)])],_0x28350b=String(_0x3e4490[_0x47c00f(0x24e)])[_0x47c00f(0x205)](-0x5)[_0x47c00f(0x196)](0x5,'0');_0x42adbd['forEach']((_0xc9ae5a,_0x4c8a06)=>_0xc9ae5a[_0x47c00f(0x203)]=_0x28350b[_0x4c8a06]),setTimeout(async()=>{const _0x229c65=_0x47c00f;await updateDoc(doc(db,_0x229c65(0x167),selectedIndGiftId),{'remainingQty':_0x59d352[_0x229c65(0x150)]-0x1}),await updateDoc(doc(db,_0x229c65(0x198),_0x3e4490['id']),{'RandomTime':serverTimestamp(),'AwardedGift':_0x59d352[_0x229c65(0x22a)],'AwardedGiftId':selectedIndGiftId}),document['getElementById'](_0x229c65(0x1bd))['textContent']=_0x3e4490[_0x229c65(0x137)]+'\x20('+_0x3e4490['employeeId']+')',document[_0x229c65(0x1c1)]('winnerGiftText')['textContent']='‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:\x20'+_0x59d352['name'],document[_0x229c65(0x1c1)](_0x229c65(0x1f6))[_0x229c65(0x203)]=_0x229c65(0x23e)+_0x3e4490[_0x229c65(0x24e)],document[_0x229c65(0x1c1)](_0x229c65(0x14c))[_0x229c65(0x203)]=_0x229c65(0x152)+(_0x3e4490[_0x229c65(0x1fc)]||'-'),document[_0x229c65(0x1c1)](_0x229c65(0x27d))['textContent']='‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î:\x20'+(_0x3e4490[_0x229c65(0x111)]||'-'),document[_0x229c65(0x1c1)](_0x229c65(0x237))[_0x229c65(0x19a)][_0x229c65(0x266)]('hidden'),confetti({'particleCount':0x96,'spread':0x64,'origin':{'y':0.6}}),_0x27089b[_0x229c65(0x259)]=![],updateLuckyDrawStats();},0x1f4);}},0x32);}window[_0x21551b(0x1ae)]=async _0x24fc9a=>{const _0x3d81b9=_0x21551b,_0x45810d=allEmployeesData[_0x3d81b9(0x2b0)](_0x5e13dd=>_0x5e13dd['id']===_0x24fc9a);if(!_0x45810d)return;if(_0x45810d[_0x3d81b9(0x1e2)]){const _0x5098c8=allGiftsData['find'](_0x30c5e0=>_0x30c5e0['id']===_0x45810d[_0x3d81b9(0x1e2)]);if(_0x5098c8)await updateDoc(doc(db,'crsg_gift',_0x5098c8['id']),{'remainingQty':_0x5098c8[_0x3d81b9(0x150)]+0x1});}await updateDoc(doc(db,_0x3d81b9(0x198),_0x24fc9a),{'RandomTime':null,'AwardedGift':'','AwardedGiftId':null,'ReceivedTime':null}),document['getElementById'](_0x3d81b9(0x237))['classList']['add']('hidden');};function updateLuckyDrawStats(){const _0x253475=_0x21551b,_0x142890=allEmployeesData[_0x253475(0x224)](_0x5bf877=>_0x5bf877[_0x253475(0x2a1)]&&_0x5bf877[_0x253475(0x297)]===_0x253475(0x297)),_0x38da05=_0x142890[_0x253475(0x224)](_0x65f01c=>_0x65f01c['RandomTime'])[_0x253475(0x2a8)]((_0x216ea2,_0x5639ea)=>(_0x5639ea[_0x253475(0x25e)]?.[_0x253475(0x17a)]()||0x0)-(_0x216ea2[_0x253475(0x25e)]?.['toMillis']()||0x0));document[_0x253475(0x1c1)](_0x253475(0x1d4))['textContent']=_0x142890[_0x253475(0x224)](_0x50b25c=>!_0x50b25c['RandomTime'])[_0x253475(0x296)],document[_0x253475(0x1c1)]('modalDrawnCount')[_0x253475(0x203)]=_0x38da05[_0x253475(0x296)],document[_0x253475(0x1c1)](_0x253475(0x28d))[_0x253475(0x183)]=_0x38da05[_0x253475(0x1c6)](_0x320539=>_0x253475(0x1cc)+_0x320539['employeeId']+'</td><td\x20class=\x22px-4\x20py-4\x20uppercase\x20font-bold\x20text-xm\x20text-left\x20text-sm\x20text-sm\x22>'+_0x320539[_0x253475(0x137)]+(_0x320539[_0x253475(0x1dc)]?_0x253475(0x2b4)+_0x320539[_0x253475(0x1dc)]+'</span>':'')+_0x253475(0x175)+(_0x320539[_0x253475(0x1fc)]||'-')+'</td><td\x20class=\x22px-4\x20py-4\x20text-center\x22><span\x20onclick=\x22removeLuckyWinner(\x27'+_0x320539['id']+'\x27)\x22\x20class=\x22bg-red-50\x20text-white\x20px-3\x20py-1\x20rounded\x20cursor-pointer\x20text-sm\x20font-bold\x22>‡∏•‡∏ö</span></td></tr>')[_0x253475(0x2b1)]('');}function updateTeamTab(){const _0x33e339=_0x21551b,_0x3abce8=document[_0x33e339(0x1c1)](_0x33e339(0x217)),_0x405738=_0x3abce8['value'];_0x3abce8[_0x33e339(0x183)]=_0x33e339(0x236)+teamNames[_0x33e339(0x1c6)](_0x270bfa=>_0x33e339(0x122)+_0x270bfa+'\x22>'+_0x270bfa+_0x33e339(0x22f))['join'](''),_0x3abce8['value']=teamNames[_0x33e339(0x19c)](_0x405738)?_0x405738:'';if(_0x3abce8['value']){const _0x555061=allEmployeesData['filter'](_0x513ff4=>_0x513ff4['Check_Place']===_0x3abce8[_0x33e339(0x1b2)]);document[_0x33e339(0x1c1)](_0x33e339(0x173))[_0x33e339(0x203)]=_0x555061[_0x33e339(0x296)],document[_0x33e339(0x1c1)]('teamStatsRegistered')[_0x33e339(0x203)]=_0x555061[_0x33e339(0x224)](_0x3c445a=>_0x3c445a['DateLogin'])[_0x33e339(0x296)],document[_0x33e339(0x1c1)]('teamStatsContainer')[_0x33e339(0x19a)][_0x33e339(0x266)](_0x33e339(0x190)),document[_0x33e339(0x1c1)](_0x33e339(0x1f5))[_0x33e339(0x183)]=_0x555061[_0x33e339(0x1c6)]((_0x390883,_0x450681)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22'+(_0x390883[_0x33e339(0x2a1)]?_0x33e339(0x29a):'')+_0x33e339(0x1c7)+(_0x450681+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20text-blue-800\x22>'+_0x390883[_0x33e339(0x24e)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20uppercase\x20text-left\x22>'+_0x390883[_0x33e339(0x137)]+_0x33e339(0x11a)+(_0x390883[_0x33e339(0x1fc)]||'-')+_0x33e339(0x11a)+(_0x390883[_0x33e339(0x111)]||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-center\x20font-black\x20uppercase\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x390883[_0x33e339(0x2a1)]?'<span\x20class=\x22px-3\x20py-1\x20bg-green-100\x20text-green-700\x20rounded-md\x22>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</span>':'-')+_0x33e339(0x11e)+_0x390883['id']+_0x33e339(0x1c0))[_0x33e339(0x2b1)]('');}else document[_0x33e339(0x1c1)](_0x33e339(0x14f))['classList'][_0x33e339(0x174)]('hidden');}function updateGridTab(){const _0x29cf57=_0x21551b,_0x41bb9a=document['getElementById'](_0x29cf57(0x1a7))['value'],_0xac404e=[...new Set(allEmployeesData['map'](_0x13a043=>_0x13a043['Check_Manager'])[_0x29cf57(0x224)](Boolean))]['sort'](),_0x521340=document[_0x29cf57(0x1c1)](_0x29cf57(0x1a7));_0x521340[_0x29cf57(0x1f8)][_0x29cf57(0x296)]!==_0xac404e[_0x29cf57(0x296)]+0x1&&(_0x521340[_0x29cf57(0x183)]=_0x29cf57(0x130)+_0xac404e[_0x29cf57(0x1c6)](_0xf9c074=>'<option\x20value=\x22'+_0xf9c074+'\x22>'+_0xf9c074+'</option>')['join'](''));_0x521340[_0x29cf57(0x1b2)]=_0x41bb9a;const _0x9ebcec=_0x41bb9a?allEmployeesData['filter'](_0x5c8ad1=>_0x5c8ad1['Check_Manager']===_0x41bb9a):allEmployeesData,_0x3a174a=_0x9ebcec[_0x29cf57(0x224)](_0x47fe31=>_0x47fe31[_0x29cf57(0x297)]===_0x29cf57(0x297));document[_0x29cf57(0x1c1)](_0x29cf57(0x29b))[_0x29cf57(0x203)]=_0x3a174a[_0x29cf57(0x296)],document[_0x29cf57(0x1c1)](_0x29cf57(0x247))['textContent']=_0x3a174a[_0x29cf57(0x224)](_0x355927=>_0x355927[_0x29cf57(0x2a1)])[_0x29cf57(0x296)],document['getElementById'](_0x29cf57(0x230))[_0x29cf57(0x19a)][_0x29cf57(0x266)]('hidden');const _0x16301c={};teamNames[_0x29cf57(0x248)](_0x5e87e1=>_0x16301c[_0x5e87e1]={'r':0x0,'t':0x0}),_0x9ebcec[_0x29cf57(0x224)](_0x49cda2=>_0x49cda2['Check_Place'])[_0x29cf57(0x248)](_0x7aa8c1=>{const _0x540f9e=_0x29cf57;if(_0x16301c[_0x7aa8c1[_0x540f9e(0x1ff)]]){_0x16301c[_0x7aa8c1[_0x540f9e(0x1ff)]]['t']++;if(_0x7aa8c1[_0x540f9e(0x2a1)])_0x16301c[_0x7aa8c1[_0x540f9e(0x1ff)]]['r']++;}});const _0x40d53c=document[_0x29cf57(0x1c1)](_0x29cf57(0x1bb)),_0x456270=document[_0x29cf57(0x1c1)](_0x29cf57(0x1b3));_0x40d53c[_0x29cf57(0x183)]='',_0x456270[_0x29cf57(0x183)]='',teamNames['forEach'](_0x396d0c=>{const _0x500657=_0x29cf57,_0x2101e5=_0x16301c[_0x396d0c];let _0x3ea402=_0x500657(0x2b5);if(_0x2101e5['t']>0x0){if(_0x2101e5['r']===_0x2101e5['t'])_0x3ea402=_0x500657(0x28a);else{if(_0x2101e5['r']>0x0)_0x3ea402=_0x500657(0x2a4);}}const _0x13b42c=_0x500657(0x1d0)+_0x396d0c+_0x500657(0x17f)+_0x3ea402+'\x20aspect-square\x20rounded-full\x20border\x20border-gray-200\x20flex\x20flex-col\x20items-center\x20justify-center\x20cursor-pointer\x20hover:shadow-lg\x20hover:scale-105\x20transition-all\x20active:scale-95\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[12px]\x20font-bold\x20text-blue-700\x20leading-none\x20text-xs\x20font-bold\x22>'+_0x396d0c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-black\x20text-gray-900\x20mt-0.5\x20text-sm\x22>'+_0x2101e5['r']+'/'+_0x2101e5['t']+_0x500657(0x288);if(_0x396d0c[_0x500657(0x28e)]('A'))_0x40d53c[_0x500657(0x183)]+=_0x13b42c;else{if(_0x396d0c[_0x500657(0x28e)]('B'))_0x456270[_0x500657(0x183)]+=_0x13b42c;}});}function _0x5f08(){const _0x48dd79=['closeGiftPickerBtn','digit','drawnWinnersTableBody','startsWith','datasets','breakdownCenterTotal','registrationTimelineChart','A10','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20transition-colors\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-center\x20font-bold\x20text-gray-400\x20text-xs\x22>','text-blue-800','‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏±‡∏ö','length','invite','editEmpName','sort-emp-id','bg-yellow-50','gvOverallStatsTotal','grDrawCount','teamBarChart2','empStatsPercent','B12','\ufeff‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô,‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•,‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•,‡∏™‡∏≤‡∏Ç‡∏≤,‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î,‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á,‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á,‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö\x0a','DateLogin','64HPoKxg','--\x20‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•\x20--','bg-orange-100','changeEmpPage',']\x20‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?','<tr><td\x20class=\x22px-4\x20py-0\x20text-center\x20text-sm\x22>','sort','\x27,\x20\x27','empStatsUnregistered','asc','editEmpManager','grGiftDisplayName','#fff','error','find','join','\x27)\x22\x20class=\x22px-4\x20py-1\x20rounded-full\x20text-xs\x20font-black\x20uppercase\x20transition-all\x20shadow-sm\x20border\x20','‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö','<br/><span\x20class=\x22text-sm\x20text-orange-600\x20text-xs\x22>üéÅ\x20','bg-gray-100','A24','member','Check_Manager','teamMemberCountElem','305ZuHmAW','confirmText','closeDashboardListModalButton','flex\x20items-center\x20justify-between\x20bg-blue-50\x20border-2\x20border-blue-300\x20rounded-xl\x20p-3\x20transition-all','searchRegEmployeeError','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-left\x20text-gray-400\x20text-sm\x22>','A15','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20text-gray-600\x20text-left\x22>','grRemainingEligible','giftQtyInput','bg-green-400\x20text-white\x20border-green-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-center\x22><span\x20onclick=\x22editEmp(\x27','sort-emp-name','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20text-center\x20text-orange-600\x20text-sm\x20text-sm\x22>','Registered','<option\x20value=\x22','‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠:\x200','manualRegisterModal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','A18','closeRandomizeModalButtonX','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-indigo-600\x20text-white\x20px-3\x20py-1\x20rounded-full\x20text-xs\x20font-bold\x20uppercase\x22>','ttb-register','markAsReceived','6273776fjMXoX','total','regEmpInviteStatus','openGroupGiftPickerBtn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20text-left\x20text-gray-600\x20text-sm\x20text-sm\x22>','<option\x20value=\x22\x22>--\x20‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\x20--</option>','B13','#F59E0B','group-random-content','sort-emp-branch','downloadWinnersCsvButton','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','FullName_th','indGiftDisplayName','2843239UQttfz','‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏µ‡∏°\x20','editEmpTeam','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22','\x27)\x22\x20class=\x22bg-red-500\x20text-white\x20px-3\x20py-0.5\x20rounded\x20text-[10px]\x20font-bold\x20uppercase\x20cursor-pointer\x22>Edit</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>','openGiftPickerBtn','bg-gray-100\x20text-gray-500','text-gray-500','<span\x20class=\x22bg-green-100\x20text-green-700\x20px-2\x20py-0.5\x20rounded\x20text-[10px]\x20font-normal\x22>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</span>','9fKdIaw','sort-emp-member',')\x22>‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27)\x22\x20class=\x22bg-red-100\x20text-red-700\x20px-3\x20py-1\x20rounded\x20text-[10px]\x20font-normal\x20uppercase\x20cursor-pointer\x20hover:bg-red-200\x20transition-all\x20text-sm\x20text-sm\x22>Delete</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','floor','regEmpName','dashboardListCount','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-center\x20text-blue-600\x20font-bold\x20text-sm\x22>','toUpperCase','closeConfirmButton','winnerBU','\x27,\x20this.value)\x22\x20class=\x22w-16\x20p-1\x20text-center\x20border\x20rounded\x20font-bold\x20text-blue-600\x22\x20min=\x221\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-sm\x20font-normal\x22>','giftNameInput','teamStatsContainer','remainingQty','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20text-blue-700\x20text-center\x20text-sm\x22>','‡∏™‡∏≤‡∏Ç‡∏≤:\x20','doughnut','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22cancelReg(\x27','‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏ö‡∏ö‡∏Å‡∏•‡∏∏‡πà‡∏°:\x20‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20text-center\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-gray-400\x20font-bold\x20text-xs\x22>','indGiftDisplayQty','ttb-register.firebasestorage.app','A12','keys','dispatchEvent','resize','</td><td\x20class=\x22px-4\x20py-0\x20uppercase\x20font-bold\x20text-xm\x20text-left\x20text-sm\x22>','downloadEmployeeCsvButton','bg-gray-300','sort-emp-manager','unregistered','‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô','text-base\x20font-black\x20text-gray-400\x20leading-tight\x20uppercase\x20text-sm','reduce','1070273157855',')</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20onclick=\x22removeLuckyWinner(\x27','crsg_gift','th-TH','\x20‡∏ä‡∏¥‡πâ‡∏ô','regManualError','confirmModalInner','A13','\x27)\x22\x20class=\x22text-red-600\x20hover:text-red-700\x20cursor-pointer\x20font-black\x20text-xs\x22>‡∏•‡∏ö</span></td></tr>','href','update','B17','regEmpId','<tr><td\x20colspan=\x227\x22\x20class=\x22p-10\x20text-center\x20text-gray-400\x22>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</td></tr>','teamStatsTotal','add','</td><td\x20class=\x22px-4\x20py-4\x20text-xm\x20font-bold\x20text-gray-500\x20uppercase\x20text-left\x20text-sm\x22>','empStatsRegistered',')\x22>‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','B14','grTotalWinners','toMillis','‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô','text-base\x20text-gray-800','A11','max','\x27)\x22\x20class=\x22','group-view-content','grBoxRight','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-blue-600\x20font-bold\x20uppercase\x20text-center\x22>','innerHTML','numeric','\x20‡∏ó‡πà‡∏≤‡∏ô</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22table-header-gray\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22px-4\x20py-4\x20text-center\x20font-bold\x20text-gray-600\x22>‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22px-4\x20py-4\x20text-left\x20font-bold\x20text-gray-600\x22>‡∏£‡∏´‡∏±‡∏™</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22px-4\x20py-4\x20text-left\x20font-bold\x20text-gray-600\x22>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22px-4\x20py-4\x20text-left\x20font-bold\x20text-gray-600\x22>‡∏™‡∏≤‡∏Ç‡∏≤</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22px-4\x20py-4\x20text-left\x20font-bold\x20text-gray-600\x22>‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22px-4\x20py-4\x20text-left\x20font-bold\x20text-gray-600\x22>‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22px-4\x20py-4\x20text-center\x20font-bold\x20text-gray-600\x22>‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22px-4\x20py-4\x20text-center\x20font-bold\x20text-gray-600\x22>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody\x20class=\x22divide-y\x20divide-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','participantsCountBox','off','querySelector','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-center\x20text-sm\x22>','top','‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?','className','goal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-black\x20uppercase\x20text-left\x22>','bg-white\x20rounded-2xl\x20p-10\x20max-w-lg\x20w-full\x20shadow-2xl\x20text-center\x20transition-all\x20duration-300','hidden','randomizeModal','card-registered','\x27)\x22\x20class=\x22text-red-500\x20hover:text-red-700\x20cursor-pointer\x20font-bold\x20text-xs\x20uppercase\x20text-sm\x22>Delete</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text/csv;charset=utf-8;','groupViewTableBody','padStart',']\x20?','crsg','gift-management-content','classList','openGroupDetail','includes','groupViewStatsRegistered','1:1070273157855:web:5c8120e1df27e233d8676a','\x22\x20onchange=\x22updateGiftOrder(\x27',')\x22>','div','appendChild','5751160gHPxTC','confirmInputContainer','ReceivedTime','breakdown','groupViewManagerFilter','random','confirmActionButton','Remaining','\ufeff‡∏£‡∏´‡∏±‡∏™,‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•,‡∏™‡∏≤‡∏¢‡∏á‡∏≤‡∏ô,‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î,‡∏ó‡∏µ‡∏°,‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞\x0a','bar','giftListTableBody','removeLuckyWinner','latestRegistrationsTableBody','90212zQUzFX','‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏Ç‡∏≠‡∏á\x20[','value','teamGridB','\x20rounded-lg\x20text-sm\x20font-black\x20uppercase\x22>',':00','docs','sort-emp-status','deleteGift','\x20(‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß)','grGiftDisplayQty','teamGridA','#E5E7EB','winnerName','B24','editEmpId','\x27)\x22\x20class=\x22text-orange-500\x20hover:text-orange-700\x20cursor-pointer\x20font-black\x20text-xs\x20uppercase\x20shadow-sm\x22>Edit</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>','getElementById','B16','<tr><td\x20colspan=\x226\x22\x20class=\x22p-6\x20text-center\x20text-gray-400\x20font-bold\x22>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</td></tr>','A20','12yvXXIB','map','\x20hover:bg-gray-50\x20transition-colors\x20text-center\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x22>','OFF','startRandomizeButton','text-base\x20font-black\x20text-red-400\x20leading-tight\x20uppercase\x20text-sm','‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏•‡∏á','<tr><td\x20class=\x22px-4\x20py-4\x20font-mono\x20font-black\x20text-blue-700\x20text-center\x20text-sm\x22>','sort-emp-gift','managerFilterSelect','A17','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22openGroupDetail(\x27','\x27)\x22\x20class=\x22text-orange-500\x20hover:text-orange-700\x20cursor-pointer\x20font-bold\x20text-xs\x20uppercase\x20mr-2\x20text-sm\x22>Edit</span>|\x20<span\x20onclick=\x22deleteGift(\x27','createObjectURL','team-list-content','modalParticipantsCount','giftPickerModal','extras','editEmployeeModal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20onclick=\x22editEmp(\x27','--\x20‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ñ‡∏π‡∏Å‡∏•‡∏ö\x20--','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20','<p\x20class=\x22text-center\x20py-10\x20text-gray-400\x20font-bold\x20italic\x20text-sm\x22>--\x20‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠\x20--</p>','AwardedGift','localeCompare','bg-white\x20rounded-2xl\x20p-10\x20max-w-lg\x20w-full\x20shadow-2xl\x20text-center','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-center\x22><button\x20onclick=\x22toggleGiftStatus(\x27','\x22,\x22‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô\x22\x0a','‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô','AwardedGiftId','B11','registered','giftPickerList','click','grBoxLeft','#loader','‡∏ú‡∏π‡πâ‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-center\x22><input\x20type=\x22number\x22\x20value=\x22','download','<span\x20class=\x22px-1\x20text-gray-400\x22>...</span>','card-unregistered','Selected','createElement','text-base\x20font-black\x20text-blue-600\x20leading-tight\x20uppercase\x20text-sm','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20font-mono\x20font-bold\x20text-blue-700\x20text-center\x22>','saveEditGiftBtn','‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö','‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏Å‡πà‡∏≠‡∏ô','selectedTeamTableBody','winnerEmployeeId','confirmInput','options','toLocaleString','text-sm\x20font-bold\x20text-gray-300\x20mt-1\x20text-sm','managerEmployeeCount','Branch_eng','\x27)\x22','searchEmployeeError','Check_Place','‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏∞‡∏ö‡∏ö','timelineTotalExtra','commit','textContent','addEventListener','slice','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','winnersByGiftContainer','downloadCsvButton','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-black\x20','loading-gif','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20border\x20border-gray-100\x20rounded-2xl\x20overflow-hidden\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-50\x20px-6\x20py-4\x20border-b\x20flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-lg\x20font-black\x20text-indigo-700\x20uppercase\x22>üéÅ\x20‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:\x20','confirmModal','‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠:\x20','desc','giftPickerTitle','empStatsContainer','A21','trim','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','totalQty','getHours','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-bold\x20text-blue-500\x20uppercase\x20text-center\x20text-sm\x20text-sm\x22>','teamSelect','#BFDBFE','\x22,\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20font-bold\x20text-left\x20uppercase\x22>','‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20bg-blue-50\x20p-2.5\x20rounded-xl\x20border\x20border-blue-100\x20winner-row-animate\x20shadow-sm\x20mb-1.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-blue-600\x20text-white\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x20rounded-full\x20text-[9px]\x20font-bold\x22>','confirmTitle','editGiftModal','‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß','resetTeamButton','5058372ZwDcfo','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-mono\x20font-black\x20text-blue-700\x22>','‡∏•‡∏ö‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•','filter','<option\x20value=\x22\x22>--\x20‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\x20--</option>','editGift','definedTeamNamesInput','timeline','‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•','name','#3B82F6','split','grGiftBox','change','</option>','gvOverallStatsContainer','winners-list-content','labels','groupViewModal','branch','attendeesCount','<option\x20value=\x22\x22>--\x20‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡∏°\x20--</option>','winnerDetailModal','regEmpManager','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-gray-600\x20uppercase\x20text-left\x22>','ind','empStatsTotal','B23','data','‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô:\x20','toString','long','editGiftName','closeWinnerModalButton','grTotalEligible','status','replace','fill','gvOverallStatsRegistered','forEach','#10B981','groupViewModalTitle','\ufeff‡∏•‡∏≥‡∏î‡∏±‡∏ö,‡∏£‡∏´‡∏±‡∏™,‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•,‡∏™‡∏≤‡∏Ç‡∏≤,‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î,Member,‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•,‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á,‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞\x0a','\x20hover:bg-gray-50\x20transition-colors\x20text-center\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-gray-400\x20text-center\x20text-xs\x22>','‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠:\x20-\x20‡∏ä‡∏¥‡πâ‡∏ô','employeeId','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-2\x20text-left\x20text-gray-600\x22>','B22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2-digit','randomizeError','bar2','regEmpSeat','text-blue-600','gift','\x20uppercase\x20text-sm\x22>','disabled','searchRegEmployeeButton','159ZsNLmU','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22removeLuckyWinner(\x27','active','RandomTime','order','register-content','onclick=\x22markAsReceived(\x27','pickGift','bg-gray-200\x20text-gray-600','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-black\x20text-gray-800\x20uppercase\x20text-left\x22>','openDashboardList','remove','ceil','<button\x20class=\x22pagination-btn\x20','Winners_Report.csv','‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß','bar1','‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß','teamBarChart1','bg-blue-600\x20text-white','dashboardListModalTitle','manager','closeEditGiftModalBtn','remainingCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pagination-btn\x22\x20','editEmp','‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏•‡∏∏‡πâ‡∏ô','A16','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-4\x20py-1\x20','B20','dashboardListModal','grStartDrawBtn','387576vHSTTR','registrationBreakdownChart','winnerTeam','\x20onclick=\x22changeEmpPage(','B19','A14','‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Ñ‡∏ô:\x20‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•','RESET','group','editGiftTotalQty','round','</td><td\x20class=\x22px-4\x20py-0\x20text-gray-600\x20text-xm\x20text-left\x20text-sm\x22>','searchEmployeeIdInput','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editGiftRemainingQty','bg-green-100'];_0x5f08=function(){return _0x48dd79;};return _0x5f08();}function updateEmployeeList(){const _0x41d52c=_0x21551b,_0xefaae4=document['getElementById'](_0x41d52c(0x1ce))['value'],_0x457f02=[...new Set(allEmployeesData[_0x41d52c(0x1c6)](_0x21487c=>_0x21487c[_0x41d52c(0x111)])[_0x41d52c(0x224)](Boolean))][_0x41d52c(0x2a8)](),_0x35cda2=document[_0x41d52c(0x1c1)]('managerFilterSelect');_0x35cda2[_0x41d52c(0x1f8)]['length']!==_0x457f02[_0x41d52c(0x296)]+0x1&&(_0x35cda2['innerHTML']=_0x41d52c(0x225)+_0x457f02['map'](_0x15f8e8=>_0x41d52c(0x122)+_0x15f8e8+'\x22>'+_0x15f8e8+_0x41d52c(0x22f))[_0x41d52c(0x2b1)](''));_0x35cda2[_0x41d52c(0x1b2)]=_0xefaae4;let _0x4ffe07=allEmployeesData[_0x41d52c(0x224)](_0x23f61a=>_0x23f61a[_0x41d52c(0x1ff)]&&_0x23f61a[_0x41d52c(0x1ff)][_0x41d52c(0x212)]()!=='');if(_0xefaae4)_0x4ffe07=_0x4ffe07[_0x41d52c(0x224)](_0x5e489d=>_0x5e489d[_0x41d52c(0x111)]===_0xefaae4);_0x4ffe07[_0x41d52c(0x2a8)]((_0x582a51,_0x1c863d)=>{const _0x155dd7=_0x41d52c;let _0x37c95d,_0x198ce2;switch(empSortField){case _0x155dd7(0x244):_0x37c95d=_0x582a51[_0x155dd7(0x2a1)]?0x1:0x0,_0x198ce2=_0x1c863d['DateLogin']?0x1:0x0;break;case _0x155dd7(0x22a):return empSortDir===_0x155dd7(0x2ab)?_0x582a51[_0x155dd7(0x137)][_0x155dd7(0x1dd)](_0x1c863d['FullName_th'],'th'):_0x1c863d[_0x155dd7(0x137)][_0x155dd7(0x1dd)](_0x582a51[_0x155dd7(0x137)],'th');case _0x155dd7(0x234):_0x37c95d=_0x582a51['Branch_eng']||'',_0x198ce2=_0x1c863d[_0x155dd7(0x1fc)]||'';break;case'manager':_0x37c95d=_0x582a51['Check_Manager']||'',_0x198ce2=_0x1c863d['Check_Manager']||'';break;case _0x155dd7(0x110):_0x37c95d=_0x582a51[_0x155dd7(0x297)]||'',_0x198ce2=_0x1c863d[_0x155dd7(0x297)]||'';break;case'gift':_0x37c95d=_0x582a51[_0x155dd7(0x1dc)]?0x1:0x0,_0x198ce2=_0x1c863d[_0x155dd7(0x1dc)]?0x1:0x0;break;default:_0x37c95d=_0x582a51[_0x155dd7(0x24e)],_0x198ce2=_0x1c863d[_0x155dd7(0x24e)];}if(_0x37c95d<_0x198ce2)return empSortDir===_0x155dd7(0x2ab)?-0x1:0x1;if(_0x37c95d>_0x198ce2)return empSortDir===_0x155dd7(0x2ab)?0x1:-0x1;return 0x0;});const _0xcf1fd6=_0x4ffe07['length'],_0x3ba512=_0x4ffe07['filter'](_0x4bc29c=>_0x4bc29c[_0x41d52c(0x2a1)])[_0x41d52c(0x296)],_0x3db3d5=_0xcf1fd6-_0x3ba512,_0x312964=_0xcf1fd6>0x0?Math[_0x41d52c(0x285)](_0x3ba512/_0xcf1fd6*0x64):0x0;document[_0x41d52c(0x1c1)](_0x41d52c(0x23b))[_0x41d52c(0x203)]=_0xcf1fd6,document[_0x41d52c(0x1c1)](_0x41d52c(0x176))[_0x41d52c(0x203)]=_0x3ba512,document[_0x41d52c(0x1c1)]('empStatsUnregistered')['textContent']=_0x3db3d5,document[_0x41d52c(0x1c1)](_0x41d52c(0x29e))[_0x41d52c(0x203)]=_0x312964+'%',document['getElementById'](_0x41d52c(0x210))[_0x41d52c(0x19a)][_0x41d52c(0x266)](_0x41d52c(0x190));const _0x29a239=Math['ceil'](_0xcf1fd6/empPageSize);if(empCurrentPage>_0x29a239&&_0x29a239>0x0)empCurrentPage=_0x29a239;const _0x8978b5=_0x4ffe07['slice']((empCurrentPage-0x1)*empPageSize,empCurrentPage*empPageSize);document[_0x41d52c(0x1c1)]('employeeListTableBody')['innerHTML']=_0x8978b5[_0x41d52c(0x1c6)]((_0x1be4f9,_0x5d2a25)=>_0x41d52c(0x13c)+(_0x1be4f9[_0x41d52c(0x2a1)]?_0x41d52c(0x29a):'')+_0x41d52c(0x24c)+((empCurrentPage-0x1)*empPageSize+(_0x5d2a25+0x1))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20text-blue-800\x20text-center\x20text-sm\x22>'+_0x1be4f9[_0x41d52c(0x24e)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20uppercase\x20text-left\x20text-sm\x20text-sm\x22>'+_0x1be4f9[_0x41d52c(0x137)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20text-left\x20text-gray-600\x20text-sm\x20text-sm\x22>'+(_0x1be4f9[_0x41d52c(0x1fc)]||'-')+_0x41d52c(0x12f)+(_0x1be4f9[_0x41d52c(0x111)]||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20text-center\x20text-gray-400\x20text-sm\x20text-sm\x22>'+(_0x1be4f9[_0x41d52c(0x297)]||'-')+_0x41d52c(0x120)+(_0x1be4f9[_0x41d52c(0x1dc)]?_0x41d52c(0x229):'-')+_0x41d52c(0x216)+(_0x1be4f9[_0x41d52c(0x1ff)]||'-')+_0x41d52c(0x125)+(_0x1be4f9[_0x41d52c(0x2a1)]?'<span\x20class=\x22px-3\x20py-1\x20bg-green-100\x20text-green-700\x20rounded-md\x20text-[10px]\x20font-normal\x20text-xs\x20text-sm\x22>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</span>':'-')+_0x41d52c(0x154)+_0x1be4f9['id']+_0x41d52c(0x2a9)+_0x1be4f9[_0x41d52c(0x137)]+_0x41d52c(0x145))[_0x41d52c(0x2b1)](''),renderEmpPagination(_0x29a239);}function renderEmpPagination(_0x45b7fe){const _0x196934=_0x21551b,_0x5e2c23=document[_0x196934(0x1c1)]('empPaginationContainer');if(_0x45b7fe<=0x1){_0x5e2c23[_0x196934(0x183)]='';return;}let _0x475d11=_0x196934(0x273)+(empCurrentPage===0x1?_0x196934(0x259):'')+_0x196934(0x27e)+(empCurrentPage-0x1)+_0x196934(0x177);for(let _0x538465=0x1;_0x538465<=_0x45b7fe;_0x538465++){if(_0x538465===0x1||_0x538465===_0x45b7fe||_0x538465>=empCurrentPage-0x2&&_0x538465<=empCurrentPage+0x2)_0x475d11+=_0x196934(0x268)+(_0x538465===empCurrentPage?_0x196934(0x25d):'')+'\x22\x20onclick=\x22changeEmpPage('+_0x538465+_0x196934(0x1a0)+_0x538465+'</button>';else(_0x538465===empCurrentPage-0x3||_0x538465===empCurrentPage+0x3)&&(_0x475d11+=_0x196934(0x1ec));}_0x475d11+=_0x196934(0x273)+(empCurrentPage===_0x45b7fe?_0x196934(0x259):'')+_0x196934(0x27e)+(empCurrentPage+0x1)+_0x196934(0x144),_0x5e2c23[_0x196934(0x183)]=_0x475d11;}window[_0x21551b(0x2a5)]=_0x5c4bd8=>{empCurrentPage=_0x5c4bd8,updateEmployeeList();},window['cancelReg']=(_0x3f6522,_0x2e91a1)=>{const _0x34451e=_0x21551b,_0x55144e=document['getElementById'](_0x34451e(0x16b));_0x55144e[_0x34451e(0x18c)]=_0x34451e(0x1de),currentConfirmAction=async()=>{const _0x27b37f=_0x34451e;try{await updateDoc(doc(db,_0x27b37f(0x198),_0x3f6522),{'DateLogin':null,'MobileId':''}),document[_0x27b37f(0x1c1)](_0x27b37f(0x20c))[_0x27b37f(0x19a)][_0x27b37f(0x174)](_0x27b37f(0x190));}catch(_0x5e3a31){console[_0x27b37f(0x2af)](_0x5e3a31);}},document['getElementById'](_0x34451e(0x21d))[_0x34451e(0x203)]=_0x34451e(0x1f3),document['getElementById'](_0x34451e(0x114))[_0x34451e(0x203)]=_0x34451e(0x1b1)+_0x2e91a1+_0x34451e(0x2a6),document[_0x34451e(0x1c1)](_0x34451e(0x1a4))[_0x34451e(0x19a)]['add'](_0x34451e(0x190)),document[_0x34451e(0x1c1)](_0x34451e(0x20c))[_0x34451e(0x19a)]['remove'](_0x34451e(0x190));},window[_0x21551b(0x19b)]=_0x3139a9=>{const _0x36b3dc=_0x21551b,_0x198c9f=allEmployeesData[_0x36b3dc(0x224)](_0x1afbf8=>_0x1afbf8['Check_Place']===_0x3139a9);document['getElementById'](_0x36b3dc(0x24a))[_0x36b3dc(0x203)]=_0x36b3dc(0x13a)+_0x3139a9,document[_0x36b3dc(0x1c1)]('groupViewStatsTotal')['textContent']=_0x198c9f['length'],document[_0x36b3dc(0x1c1)](_0x36b3dc(0x19d))[_0x36b3dc(0x203)]=_0x198c9f['filter'](_0x3208f4=>_0x3208f4[_0x36b3dc(0x2a1)])[_0x36b3dc(0x296)],document[_0x36b3dc(0x1c1)](_0x36b3dc(0x195))['innerHTML']=_0x198c9f[_0x36b3dc(0x1c6)]((_0x4623b6,_0x4d8eab)=>{const _0x4b9305=_0x36b3dc;return'<tr\x20class=\x22'+(_0x4623b6['DateLogin']?_0x4b9305(0x29a):'')+'\x20hover:bg-gray-50\x20text-center\x20text-sm\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-bold\x20text-gray-400\x20text-xs\x22>'+(_0x4d8eab+0x1)+_0x4b9305(0x151)+_0x4623b6[_0x4b9305(0x24e)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20font-normal\x20uppercase\x20font-bold\x20text-left\x20text-sm\x22>'+_0x4623b6['FullName_th']+_0x4b9305(0x118)+(_0x4623b6[_0x4b9305(0x1fc)]||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-left\x20text-gray-400\x20text-sm\x22>'+(_0x4623b6[_0x4b9305(0x111)]||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22px-4\x20py-0\x20text-center\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4623b6['DateLogin']?_0x4b9305(0x141):'-')+_0x4b9305(0x1d8)+_0x4623b6['id']+_0x4b9305(0x13d);})[_0x36b3dc(0x2b1)]('')||'<tr><td\x20colspan=\x227\x22\x20class=\x22p-10\x20text-center\x20text-sm\x20text-sm\x22>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠</td></tr>',document[_0x36b3dc(0x1c1)](_0x36b3dc(0x233))[_0x36b3dc(0x19a)][_0x36b3dc(0x266)](_0x36b3dc(0x190));},window[_0x21551b(0x274)]=_0x1397ab=>{const _0x3dc8d9=_0x21551b,_0x2aa37e=allEmployeesData[_0x3dc8d9(0x2b0)](_0x451a98=>_0x451a98['id']===_0x1397ab);if(!_0x2aa37e)return;currentEditingDocId=_0x1397ab,document['getElementById'](_0x3dc8d9(0x1bf))[_0x3dc8d9(0x203)]=_0x2aa37e[_0x3dc8d9(0x24e)],document['getElementById'](_0x3dc8d9(0x298))['textContent']=_0x2aa37e[_0x3dc8d9(0x137)],document['getElementById'](_0x3dc8d9(0x2ac))['value']=_0x2aa37e[_0x3dc8d9(0x111)]||'',document['getElementById'](_0x3dc8d9(0x13b))[_0x3dc8d9(0x1b2)]=_0x2aa37e['Check_Place']||'',document[_0x3dc8d9(0x1c1)](_0x3dc8d9(0x1d7))[_0x3dc8d9(0x19a)][_0x3dc8d9(0x266)]('hidden');};function searchForRegistration(){const _0x171d32=_0x21551b,_0x4afdb1=document['getElementById']('searchRegEmployeeIdInput')[_0x171d32(0x1b2)][_0x171d32(0x212)](),_0x27dd2d=document[_0x171d32(0x1c1)](_0x171d32(0x117));_0x27dd2d['textContent']='';if(!_0x4afdb1){_0x27dd2d[_0x171d32(0x203)]=_0x171d32(0x1e1);return;}const _0x2608f4=allEmployeesData[_0x171d32(0x2b0)](_0x1e4458=>_0x1e4458[_0x171d32(0x24e)]===_0x4afdb1);_0x2608f4?(currentEditingDocId=_0x2608f4['id'],document[_0x171d32(0x1c1)](_0x171d32(0x171))['textContent']=_0x2608f4[_0x171d32(0x24e)],document['getElementById'](_0x171d32(0x147))[_0x171d32(0x203)]=_0x2608f4[_0x171d32(0x137)],document['getElementById']('regEmpBranch')[_0x171d32(0x203)]=_0x2608f4[_0x171d32(0x1fc)]||'-',document['getElementById'](_0x171d32(0x238))[_0x171d32(0x203)]=_0x2608f4['Check_Manager']||'-',document[_0x171d32(0x1c1)](_0x171d32(0x255))['value']=_0x2608f4[_0x171d32(0x1ff)]||'',document[_0x171d32(0x1c1)](_0x171d32(0x12d))[_0x171d32(0x1b2)]=_0x2608f4[_0x171d32(0x297)]||'',document[_0x171d32(0x1c1)](_0x171d32(0x124))[_0x171d32(0x19a)]['remove']('hidden'),document[_0x171d32(0x1c1)](_0x171d32(0x16a))[_0x171d32(0x203)]=''):_0x27dd2d[_0x171d32(0x203)]=_0x171d32(0x2b3);}async function saveManualRegistration(){const _0x202853=_0x21551b,_0x4dffa9=document['getElementById'](_0x202853(0x255))[_0x202853(0x1b2)][_0x202853(0x212)](),_0x49fe81=document[_0x202853(0x1c1)]('regEmpInviteStatus')['value'],_0x3d9eb8=document[_0x202853(0x1c1)]('regManualError');try{await updateDoc(doc(db,_0x202853(0x198),currentEditingDocId),{'Check_Place':_0x4dffa9,'invite':_0x49fe81,'DateLogin':serverTimestamp()}),document[_0x202853(0x1c1)](_0x202853(0x124))[_0x202853(0x19a)]['add']('hidden'),document[_0x202853(0x1c1)]('searchRegEmployeeIdInput')[_0x202853(0x1b2)]='';}catch(_0xdcdc3b){console[_0x202853(0x2af)](_0xdcdc3b),_0x3d9eb8[_0x202853(0x203)]='‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å';}}function _0x22ac(_0x1ab5eb,_0x1b273f){_0x1ab5eb=_0x1ab5eb-0x110;const _0x5f080c=_0x5f08();let _0x22ac45=_0x5f080c[_0x1ab5eb];return _0x22ac45;}function handleEmpSort(_0x742db2){const _0x2f2a51=_0x21551b;empSortField===_0x742db2?empSortDir=empSortDir===_0x2f2a51(0x2ab)?_0x2f2a51(0x20e):_0x2f2a51(0x2ab):(empSortField=_0x742db2,empSortDir='asc'),empCurrentPage=0x1,updateEmployeeList();}function setupListeners(){const _0x74e547=_0x21551b;document[_0x74e547(0x1c1)]('randomizeButton')[_0x74e547(0x204)](_0x74e547(0x1e6),()=>{const _0x3598a2=_0x74e547;updateLuckyDrawStats(),document[_0x3598a2(0x1c1)](_0x3598a2(0x191))[_0x3598a2(0x19a)][_0x3598a2(0x266)](_0x3598a2(0x190));}),document['getElementById'](_0x74e547(0x127))[_0x74e547(0x204)](_0x74e547(0x1e6),()=>document[_0x74e547(0x1c1)](_0x74e547(0x191))[_0x74e547(0x19a)][_0x74e547(0x174)](_0x74e547(0x190))),document[_0x74e547(0x1c1)](_0x74e547(0x1c9))[_0x74e547(0x204)](_0x74e547(0x1e6),runIndividualLuckyDraw),document[_0x74e547(0x1c1)]('grStartDrawBtn')[_0x74e547(0x204)](_0x74e547(0x1e6),startGroupRandomDraw),document[_0x74e547(0x1c1)]('closeGroupViewModalButton')['addEventListener'](_0x74e547(0x1e6),()=>document[_0x74e547(0x1c1)](_0x74e547(0x233))[_0x74e547(0x19a)][_0x74e547(0x174)](_0x74e547(0x190))),document[_0x74e547(0x1c1)](_0x74e547(0x242))[_0x74e547(0x204)](_0x74e547(0x1e6),()=>document[_0x74e547(0x1c1)]('winnerDetailModal')['classList'][_0x74e547(0x174)](_0x74e547(0x190))),document[_0x74e547(0x1c1)]('closeEditModalButton')['addEventListener'](_0x74e547(0x1e6),()=>document[_0x74e547(0x1c1)]('editEmployeeModal')[_0x74e547(0x19a)][_0x74e547(0x174)](_0x74e547(0x190))),document['getElementById'](_0x74e547(0x14b))['addEventListener']('click',()=>document['getElementById'](_0x74e547(0x20c))[_0x74e547(0x19a)]['add']('hidden')),document['getElementById']('card-total')[_0x74e547(0x204)](_0x74e547(0x1e6),()=>openDashboardList(_0x74e547(0x12c))),document['getElementById'](_0x74e547(0x192))[_0x74e547(0x204)](_0x74e547(0x1e6),()=>openDashboardList(_0x74e547(0x1e4))),document[_0x74e547(0x1c1)](_0x74e547(0x1ed))[_0x74e547(0x204)](_0x74e547(0x1e6),()=>openDashboardList('unregistered')),document['getElementById']('card-extras')[_0x74e547(0x204)](_0x74e547(0x1e6),()=>openDashboardList(_0x74e547(0x1d6))),document[_0x74e547(0x1c1)](_0x74e547(0x115))[_0x74e547(0x204)]('click',()=>document[_0x74e547(0x1c1)](_0x74e547(0x279))[_0x74e547(0x19a)][_0x74e547(0x174)](_0x74e547(0x190))),document[_0x74e547(0x1c1)](_0x74e547(0x299))[_0x74e547(0x204)](_0x74e547(0x1e6),()=>handleEmpSort('id')),document[_0x74e547(0x1c1)](_0x74e547(0x11f))['addEventListener']('click',()=>handleEmpSort(_0x74e547(0x22a))),document[_0x74e547(0x1c1)](_0x74e547(0x134))[_0x74e547(0x204)]('click',()=>handleEmpSort(_0x74e547(0x234))),document[_0x74e547(0x1c1)](_0x74e547(0x160))[_0x74e547(0x204)](_0x74e547(0x1e6),()=>handleEmpSort(_0x74e547(0x270))),document[_0x74e547(0x1c1)](_0x74e547(0x143))['addEventListener'](_0x74e547(0x1e6),()=>handleEmpSort('member')),document['getElementById'](_0x74e547(0x1cd))[_0x74e547(0x204)](_0x74e547(0x1e6),()=>handleEmpSort(_0x74e547(0x257))),document[_0x74e547(0x1c1)](_0x74e547(0x1b7))[_0x74e547(0x204)](_0x74e547(0x1e6),()=>handleEmpSort('status')),document[_0x74e547(0x1c1)](_0x74e547(0x25a))['addEventListener']('click',searchForRegistration),document[_0x74e547(0x1c1)]('closeManualRegModalButton')[_0x74e547(0x204)](_0x74e547(0x1e6),()=>document[_0x74e547(0x1c1)](_0x74e547(0x124))['classList'][_0x74e547(0x174)](_0x74e547(0x190))),document[_0x74e547(0x1c1)]('saveManualRegButton')[_0x74e547(0x204)](_0x74e547(0x1e6),saveManualRegistration),document[_0x74e547(0x1c1)](_0x74e547(0x1a9))[_0x74e547(0x204)]('click',async()=>{if(currentConfirmAction)await currentConfirmAction();}),document['getElementById']('addGiftBtn')[_0x74e547(0x204)](_0x74e547(0x1e6),addGift),document[_0x74e547(0x1c1)](_0x74e547(0x13e))[_0x74e547(0x204)](_0x74e547(0x1e6),()=>{const _0x493567=_0x74e547;giftPickerContext=_0x493567(0x23a),renderGiftPicker(),document[_0x493567(0x1c1)](_0x493567(0x1d5))['classList'][_0x493567(0x266)](_0x493567(0x190));}),document[_0x74e547(0x1c1)](_0x74e547(0x12e))[_0x74e547(0x204)](_0x74e547(0x1e6),()=>{const _0x1c3180=_0x74e547;giftPickerContext=_0x1c3180(0x283),renderGiftPicker(),document['getElementById']('giftPickerModal')[_0x1c3180(0x19a)][_0x1c3180(0x266)]('hidden');}),document[_0x74e547(0x1c1)](_0x74e547(0x28b))[_0x74e547(0x204)](_0x74e547(0x1e6),()=>document['getElementById']('giftPickerModal')[_0x74e547(0x19a)]['add'](_0x74e547(0x190))),document[_0x74e547(0x1c1)](_0x74e547(0x271))[_0x74e547(0x204)]('click',()=>document['getElementById']('editGiftModal')[_0x74e547(0x19a)][_0x74e547(0x174)](_0x74e547(0x190))),document['getElementById'](_0x74e547(0x1f2))[_0x74e547(0x204)](_0x74e547(0x1e6),async()=>{const _0x127540=_0x74e547,_0x5c02f1=document[_0x127540(0x1c1)](_0x127540(0x241))[_0x127540(0x1b2)][_0x127540(0x212)](),_0x2fdf2b=parseInt(document[_0x127540(0x1c1)]('editGiftTotalQty')['value']),_0x43aa14=parseInt(document['getElementById'](_0x127540(0x289))['value']);if(!_0x5c02f1||isNaN(_0x2fdf2b)||isNaN(_0x43aa14))return;await updateDoc(doc(db,'crsg_gift',currentEditingGiftId),{'name':_0x5c02f1,'totalQty':_0x2fdf2b,'remainingQty':_0x43aa14}),document['getElementById'](_0x127540(0x21e))[_0x127540(0x19a)][_0x127540(0x174)]('hidden');}),document[_0x74e547(0x1c1)]('saveEditModalButton')[_0x74e547(0x204)]('click',async()=>{const _0x4ec2d0=_0x74e547;await updateDoc(doc(db,_0x4ec2d0(0x198),currentEditingDocId),{'Check_Manager':document[_0x4ec2d0(0x1c1)](_0x4ec2d0(0x2ac))[_0x4ec2d0(0x1b2)],'Check_Place':document['getElementById'](_0x4ec2d0(0x13b))[_0x4ec2d0(0x1b2)]}),document['getElementById'](_0x4ec2d0(0x1d7))[_0x4ec2d0(0x19a)][_0x4ec2d0(0x174)]('hidden');}),document[_0x74e547(0x1c1)]('searchEmployeeButton')[_0x74e547(0x204)](_0x74e547(0x1e6),()=>{const _0x3628d8=_0x74e547,_0x2b2f48=document[_0x3628d8(0x1c1)](_0x3628d8(0x1fe));_0x2b2f48[_0x3628d8(0x203)]='';const _0x3b8e5b=document[_0x3628d8(0x1c1)]('searchEmployeeIdInput')['value'][_0x3628d8(0x212)]();if(!_0x3b8e5b){_0x2b2f48[_0x3628d8(0x203)]=_0x3628d8(0x1e1);return;}const _0x90b1d0=allEmployeesData[_0x3628d8(0x2b0)](_0x540668=>_0x540668[_0x3628d8(0x24e)]===_0x3b8e5b);_0x90b1d0?(editEmp(_0x90b1d0['id']),document[_0x3628d8(0x1c1)](_0x3628d8(0x287))['value']=''):_0x2b2f48[_0x3628d8(0x203)]=_0x3628d8(0x162);}),document[_0x74e547(0x1c1)](_0x74e547(0x217))[_0x74e547(0x204)](_0x74e547(0x22e),updateTeamTab),document[_0x74e547(0x1c1)](_0x74e547(0x1a7))[_0x74e547(0x204)](_0x74e547(0x22e),updateGridTab),document['getElementById']('managerFilterSelect')[_0x74e547(0x204)]('change',()=>{empCurrentPage=0x1,updateEmployeeList();}),document['getElementById']('updateTeamNamesBtn')[_0x74e547(0x204)]('click',()=>{const _0x1146ba=_0x74e547,_0x2d8aa9=document['getElementById'](_0x1146ba(0x227))[_0x1146ba(0x1b2)][_0x1146ba(0x212)]();if(!_0x2d8aa9)return;teamNames=_0x2d8aa9[_0x1146ba(0x22c)](',')[_0x1146ba(0x1c6)](_0xc0ae78=>_0xc0ae78['trim']())[_0x1146ba(0x224)](Boolean),refreshUI();}),document[_0x74e547(0x1c1)](_0x74e547(0x208))['addEventListener'](_0x74e547(0x1e6),()=>{const _0x20c49e=_0x74e547;let _0x2949db=_0x20c49e(0x1ab);allEmployeesData[_0x20c49e(0x224)](_0x3c48f1=>_0x3c48f1['DateLogin'])[_0x20c49e(0x248)](_0x57f90a=>{const _0x4fbc3f=_0x20c49e;_0x2949db+='\x22'+_0x57f90a[_0x4fbc3f(0x24e)]+_0x4fbc3f(0x219)+_0x57f90a[_0x4fbc3f(0x137)]+'\x22,\x22'+(_0x57f90a[_0x4fbc3f(0x1fc)]||'')+'\x22,\x22'+(_0x57f90a[_0x4fbc3f(0x111)]||'')+'\x22,\x22'+(_0x57f90a[_0x4fbc3f(0x1ff)]||'')+_0x4fbc3f(0x1e0);});const _0x9b8d6c=new Blob([_0x2949db],{'type':_0x20c49e(0x194)}),_0xda2b5a=document[_0x20c49e(0x1ef)]('a');_0xda2b5a[_0x20c49e(0x16e)]=URL['createObjectURL'](_0x9b8d6c),_0xda2b5a[_0x20c49e(0x1eb)]='Registration_Report.csv',_0xda2b5a[_0x20c49e(0x1e6)]();}),document['getElementById'](_0x74e547(0x15e))[_0x74e547(0x204)](_0x74e547(0x1e6),()=>{const _0x3f0ce4=_0x74e547,_0x575039=document[_0x3f0ce4(0x1c1)]('managerFilterSelect')['value'];let _0x5299cc=allEmployeesData[_0x3f0ce4(0x224)](_0x52886a=>_0x52886a[_0x3f0ce4(0x1ff)]&&_0x52886a[_0x3f0ce4(0x1ff)][_0x3f0ce4(0x212)]()!=='');if(_0x575039)_0x5299cc=_0x5299cc[_0x3f0ce4(0x224)](_0x1ddcfc=>_0x1ddcfc[_0x3f0ce4(0x111)]===_0x575039);let _0x416184=_0x3f0ce4(0x24b);_0x5299cc[_0x3f0ce4(0x248)]((_0xa8e75b,_0x18b5a4)=>{const _0x33aed9=_0x3f0ce4,_0x3b8220=_0xa8e75b[_0x33aed9(0x2a1)]?'‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô':'-',_0x284abf=_0xa8e75b[_0x33aed9(0x297)]||'-',_0x5b2b76=_0xa8e75b[_0x33aed9(0x1dc)]?_0x33aed9(0x229):'-';_0x416184+='\x22'+(_0x18b5a4+0x1)+_0x33aed9(0x219)+_0xa8e75b['employeeId']+_0x33aed9(0x219)+_0xa8e75b[_0x33aed9(0x137)]+_0x33aed9(0x219)+(_0xa8e75b[_0x33aed9(0x1fc)]||'-')+_0x33aed9(0x219)+(_0xa8e75b[_0x33aed9(0x111)]||'-')+_0x33aed9(0x219)+_0x284abf+_0x33aed9(0x219)+_0x5b2b76+'\x22,\x22'+(_0xa8e75b[_0x33aed9(0x1ff)]||'-')+_0x33aed9(0x219)+_0x3b8220+'\x22\x0a';});const _0x180164=new Blob([_0x416184],{'type':_0x3f0ce4(0x194)}),_0x5f4399=document[_0x3f0ce4(0x1ef)]('a');_0x5f4399[_0x3f0ce4(0x16e)]=URL[_0x3f0ce4(0x1d2)](_0x180164),_0x5f4399['download']='Employee_List_Report.csv',_0x5f4399[_0x3f0ce4(0x1e6)]();}),document[_0x74e547(0x1c1)](_0x74e547(0x135))['addEventListener'](_0x74e547(0x1e6),()=>{const _0x4c1794=_0x74e547,_0x194328=allEmployeesData['filter'](_0x140c78=>_0x140c78[_0x4c1794(0x25e)])[_0x4c1794(0x2a8)]((_0x3b4753,_0x272ab9)=>(_0x272ab9['RandomTime']?.[_0x4c1794(0x17a)]()||0x0)-(_0x3b4753[_0x4c1794(0x25e)]?.[_0x4c1794(0x17a)]()||0x0));let _0x197cf3=_0x4c1794(0x2a0);_0x194328['forEach'](_0x4fdefd=>{const _0x49a245=_0x4c1794,_0x4dfd90=_0x4fdefd[_0x49a245(0x25e)]?.[_0x49a245(0x17a)]()?new Date(_0x4fdefd['RandomTime'][_0x49a245(0x17a)]())[_0x49a245(0x1f9)](_0x49a245(0x168)):'-',_0x2f77be=_0x4fdefd[_0x49a245(0x1a5)]?_0x49a245(0x26c):'‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏£‡∏±‡∏ö';_0x197cf3+='\x22'+_0x4fdefd[_0x49a245(0x24e)]+'\x22,\x22'+_0x4fdefd[_0x49a245(0x137)]+'\x22,\x22'+(_0x4fdefd[_0x49a245(0x1dc)]||'')+'\x22,\x22'+(_0x4fdefd['Branch_eng']||'')+_0x49a245(0x219)+(_0x4fdefd[_0x49a245(0x111)]||'')+'\x22,\x22'+(_0x4fdefd[_0x49a245(0x1ff)]||'')+_0x49a245(0x219)+_0x2f77be+_0x49a245(0x219)+_0x4dfd90+'\x22\x0a';});const _0x300e08=new Blob([_0x197cf3],{'type':_0x4c1794(0x194)}),_0x379171=document['createElement']('a');_0x379171['href']=URL[_0x4c1794(0x1d2)](_0x300e08),_0x379171[_0x4c1794(0x1eb)]=_0x4c1794(0x269),_0x379171[_0x4c1794(0x1e6)]();}),document[_0x74e547(0x1c1)](_0x74e547(0x220))[_0x74e547(0x204)](_0x74e547(0x1e6),()=>{const _0x32ae30=_0x74e547,_0x13b784=document['getElementById'](_0x32ae30(0x16b)),_0x3394cf=document[_0x32ae30(0x1c1)](_0x32ae30(0x1a4)),_0x2eddee=document[_0x32ae30(0x1c1)](_0x32ae30(0x1f7));_0x3394cf[_0x32ae30(0x19a)][_0x32ae30(0x266)](_0x32ae30(0x190)),_0x2eddee[_0x32ae30(0x1b2)]='',currentConfirmAction=async()=>{const _0x596642=_0x32ae30;if(_0x2eddee['value'][_0x596642(0x212)]()[_0x596642(0x14a)]()!==_0x596642(0x282))return;const _0x5dcd08=writeBatch(db);allEmployeesData[_0x596642(0x248)](_0x58d1e7=>{const _0x9df29f=_0x596642;_0x5dcd08[_0x9df29f(0x16f)](doc(db,_0x9df29f(0x198),_0x58d1e7['id']),{'DateLogin':null,'RandomTime':null,'AwardedGift':'','AwardedGiftId':null,'ReceivedTime':null,'MobileId':''});}),await _0x5dcd08[_0x596642(0x202)](),document[_0x596642(0x1c1)]('confirmModal')['classList'][_0x596642(0x174)](_0x596642(0x190));},document['getElementById'](_0x32ae30(0x21d))['textContent']=_0x32ae30(0x200),document[_0x32ae30(0x1c1)](_0x32ae30(0x114))[_0x32ae30(0x203)]=_0x32ae30(0x18b),document['getElementById']('confirmModal')[_0x32ae30(0x19a)][_0x32ae30(0x266)](_0x32ae30(0x190));});}function updateGroupRandomUI(){const _0x40e8fa=_0x21551b,_0x5aaacb=allEmployeesData[_0x40e8fa(0x224)](_0x4abc4f=>_0x4abc4f['DateLogin']&&_0x4abc4f['invite']===_0x40e8fa(0x297)),_0x5be1c8=_0x5aaacb[_0x40e8fa(0x224)](_0x160843=>_0x160843[_0x40e8fa(0x25e)])[_0x40e8fa(0x2a8)]((_0x2825b4,_0x5185ee)=>(_0x5185ee[_0x40e8fa(0x25e)]?.[_0x40e8fa(0x17a)]()||0x0)-(_0x2825b4[_0x40e8fa(0x25e)]?.['toMillis']()||0x0)),_0x3cc885=_0x5aaacb[_0x40e8fa(0x224)](_0x3dbdeb=>!_0x3dbdeb[_0x40e8fa(0x25e)]);if(document[_0x40e8fa(0x1c1)](_0x40e8fa(0x243)))document[_0x40e8fa(0x1c1)]('grTotalEligible')[_0x40e8fa(0x203)]=_0x5aaacb[_0x40e8fa(0x296)];if(document[_0x40e8fa(0x1c1)](_0x40e8fa(0x11b)))document['getElementById']('grRemainingEligible')[_0x40e8fa(0x203)]=_0x3cc885[_0x40e8fa(0x296)];if(document[_0x40e8fa(0x1c1)]('grTotalWinners'))document[_0x40e8fa(0x1c1)](_0x40e8fa(0x179))[_0x40e8fa(0x203)]=_0x5be1c8[_0x40e8fa(0x296)];}
    </script>
</body>

</html>
